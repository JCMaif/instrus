(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ew(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),n}var sp={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function tw(){if(g_)return Nl;g_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var y_;function nw(){return y_||(y_=1,sp.exports=tw()),sp.exports}var J=nw(),op={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function rw(){if(v_)return De;v_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,G={};function z(A,F,W){this.props=A,this.context=F,this.refs=G,this.updater=W||D}z.prototype.isReactComponent={},z.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Y(){}Y.prototype=z.prototype;function ue(A,F,W){this.props=A,this.context=F,this.refs=G,this.updater=W||D}var re=ue.prototype=new Y;re.constructor=ue,M(re,z.prototype),re.isPureReactComponent=!0;var pe=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function k(A,F,W,X,he,_e){return W=_e.ref,{$$typeof:i,type:A,key:F,ref:W!==void 0?W:null,props:_e}}function O(A,F){return k(A.type,F,void 0,void 0,void 0,A.props)}function C(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function N(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return F[W]})}var P=/\/+/g;function I(A,F){return typeof A=="object"&&A!==null&&A.key!=null?N(""+A.key):F.toString(36)}function R(){}function ne(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(R,R):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ee(A,F,W,X,he){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var ye=!1;if(A===null)ye=!0;else switch(_e){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(A.$$typeof){case i:case e:ye=!0;break;case v:return ye=A._init,ee(ye(A._payload),F,W,X,he)}}if(ye)return he=he(A),ye=X===""?"."+I(A,0):X,pe(he)?(W="",ye!=null&&(W=ye.replace(P,"$&/")+"/"),ee(he,F,W,"",function(Yt){return Yt})):he!=null&&(C(he)&&(he=O(he,W+(he.key==null||A&&A.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+ye)),F.push(he)),1;ye=0;var Fe=X===""?".":X+":";if(pe(A))for(var qe=0;qe<A.length;qe++)X=A[qe],_e=Fe+I(X,qe),ye+=ee(X,F,W,_e,he);else if(qe=S(A),typeof qe=="function")for(A=qe.call(A),qe=0;!(X=A.next()).done;)X=X.value,_e=Fe+I(X,qe++),ye+=ee(X,F,W,_e,he);else if(_e==="object"){if(typeof A.then=="function")return ee(ne(A),F,W,X,he);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ye}function q(A,F,W){if(A==null)return A;var X=[],he=0;return ee(A,X,"","",function(_e){return F.call(W,_e,he++)}),X}function V(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var ie=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function se(){}return De.Children={map:q,forEach:function(A,F,W){q(A,function(){F.apply(this,arguments)},W)},count:function(A){var F=0;return q(A,function(){F++}),F},toArray:function(A){return q(A,function(F){return F})||[]},only:function(A){if(!C(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},De.Component=z,De.Fragment=n,De.Profiler=o,De.PureComponent=ue,De.StrictMode=a,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,De.__COMPILER_RUNTIME={__proto__:null,c:function(A){return de.H.useMemoCache(A)}},De.cache=function(A){return function(){return A.apply(null,arguments)}},De.cloneElement=function(A,F,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=M({},A.props),he=A.key,_e=void 0;if(F!=null)for(ye in F.ref!==void 0&&(_e=void 0),F.key!==void 0&&(he=""+F.key),F)!ge.call(F,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&F.ref===void 0||(X[ye]=F[ye]);var ye=arguments.length-2;if(ye===1)X.children=W;else if(1<ye){for(var Fe=Array(ye),qe=0;qe<ye;qe++)Fe[qe]=arguments[qe+2];X.children=Fe}return k(A.type,he,void 0,void 0,_e,X)},De.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},De.createElement=function(A,F,W){var X,he={},_e=null;if(F!=null)for(X in F.key!==void 0&&(_e=""+F.key),F)ge.call(F,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(he[X]=F[X]);var ye=arguments.length-2;if(ye===1)he.children=W;else if(1<ye){for(var Fe=Array(ye),qe=0;qe<ye;qe++)Fe[qe]=arguments[qe+2];he.children=Fe}if(A&&A.defaultProps)for(X in ye=A.defaultProps,ye)he[X]===void 0&&(he[X]=ye[X]);return k(A,_e,void 0,void 0,null,he)},De.createRef=function(){return{current:null}},De.forwardRef=function(A){return{$$typeof:d,render:A}},De.isValidElement=C,De.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:V}},De.memo=function(A,F){return{$$typeof:g,type:A,compare:F===void 0?null:F}},De.startTransition=function(A){var F=de.T,W={};de.T=W;try{var X=A(),he=de.S;he!==null&&he(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(se,ie)}catch(_e){ie(_e)}finally{de.T=F}},De.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},De.use=function(A){return de.H.use(A)},De.useActionState=function(A,F,W){return de.H.useActionState(A,F,W)},De.useCallback=function(A,F){return de.H.useCallback(A,F)},De.useContext=function(A){return de.H.useContext(A)},De.useDebugValue=function(){},De.useDeferredValue=function(A,F){return de.H.useDeferredValue(A,F)},De.useEffect=function(A,F,W){var X=de.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(A,F)},De.useId=function(){return de.H.useId()},De.useImperativeHandle=function(A,F,W){return de.H.useImperativeHandle(A,F,W)},De.useInsertionEffect=function(A,F){return de.H.useInsertionEffect(A,F)},De.useLayoutEffect=function(A,F){return de.H.useLayoutEffect(A,F)},De.useMemo=function(A,F){return de.H.useMemo(A,F)},De.useOptimistic=function(A,F){return de.H.useOptimistic(A,F)},De.useReducer=function(A,F,W){return de.H.useReducer(A,F,W)},De.useRef=function(A){return de.H.useRef(A)},De.useState=function(A){return de.H.useState(A)},De.useSyncExternalStore=function(A,F,W){return de.H.useSyncExternalStore(A,F,W)},De.useTransition=function(){return de.H.useTransition()},De.version="19.1.0",De}var __;function fo(){return __||(__=1,op.exports=rw()),op.exports}var $=fo();const Qa=rm($);var lp={exports:{}},Pl={},up={exports:{}},cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function iw(){return E_||(E_=1,function(i){function e(q,V){var ie=q.length;q.push(V);e:for(;0<ie;){var se=ie-1>>>1,A=q[se];if(0<o(A,V))q[se]=V,q[ie]=A,ie=se;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var V=q[0],ie=q.pop();if(ie!==V){q[0]=ie;e:for(var se=0,A=q.length,F=A>>>1;se<F;){var W=2*(se+1)-1,X=q[W],he=W+1,_e=q[he];if(0>o(X,ie))he<A&&0>o(_e,X)?(q[se]=_e,q[he]=ie,se=he):(q[se]=X,q[W]=ie,se=W);else if(he<A&&0>o(_e,ie))q[se]=_e,q[he]=ie,se=he;else break e}}return V}function o(q,V){var ie=q.sortIndex-V.sortIndex;return ie!==0?ie:q.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var m=[],g=[],v=1,T=null,S=3,D=!1,M=!1,G=!1,z=!1,Y=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe(q){for(var V=n(g);V!==null;){if(V.callback===null)a(g);else if(V.startTime<=q)a(g),V.sortIndex=V.expirationTime,e(m,V);else break;V=n(g)}}function de(q){if(G=!1,pe(q),!M)if(n(m)!==null)M=!0,ge||(ge=!0,I());else{var V=n(g);V!==null&&ee(de,V.startTime-q)}}var ge=!1,k=-1,O=5,C=-1;function N(){return z?!0:!(i.unstable_now()-C<O)}function P(){if(z=!1,ge){var q=i.unstable_now();C=q;var V=!0;try{e:{M=!1,G&&(G=!1,ue(k),k=-1),D=!0;var ie=S;try{t:{for(pe(q),T=n(m);T!==null&&!(T.expirationTime>q&&N());){var se=T.callback;if(typeof se=="function"){T.callback=null,S=T.priorityLevel;var A=se(T.expirationTime<=q);if(q=i.unstable_now(),typeof A=="function"){T.callback=A,pe(q),V=!0;break t}T===n(m)&&a(m),pe(q)}else a(m);T=n(m)}if(T!==null)V=!0;else{var F=n(g);F!==null&&ee(de,F.startTime-q),V=!1}}break e}finally{T=null,S=ie,D=!1}V=void 0}}finally{V?I():ge=!1}}}var I;if(typeof re=="function")I=function(){re(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=P,I=function(){ne.postMessage(null)}}else I=function(){Y(P,0)};function ee(q,V){k=Y(function(){q(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(q){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var ie=S;S=V;try{return q()}finally{S=ie}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=S;S=q;try{return V()}finally{S=ie}},i.unstable_scheduleCallback=function(q,V,ie){var se=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?se+ie:se):ie=se,q){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ie+A,q={id:v++,callback:V,priorityLevel:q,startTime:ie,expirationTime:A,sortIndex:-1},ie>se?(q.sortIndex=ie,e(g,q),n(m)===null&&q===n(g)&&(G?(ue(k),k=-1):G=!0,ee(de,ie-se))):(q.sortIndex=A,e(m,q),M||D||(M=!0,ge||(ge=!0,I()))),q},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(q){var V=S;return function(){var ie=S;S=V;try{return q.apply(this,arguments)}finally{S=ie}}}}(cp)),cp}var T_;function aw(){return T_||(T_=1,up.exports=iw()),up.exports}var hp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function sw(){if(b_)return nn;b_=1;var i=fo();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},nn.flushSync=function(m){var g=f.T,v=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=g,a.p=v,a.d.f()}},nn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},nn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},nn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):v==="script"&&a.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},nn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);a.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},nn.requestFormReset=function(m){a.d.r(m)},nn.unstable_batchedUpdates=function(m,g){return m(g)},nn.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var S_;function S0(){if(S_)return hp.exports;S_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hp.exports=sw(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function ow(){if(A_)return Pl;A_=1;var i=aw(),e=fo(),n=S0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(a(188))}function m(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return d(h),t;if(p===l)return d(h),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=p;else{for(var E=!1,b=h.child;b;){if(b===s){E=!0,s=h,l=p;break}if(b===l){E=!0,l=h,s=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===s){E=!0,s=p,l=h;break}if(b===l){E=!0,l=p,s=h;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case z:return"Profiler";case G:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ue:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:ne(t.type)||"Memo";case O:r=t._payload,t=t._init;try{return ne(t(r))}catch{}}return null}var ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},se=[],A=-1;function F(t){return{current:t}}function W(t){0>A||(t.current=se[A],se[A]=null,A--)}function X(t,r){A++,se[A]=t.current,t.current=r}var he=F(null),_e=F(null),ye=F(null),Fe=F(null);function qe(t,r){switch(X(ye,r),X(_e,t),X(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Fv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Fv(r),t=Gv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(he),X(he,t)}function Yt(){W(he),W(_e),W(ye)}function $t(t){t.memoizedState!==null&&X(Fe,t);var r=he.current,s=Gv(r,t.type);r!==s&&(X(_e,t),X(he,s))}function ft(t){_e.current===t&&(W(he),W(_e)),Fe.current===t&&(W(Fe),Rl._currentValue=ie)}var Xt=Object.prototype.hasOwnProperty,Wt=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,tt=i.unstable_shouldYield,zt=i.unstable_requestPaint,rt=i.unstable_now,lt=i.unstable_getCurrentPriorityLevel,tr=i.unstable_ImmediatePriority,nr=i.unstable_UserBlockingPriority,Jt=i.unstable_NormalPriority,On=i.unstable_LowPriority,Hn=i.unstable_IdlePriority,ca=i.log,gu=i.unstable_setDisableYieldValue,dt=null,Ye=null;function vn(t){if(typeof ca=="function"&&gu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(dt,t)}catch{}}var en=Math.clz32?Math.clz32:ha,yu=Math.log,lf=Math.LN2;function ha(t){return t>>>=0,t===0?32:31-(yu(t)/lf|0)|0}var fa=256,da=4194304;function Fn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,p=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?h=Fn(l):(E&=b,E!==0?h=Fn(E):s||(s=b&~t,s!==0&&(h=Fn(s))))):(b=l&~p,b!==0?h=Fn(b):E!==0?h=Fn(E):s||(s=l&~t,s!==0&&(h=Fn(s)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:h}function pa(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ro(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=fa;return fa<<=1,(fa&4194048)===0&&(fa=256),t}function Io(){var t=da;return da<<=1,(da&62914560)===0&&(da=4194304),t}function Dr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Nr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,r,s,l,h,p){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(s=E&~s;0<s;){var te=31-en(s),oe=1<<te;b[te]=0,x[te]=-1;var K=H[te];if(K!==null)for(H[te]=null,te=0;te<K.length;te++){var Q=K[te];Q!==null&&(Q.lane&=-536870913)}s&=~oe}l!==0&&rr(t,l,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(E&~r))}function rr(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Do(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pi(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:c_(t.type))}function vu(t,r){var s=V.p;try{return V.p=t,r()}finally{V.p=s}}var at=Math.random().toString(36).slice(2),wt="__reactFiber$"+at,Et="__reactProps$"+at,Dn="__reactContainer$"+at,No="__reactEvents$"+at,uf="__reactListeners$"+at,mi="__reactHandles$"+at,_u="__reactResources$"+at,ma="__reactMarker$"+at;function gi(t){delete t[wt],delete t[Et],delete t[No],delete t[uf],delete t[mi]}function Pr(t){var r=t[wt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Dn]||s[wt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=$v(t);t!==null;){if(s=t[wt])return s;t=$v(t)}return r}t=s,s=t.parentNode}return null}function ir(t){if(t=t[wt]||t[Dn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ar(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function un(t){var r=t[_u];return r||(r=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[ma]=!0}var Po=new Set,as={};function Gn(t,r){Mr(t,r),Mr(t+"Capture",r)}function Mr(t,r){for(as[t]=r,t=0;t<r.length;t++)Po.add(r[t])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},ga={};function bu(t){return Xt.call(ga,t)?!0:Xt.call(Tu,t)?!1:Eu.test(t)?ga[t]=!0:(Tu[t]=!0,!1)}function yi(t,r,s){if(bu(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function sr(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function jt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var ya,Su;function xr(t){if(ya===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ya=r&&r[1]||"",Su=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+t+Su}var ss=!1;function os(t,r){if(!t||ss)return"";ss=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var K=Q}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(Q){K=Q}t.call(oe.prototype)}}else{try{throw Error()}catch(Q){K=Q}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var x=E.split(`
`),H=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===H.length)for(l=x.length-1,h=H.length-1;1<=l&&0<=h&&x[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==H[h]){var te=`
`+x[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{ss=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?xr(s):""}function Mo(t){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return os(t.type,!1);case 11:return os(t.type.render,!1);case 1:return os(t.type,!0);case 31:return xr("Activity");default:return""}}function ls(t){try{var r="";do r+=Mo(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cf(t){var r=xo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function us(t){t._valueTracker||(t._valueTracker=cf(t))}function ko(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=xo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hf=/[\n"\\]/g;function Tt(t){return t.replace(hf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(t,r,s,l,h,p,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+cn(r)):t.value!==""+cn(r)&&(t.value=""+cn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?vi(t,E,cn(r)):s!=null?vi(t,E,cn(s)):l!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+cn(b):t.removeAttribute("name")}function _a(t,r,s,l,h,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;s=s!=null?""+cn(s):"",r=r!=null?""+cn(r):s,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function vi(t,r,s){r==="number"&&va(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function kr(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+cn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function We(t,r,s){if(r!=null&&(r=""+cn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+cn(s):""}function Ea(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ee(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=cn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Nn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Ta.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Vo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Au(t,h,l)}else for(var p in r)r.hasOwnProperty(p)&&Au(t,p,r[p])}function Lo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(t){return df.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Ur=null;function Uo(t){var r=ir(t);if(r&&(t=r.stateNode)){var s=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(_n(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(a(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&ko(l)}break e;case"textarea":We(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&kr(t,!!s.multiple,r,!1)}}}var or=!1;function wu(t,r,s){if(or)return t(r,s);or=!0;try{var l=t(r);return l}finally{if(or=!1,(Lr!==null||Ur!==null)&&(vc(),Lr&&(r=Lr,t=Ur,Ur=Lr=null,Uo(r),t)))for(r=0;r<t.length;r++)Uo(t[r])}}function ba(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Kn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Mn=!1}var lr=null,_i=null,zr=null;function zo(){if(zr)return zr;var t,r=_i,s=r.length,l,h="value"in lr?lr.value:lr.textContent,p=h.length;for(t=0;t<s&&r[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&r[s-l]===h[p-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function ur(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function cr(){return!0}function jo(){return!1}function Mt(t){function r(s,l,h,p,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?cr:jo,this.isPropagationStopped=jo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=Mt(Ke),Aa=v({},Ke,{view:0,detail:0}),Ru=Mt(Aa),fs,ds,hr,wa=v({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hr&&(hr&&t.type==="mousemove"?(fs=t.screenX-hr.screenX,ds=t.screenY-hr.screenY):ds=fs=0,hr=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),xn=Mt(wa),Cu=v({},wa,{dataTransfer:0}),pf=Mt(Cu),Ra=v({},Aa,{relatedTarget:0}),ps=Mt(Ra),Bo=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=Mt(Bo),Iu=v({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gs=Mt(Iu),mf=v({},Ke,{data:0}),qo=Mt(mf),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Du[t])?!!r[t]:!1}function Ia(){return Ho}var Nu=v({},Aa,{key:function(t){if(t.key){var r=Ca[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ys=Mt(Nu),Pu=v({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Mt(Pu),jr=v({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Mu=Mt(jr),xu=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Mt(xu),Vu=v({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vs=Mt(Vu),hn=v({},Ke,{newState:0,oldState:0}),Lu=Mt(hn),Uu=[9,13,27,32],fr=Kn&&"CompositionEvent"in window,c=null;Kn&&"documentMode"in document&&(c=document.documentMode);var y=Kn&&"TextEvent"in window&&!c,_=Kn&&(!fr||c&&8<c&&11>=c),w=" ",j=!1;function Z(t,r){switch(t){case"keyup":return Uu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Rt(t,r){switch(t){case"compositionend":return fe(r);case"keypress":return r.which!==32?null:(j=!0,w);case"textInput":return t=r.data,t===w&&j?null:t;default:return null}}function ze(t,r){if(Ue)return t==="compositionend"||!fr&&Z(t,r)?(t=zo(),zr=_i=lr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!xt[t.type]:r==="textarea"}function Br(t,r,s,l){Lr?Ur?Ur.push(l):Ur=[l]:Lr=l,r=Ac(r,"onChange"),0<r.length&&(s=new hs("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Bt=null,dr=null;function Go(t){zv(t,0)}function zu(t){var r=ar(t);if(ko(r))return t}function sg(t,r){if(t==="change")return r}var og=!1;if(Kn){var gf;if(Kn){var yf="oninput"in document;if(!yf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),yf=typeof lg.oninput=="function"}gf=yf}else gf=!1;og=gf&&(!document.documentMode||9<document.documentMode)}function ug(){Bt&&(Bt.detachEvent("onpropertychange",cg),dr=Bt=null)}function cg(t){if(t.propertyName==="value"&&zu(dr)){var r=[];Br(r,dr,t,Pn(t)),wu(Go,r)}}function DS(t,r,s){t==="focusin"?(ug(),Bt=r,dr=s,Bt.attachEvent("onpropertychange",cg)):t==="focusout"&&ug()}function NS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(dr)}function PS(t,r){if(t==="click")return zu(r)}function MS(t,r){if(t==="input"||t==="change")return zu(r)}function xS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:xS;function Ko(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Xt.call(r,h)||!En(t[h],r[h]))return!1}return!0}function hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,r){var s=hg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hg(s)}}function dg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?dg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=va(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=va(t.document)}return r}function vf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var kS=Kn&&"documentMode"in document&&11>=document.documentMode,_s=null,_f=null,Qo=null,Ef=!1;function mg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ef||_s==null||_s!==va(l)||(l=_s,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Ko(Qo,l)||(Qo=l,l=Ac(_f,"onSelect"),0<l.length&&(r=new hs("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=_s)))}function Oa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Es={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Tf={},gg={};Kn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Da(t){if(Tf[t])return Tf[t];if(!Es[t])return t;var r=Es[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in gg)return Tf[t]=r[s];return t}var yg=Da("animationend"),vg=Da("animationiteration"),_g=Da("animationstart"),VS=Da("transitionrun"),LS=Da("transitionstart"),US=Da("transitioncancel"),Eg=Da("transitionend"),Tg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Qn(t,r){Tg.set(t,r),Gn(r,[t])}var bg=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var s=bg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ls(r)},bg.set(t,r),r)}return{value:t,source:r,stack:ls(r)}}var Vn=[],Ts=0,Sf=0;function ju(){for(var t=Ts,r=Sf=Ts=0;r<t;){var s=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var p=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}p!==0&&Sg(s,h,p)}}function Bu(t,r,s,l){Vn[Ts++]=t,Vn[Ts++]=r,Vn[Ts++]=s,Vn[Ts++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,r,s,l){return Bu(t,r,s,l),qu(t)}function bs(t,r){return Bu(t,null,null,r),qu(t)}function Sg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&r!==null&&(h=31-en(s),t=p.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),p):null}function qu(t){if(50<vl)throw vl=0,Dd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ss={};function zS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,s,l){return new zS(t,r,s,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,r){var s=t.alternate;return s===null?(s=Tn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ag(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Hu(t,r,s,l,h,p){var E=0;if(l=t,typeof t=="function")wf(t)&&(E=1);else if(typeof t=="string")E=BA(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,s,r,h),t.elementType=C,t.lanes=p,t;case M:return Na(s.children,h,p,r);case G:E=8,h|=24;break;case z:return t=Tn(12,s,r,h|2),t.elementType=z,t.lanes=p,t;case de:return t=Tn(13,s,r,h),t.elementType=de,t.lanes=p,t;case ge:return t=Tn(19,s,r,h),t.elementType=ge,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case re:E=10;break e;case ue:E=9;break e;case pe:E=11;break e;case k:E=14;break e;case O:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Tn(E,s,r,h),r.elementType=t,r.type=l,r.lanes=p,r}function Na(t,r,s,l){return t=Tn(7,t,l,r),t.lanes=s,t}function Rf(t,r,s){return t=Tn(6,t,null,r),t.lanes=s,t}function Cf(t,r,s){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var As=[],ws=0,Fu=null,Gu=0,Ln=[],Un=0,Pa=null,Hr=1,Fr="";function Ma(t,r){As[ws++]=Gu,As[ws++]=Fu,Fu=t,Gu=r}function wg(t,r,s){Ln[Un++]=Hr,Ln[Un++]=Fr,Ln[Un++]=Pa,Pa=t;var l=Hr;t=Fr;var h=32-en(l)-1;l&=~(1<<h),s+=1;var p=32-en(r)+h;if(30<p){var E=h-h%5;p=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Hr=1<<32-en(r)+h|s<<h|l,Fr=p+t}else Hr=1<<p|s<<h|l,Fr=t}function If(t){t.return!==null&&(Ma(t,1),wg(t,1,0))}function Of(t){for(;t===Fu;)Fu=As[--ws],As[ws]=null,Gu=As[--ws],As[ws]=null;for(;t===Pa;)Pa=Ln[--Un],Ln[Un]=null,Fr=Ln[--Un],Ln[Un]=null,Hr=Ln[--Un],Ln[Un]=null}var fn=null,pt=null,Ge=!1,xa=null,pr=!1,Df=Error(a(519));function ka(t){var r=Error(a(418,""));throw Xo(kn(r,t)),Df}function Rg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[wt]=t,r[Et]=l,s){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<El.length;s++)ke(El[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),_a(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),us(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Ea(r,l.value,l.defaultValue,l.children),us(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Hv(r.textContent,s)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=wc),r=!0):r=!1,r||ka(t)}function Cg(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:fn=fn.return}}function Yo(t){if(t!==fn)return!1;if(!Ge)return Cg(t),Ge=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Kd(t.type,t.memoizedProps)),s=!s),s&&pt&&ka(t),Cg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){pt=$n(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}pt=null}}else r===27?(r=pt,ki(t.type)?(t=Xd,Xd=null,pt=t):pt=r):pt=fn?$n(t.stateNode.nextSibling):null;return!0}function $o(){pt=fn=null,Ge=!1}function Ig(){var t=xa;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),xa=null),t}function Xo(t){xa===null?xa=[t]:xa.push(t)}var Nf=F(null),Va=null,Gr=null;function Ei(t,r,s){X(Nf,r._currentValue),r._currentValue=s}function Kr(t){t._currentValue=Nf.current,W(Nf)}function Pf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Mf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=h;for(var x=0;x<r.length;x++)if(b.context===r[x]){p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),Pf(p.return,s,t),l||(E=null);break e}p=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),Pf(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Wo(t,r,s,l){t=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=h.type;En(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===Fe.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Mf(r,t,s,l),r.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function La(t){Va=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Og(Va,t)}function Qu(t,r){return Va===null&&La(t),Og(t,r)}function Og(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Gr===null){if(t===null)throw Error(a(308));Gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gr=Gr.next=r;return s}var jS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},BS=i.unstable_scheduleCallback,qS=i.unstable_NormalPriority,It={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new jS,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&BS(qS,function(){t.controller.abort()})}var Jo=null,kf=0,Rs=0,Cs=null;function HS(t,r){if(Jo===null){var s=Jo=[];kf=0,Rs=Ld(),Cs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return kf++,r.then(Dg,Dg),r}function Dg(){if(--kf===0&&Jo!==null){Cs!==null&&(Cs.status="fulfilled");var t=Jo;Jo=null,Rs=0,Cs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function FS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Ng=q.S;q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&HS(t,r),Ng!==null&&Ng(t,r)};var Ua=F(null);function Vf(){var t=Ua.current;return t!==null?t:it.pooledCache}function Yu(t,r){r===null?X(Ua,Ua.current):X(Ua,r.pool)}function Pg(){var t=Vf();return t===null?null:{parent:It._currentValue,pool:t}}var el=Error(a(460)),Mg=Error(a(474)),$u=Error(a(542)),Lf={then:function(){}};function xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function kg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Xu,Xu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Lg(t),t;default:if(typeof r.status=="string")r.then(Xu,Xu);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Lg(t),t}throw tl=r,el}}var tl=null;function Vg(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function Lg(t){if(t===el||t===$u)throw Error(a(483))}var Ti=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Si(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=qu(t),Sg(t,null,s),r}return Bu(t,l,r,s),qu(t)}function nl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Do(t,s)}}function jf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?h=p=r:p=p.next=r}else h=p=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Bf=!1;function rl(){if(Bf){var t=Cs;if(t!==null)throw t}}function il(t,r,s,l){Bf=!1;var h=t.updateQueue;Ti=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,H=x.next;x.next=null,E===null?p=H:E.next=H,E=x;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=H:b.next=H,te.lastBaseUpdate=x))}if(p!==null){var oe=h.baseState;E=0,te=H=x=null,b=p;do{var K=b.lane&-536870913,Q=K!==b.lane;if(Q?(je&K)===K:(l&K)===K){K!==0&&K===Rs&&(Bf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Re=t,Se=b;K=r;var et=s;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){oe=Re.call(et,oe,K);break e}oe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,K=typeof Re=="function"?Re.call(et,oe,K):Re,K==null)break e;oe=v({},oe,K);break e;case 2:Ti=!0}}K=b.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(H=te=Q,x=oe):te=te.next=Q,E|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);te===null&&(x=oe),h.baseState=x,h.firstBaseUpdate=H,h.lastBaseUpdate=te,p===null&&(h.shared.lanes=0),Ni|=E,t.lanes=E,t.memoizedState=oe}}function Ug(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function zg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ug(s[t],r)}var Is=F(null),Wu=F(0);function jg(t,r){t=Jr,X(Wu,t),X(Is,r),Jr=t|r.baseLanes}function qf(){X(Wu,Jr),X(Is,Is.current)}function Hf(){Jr=Wu.current,W(Is),W(Wu)}var Ai=0,Ne=null,Ze=null,bt=null,Zu=!1,Os=!1,za=!1,Ju=0,al=0,Ds=null,GS=0;function yt(){throw Error(a(321))}function Ff(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!En(t[s],r[s]))return!1;return!0}function Gf(t,r,s,l,h,p){return Ai=p,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=t===null||t.memoizedState===null?Sy:Ay,za=!1,p=s(l,h),za=!1,Os&&(p=qg(r,s,l,h)),Bg(t),p}function Bg(t){q.H=ac;var r=Ze!==null&&Ze.next!==null;if(Ai=0,bt=Ze=Ne=null,Zu=!1,al=0,Ds=null,r)throw Error(a(300));t===null||kt||(t=t.dependencies,t!==null&&Ku(t)&&(kt=!0))}function qg(t,r,s,l){Ne=t;var h=0;do{if(Os&&(Ds=null),al=0,Os=!1,25<=h)throw Error(a(301));if(h+=1,bt=Ze=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=ZS,p=r(s,l)}while(Os);return p}function KS(){var t=q.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Kf(){var t=Ju!==0;return Ju=0,t}function Qf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Yf(t){if(Zu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Zu=!1}Ai=0,bt=Ze=Ne=null,Os=!1,al=Ju=0,Ds=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ne.memoizedState=bt=t:bt=bt.next=t,bt}function St(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=bt===null?Ne.memoizedState:bt.next;if(r!==null)bt=r,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Ne.memoizedState=bt=t:bt=bt.next=t}return bt}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=al;return al+=1,Ds===null&&(Ds=[]),t=kg(Ds,t,r),r=Ne,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Sy:Ay),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===re)return tn(t)}throw Error(a(438,String(t)))}function Xf(t){var r=null,s=Ne.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=$f(),Ne.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=N;return r.index++,s}function Qr(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=St();return Wf(r,Ze,t)}function Wf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,p=l.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}r.baseQueue=h=p,l.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{r=h.next;var b=E=null,x=null,H=r,te=!1;do{var oe=H.lane&-536870913;if(oe!==H.lane?(je&oe)===oe:(Ai&oe)===oe){var K=H.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),oe===Rs&&(te=!0);else if((Ai&K)===K){H=H.next,K===Rs&&(te=!0);continue}else oe={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(b=x=oe,E=p):x=x.next=oe,Ne.lanes|=K,Ni|=K;oe=H.action,za&&s(p,oe),p=H.hasEagerState?H.eagerState:s(p,oe)}else K={lane:oe,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(b=x=K,E=p):x=x.next=K,Ne.lanes|=oe,Ni|=oe;H=H.next}while(H!==null&&H!==r);if(x===null?E=p:x.next=b,!En(p,t.memoizedState)&&(kt=!0,te&&(s=Cs,s!==null)))throw s;t.memoizedState=p,t.baseState=E,t.baseQueue=x,l.lastRenderedState=p}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zf(t){var r=St(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,p=r.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do p=t(p,E.action),E=E.next;while(E!==h);En(p,r.memoizedState)||(kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function Hg(t,r,s){var l=Ne,h=St(),p=Ge;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!En((Ze||h).memoizedState,s);E&&(h.memoizedState=s,kt=!0),h=h.queue;var b=Kg.bind(null,l,h,t);if(ol(2048,8,b,[t]),h.getSnapshot!==r||E||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ns(9,nc(),Gg.bind(null,l,h,s,r),null),it===null)throw Error(a(349));p||(Ai&124)!==0||Fg(l,r,s)}return s}function Fg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ne.updateQueue,r===null?(r=$f(),Ne.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Gg(t,r,s,l){r.value=s,r.getSnapshot=l,Qg(r)&&Yg(t)}function Kg(t,r,s){return s(function(){Qg(r)&&Yg(t)})}function Qg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!En(t,s)}catch{return!0}}function Yg(t){var r=bs(t,2);r!==null&&Rn(r,t,2)}function Jf(t){var r=dn();if(typeof t=="function"){var s=t;if(t=s(),za){vn(!0);try{s()}finally{vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:t},r}function $g(t,r,s,l){return t.baseState=s,Wf(t,Ze,typeof l=="function"?l:Qr)}function QS(t,r,s,l,h){if(ic(t))throw Error(a(485));if(t=r.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};q.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Xg(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Xg(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var p=q.T,E={};q.T=E;try{var b=s(h,l),x=q.S;x!==null&&x(E,b),Wg(t,r,b)}catch(H){ed(t,r,H)}finally{q.T=p}}else try{p=s(h,l),Wg(t,r,p)}catch(H){ed(t,r,H)}}function Wg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Zg(t,r,l)},function(l){return ed(t,r,l)}):Zg(t,r,s)}function Zg(t,r,s){r.status="fulfilled",r.value=s,Jg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Xg(t,s)))}function ed(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Jg(r),r=r.next;while(r!==l)}t.action=null}function Jg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ey(t,r){return r}function ty(t,r){if(Ge){var s=it.formState;if(s!==null){e:{var l=Ne;if(Ge){if(pt){t:{for(var h=pt,p=pr;h.nodeType!==8;){if(!p){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){pt=$n(h.nextSibling),l=h.data==="F!";break e}}ka(l)}l=!1}l&&(r=s[0])}}return s=dn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:r},s.queue=l,s=Ey.bind(null,Ne,l),l.dispatch=s,l=Jf(!1),p=ad.bind(null,Ne,!1,l.queue),l=dn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=QS.bind(null,Ne,h,p,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function ny(t){var r=St();return ry(r,Ze,t)}function ry(t,r,s){if(r=Wf(t,r,ey)[0],t=tc(Qr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(E){throw E===el?$u:E}else l=r;r=St();var h=r.queue,p=h.dispatch;return s!==r.memoizedState&&(Ne.flags|=2048,Ns(9,nc(),YS.bind(null,h,s),null)),[l,p,t]}function YS(t,r){t.action=r}function iy(t){var r=St(),s=Ze;if(s!==null)return ry(r,s,t);St(),r=r.memoizedState,s=St();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Ns(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=$f(),Ne.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function nc(){return{destroy:void 0,resource:void 0}}function ay(){return St().memoizedState}function rc(t,r,s,l){var h=dn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Ns(1|r,nc(),s,l)}function ol(t,r,s,l){var h=St();l=l===void 0?null:l;var p=h.memoizedState.inst;Ze!==null&&l!==null&&Ff(l,Ze.memoizedState.deps)?h.memoizedState=Ns(r,p,s,l):(Ne.flags|=t,h.memoizedState=Ns(1|r,p,s,l))}function sy(t,r){rc(8390656,8,t,r)}function oy(t,r){ol(2048,8,t,r)}function ly(t,r){return ol(4,2,t,r)}function uy(t,r){return ol(4,4,t,r)}function cy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function hy(t,r,s){s=s!=null?s.concat([t]):null,ol(4,4,cy.bind(null,r,t),s)}function td(){}function fy(t,r){var s=St();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Ff(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function dy(t,r){var s=St();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Ff(r,l[1]))return l[0];if(l=t(),za){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,r],l}function nd(t,r,s){return s===void 0||(Ai&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=gv(),Ne.lanes|=t,Ni|=t,s)}function py(t,r,s,l){return En(s,r)?s:Is.current!==null?(t=nd(t,s,l),En(t,r)||(kt=!0),t):(Ai&42)===0?(kt=!0,t.memoizedState=s):(t=gv(),Ne.lanes|=t,Ni|=t,r)}function my(t,r,s,l,h){var p=V.p;V.p=p!==0&&8>p?p:8;var E=q.T,b={};q.T=b,ad(t,!1,r,s);try{var x=h(),H=q.S;if(H!==null&&H(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var te=FS(x,l);ll(t,r,te,wn(t))}else ll(t,r,l,wn(t))}catch(oe){ll(t,r,{then:function(){},status:"rejected",reason:oe},wn())}finally{V.p=p,q.T=E}}function $S(){}function rd(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=gy(t).queue;my(t,h,r,ie,s===null?$S:function(){return yy(t),s(l)})}function gy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:ie},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function yy(t){var r=gy(t).next.queue;ll(t,r,{},wn())}function id(){return tn(Rl)}function vy(){return St().memoizedState}function _y(){return St().memoizedState}function XS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=wn();t=bi(s);var l=Si(r,t,s);l!==null&&(Rn(l,r,s),nl(l,r,s)),r={cache:xf()},t.payload=r;return}r=r.return}}function WS(t,r,s){var l=wn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ic(t)?Ty(r,s):(s=Af(t,r,s,l),s!==null&&(Rn(s,t,l),by(s,r,l)))}function Ey(t,r,s){var l=wn();ll(t,r,s,l)}function ll(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Ty(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,s);if(h.hasEagerState=!0,h.eagerState=b,En(b,E))return Bu(t,r,h,0),it===null&&ju(),!1}catch{}finally{}if(s=Af(t,r,h,l),s!==null)return Rn(s,t,l),by(s,r,l),!0}return!1}function ad(t,r,s,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(r)throw Error(a(479))}else r=Af(t,s,l,2),r!==null&&Rn(r,t,2)}function ic(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Ty(t,r){Os=Zu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function by(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Do(t,s)}}var ac={readContext:tn,use:ec,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Sy={readContext:tn,use:ec,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:tn,useEffect:sy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,rc(4194308,4,cy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return rc(4194308,4,t,r)},useInsertionEffect:function(t,r){rc(4,2,t,r)},useMemo:function(t,r){var s=dn();r=r===void 0?null:r;var l=t();if(za){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=dn();if(s!==void 0){var h=s(r);if(za){vn(!0);try{s(r)}finally{vn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=Jf(t);var r=t.queue,s=Ey.bind(null,Ne,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:td,useDeferredValue:function(t,r){var s=dn();return nd(s,t,r)},useTransition:function(){var t=Jf(!1);return t=my.bind(null,Ne,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Ne,h=dn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),it===null)throw Error(a(349));(je&124)!==0||Fg(l,r,s)}h.memoizedState=s;var p={value:s,getSnapshot:r};return h.queue=p,sy(Kg.bind(null,l,p,t),[t]),l.flags|=2048,Ns(9,nc(),Gg.bind(null,l,p,s,r),null),s},useId:function(){var t=dn(),r=it.identifierPrefix;if(Ge){var s=Fr,l=Hr;s=(l&~(1<<32-en(l)-1)).toString(32)+s,r=""+r+"R"+s,s=Ju++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=GS++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:id,useFormState:ty,useActionState:ty,useOptimistic:function(t){var r=dn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=ad.bind(null,Ne,!0,s),s.dispatch=r,[t,r]},useMemoCache:Xf,useCacheRefresh:function(){return dn().memoizedState=XS.bind(null,Ne)}},Ay={readContext:tn,use:ec,useCallback:fy,useContext:tn,useEffect:oy,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:tc,useRef:ay,useState:function(){return tc(Qr)},useDebugValue:td,useDeferredValue:function(t,r){var s=St();return py(s,Ze.memoizedState,t,r)},useTransition:function(){var t=tc(Qr)[0],r=St().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Hg,useId:vy,useHostTransitionStatus:id,useFormState:ny,useActionState:ny,useOptimistic:function(t,r){var s=St();return $g(s,Ze,t,r)},useMemoCache:Xf,useCacheRefresh:_y},ZS={readContext:tn,use:ec,useCallback:fy,useContext:tn,useEffect:oy,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:Zf,useRef:ay,useState:function(){return Zf(Qr)},useDebugValue:td,useDeferredValue:function(t,r){var s=St();return Ze===null?nd(s,t,r):py(s,Ze.memoizedState,t,r)},useTransition:function(){var t=Zf(Qr)[0],r=St().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Hg,useId:vy,useHostTransitionStatus:id,useFormState:iy,useActionState:iy,useOptimistic:function(t,r){var s=St();return Ze!==null?$g(s,Ze,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:_y},Ps=null,ul=0;function sc(t){var r=ul;return ul+=1,Ps===null&&(Ps=[]),kg(Ps,t,r)}function cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function oc(t,r){throw r.$$typeof===T?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function wy(t){var r=t._init;return r(t._payload)}function Ry(t){function r(U,L){if(t){var B=U.deletions;B===null?(U.deletions=[L],U.flags|=16):B.push(L)}}function s(U,L){if(!t)return null;for(;L!==null;)r(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function h(U,L){return U=qr(U,L),U.index=0,U.sibling=null,U}function p(U,L,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<L?(U.flags|=67108866,L):B):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,L,B,ae){return L===null||L.tag!==6?(L=Rf(B,U.mode,ae),L.return=U,L):(L=h(L,B),L.return=U,L)}function x(U,L,B,ae){var ve=B.type;return ve===M?te(U,L,B.props.children,ae,B.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===O&&wy(ve)===L.type)?(L=h(L,B.props),cl(L,B),L.return=U,L):(L=Hu(B.type,B.key,B.props,null,U.mode,ae),cl(L,B),L.return=U,L)}function H(U,L,B,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Cf(B,U.mode,ae),L.return=U,L):(L=h(L,B.children||[]),L.return=U,L)}function te(U,L,B,ae,ve){return L===null||L.tag!==7?(L=Na(B,U.mode,ae,ve),L.return=U,L):(L=h(L,B),L.return=U,L)}function oe(U,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Rf(""+L,U.mode,B),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return B=Hu(L.type,L.key,L.props,null,U.mode,B),cl(B,L),B.return=U,B;case D:return L=Cf(L,U.mode,B),L.return=U,L;case O:var ae=L._init;return L=ae(L._payload),oe(U,L,B)}if(ee(L)||I(L))return L=Na(L,U.mode,B,null),L.return=U,L;if(typeof L.then=="function")return oe(U,sc(L),B);if(L.$$typeof===re)return oe(U,Qu(U,L),B);oc(U,L)}return null}function K(U,L,B,ae){var ve=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ve!==null?null:b(U,L,""+B,ae);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ve?x(U,L,B,ae):null;case D:return B.key===ve?H(U,L,B,ae):null;case O:return ve=B._init,B=ve(B._payload),K(U,L,B,ae)}if(ee(B)||I(B))return ve!==null?null:te(U,L,B,ae,null);if(typeof B.then=="function")return K(U,L,sc(B),ae);if(B.$$typeof===re)return K(U,L,Qu(U,B),ae);oc(U,B)}return null}function Q(U,L,B,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return U=U.get(B)||null,b(L,U,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return U=U.get(ae.key===null?B:ae.key)||null,x(L,U,ae,ve);case D:return U=U.get(ae.key===null?B:ae.key)||null,H(L,U,ae,ve);case O:var Me=ae._init;return ae=Me(ae._payload),Q(U,L,B,ae,ve)}if(ee(ae)||I(ae))return U=U.get(B)||null,te(L,U,ae,ve,null);if(typeof ae.then=="function")return Q(U,L,B,sc(ae),ve);if(ae.$$typeof===re)return Q(U,L,B,Qu(L,ae),ve);oc(L,ae)}return null}function Re(U,L,B,ae){for(var ve=null,Me=null,Ee=L,Ae=L=0,Lt=null;Ee!==null&&Ae<B.length;Ae++){Ee.index>Ae?(Lt=Ee,Ee=null):Lt=Ee.sibling;var He=K(U,Ee,B[Ae],ae);if(He===null){Ee===null&&(Ee=Lt);break}t&&Ee&&He.alternate===null&&r(U,Ee),L=p(He,L,Ae),Me===null?ve=He:Me.sibling=He,Me=He,Ee=Lt}if(Ae===B.length)return s(U,Ee),Ge&&Ma(U,Ae),ve;if(Ee===null){for(;Ae<B.length;Ae++)Ee=oe(U,B[Ae],ae),Ee!==null&&(L=p(Ee,L,Ae),Me===null?ve=Ee:Me.sibling=Ee,Me=Ee);return Ge&&Ma(U,Ae),ve}for(Ee=l(Ee);Ae<B.length;Ae++)Lt=Q(Ee,U,Ae,B[Ae],ae),Lt!==null&&(t&&Lt.alternate!==null&&Ee.delete(Lt.key===null?Ae:Lt.key),L=p(Lt,L,Ae),Me===null?ve=Lt:Me.sibling=Lt,Me=Lt);return t&&Ee.forEach(function(ji){return r(U,ji)}),Ge&&Ma(U,Ae),ve}function Se(U,L,B,ae){if(B==null)throw Error(a(151));for(var ve=null,Me=null,Ee=L,Ae=L=0,Lt=null,He=B.next();Ee!==null&&!He.done;Ae++,He=B.next()){Ee.index>Ae?(Lt=Ee,Ee=null):Lt=Ee.sibling;var ji=K(U,Ee,He.value,ae);if(ji===null){Ee===null&&(Ee=Lt);break}t&&Ee&&ji.alternate===null&&r(U,Ee),L=p(ji,L,Ae),Me===null?ve=ji:Me.sibling=ji,Me=ji,Ee=Lt}if(He.done)return s(U,Ee),Ge&&Ma(U,Ae),ve;if(Ee===null){for(;!He.done;Ae++,He=B.next())He=oe(U,He.value,ae),He!==null&&(L=p(He,L,Ae),Me===null?ve=He:Me.sibling=He,Me=He);return Ge&&Ma(U,Ae),ve}for(Ee=l(Ee);!He.done;Ae++,He=B.next())He=Q(Ee,U,Ae,He.value,ae),He!==null&&(t&&He.alternate!==null&&Ee.delete(He.key===null?Ae:He.key),L=p(He,L,Ae),Me===null?ve=He:Me.sibling=He,Me=He);return t&&Ee.forEach(function(JA){return r(U,JA)}),Ge&&Ma(U,Ae),ve}function et(U,L,B,ae){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var ve=B.key;L!==null;){if(L.key===ve){if(ve=B.type,ve===M){if(L.tag===7){s(U,L.sibling),ae=h(L,B.props.children),ae.return=U,U=ae;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===O&&wy(ve)===L.type){s(U,L.sibling),ae=h(L,B.props),cl(ae,B),ae.return=U,U=ae;break e}s(U,L);break}else r(U,L);L=L.sibling}B.type===M?(ae=Na(B.props.children,U.mode,ae,B.key),ae.return=U,U=ae):(ae=Hu(B.type,B.key,B.props,null,U.mode,ae),cl(ae,B),ae.return=U,U=ae)}return E(U);case D:e:{for(ve=B.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){s(U,L.sibling),ae=h(L,B.children||[]),ae.return=U,U=ae;break e}else{s(U,L);break}else r(U,L);L=L.sibling}ae=Cf(B,U.mode,ae),ae.return=U,U=ae}return E(U);case O:return ve=B._init,B=ve(B._payload),et(U,L,B,ae)}if(ee(B))return Re(U,L,B,ae);if(I(B)){if(ve=I(B),typeof ve!="function")throw Error(a(150));return B=ve.call(B),Se(U,L,B,ae)}if(typeof B.then=="function")return et(U,L,sc(B),ae);if(B.$$typeof===re)return et(U,L,Qu(U,B),ae);oc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(s(U,L.sibling),ae=h(L,B),ae.return=U,U=ae):(s(U,L),ae=Rf(B,U.mode,ae),ae.return=U,U=ae),E(U)):s(U,L)}return function(U,L,B,ae){try{ul=0;var ve=et(U,L,B,ae);return Ps=null,ve}catch(Ee){if(Ee===el||Ee===$u)throw Ee;var Me=Tn(29,Ee,null,U.mode);return Me.lanes=ae,Me.return=U,Me}finally{}}}var Ms=Ry(!0),Cy=Ry(!1),zn=F(null),mr=null;function wi(t){var r=t.alternate;X(Ot,Ot.current&1),X(zn,t),mr===null&&(r===null||Is.current!==null||r.memoizedState!==null)&&(mr=t)}function Iy(t){if(t.tag===22){if(X(Ot,Ot.current),X(zn,t),mr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(mr=t)}}else Ri()}function Ri(){X(Ot,Ot.current),X(zn,zn.current)}function Yr(t){W(zn),mr===t&&(mr=null),W(Ot)}var Ot=F(0);function lc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||$d(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var od={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=wn(),h=bi(l);h.payload=r,s!=null&&(h.callback=s),r=Si(t,h,l),r!==null&&(Rn(r,t,l),nl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=wn(),h=bi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Si(t,h,l),r!==null&&(Rn(r,t,l),nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wn(),l=bi(s);l.tag=2,r!=null&&(l.callback=r),r=Si(t,l,s),r!==null&&(Rn(r,t,s),nl(r,t,s))}};function Oy(t,r,s,l,h,p,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!Ko(s,l)||!Ko(h,p):!0}function Dy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&od.enqueueReplaceState(r,r.state,null)}function ja(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){uc(t)}function Py(t){console.error(t)}function My(t){uc(t)}function cc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function xy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,r,s){return s=bi(s),s.tag=3,s.payload={element:null},s.callback=function(){cc(t,r)},s}function ky(t){return t=bi(t),t.tag=3,t}function Vy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;t.payload=function(){return h(p)},t.callback=function(){xy(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){xy(r,s,l),typeof h!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function JS(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Wo(r,s,h,!0),s=zn.current,s!==null){switch(s.tag){case 13:return mr===null?Pd():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Lf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),xd(t,l,h)),!1;case 22:return s.flags|=65536,l===Lf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),xd(t,l,h)),!1}throw Error(a(435,s.tag))}return xd(t,l,h),Pd(),!1}if(Ge)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Df&&(t=Error(a(422),{cause:l}),Xo(kn(t,s)))):(l!==Df&&(r=Error(a(423),{cause:l}),Xo(kn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,s),h=ld(t.stateNode,l,h),jf(t,h),mt!==4&&(mt=2)),!1;var p=Error(a(520),{cause:l});if(p=kn(p,s),yl===null?yl=[p]:yl.push(p),mt!==4&&(mt=2),r===null)return!0;l=kn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=ld(s.stateNode,l,t),jf(s,t),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pi===null||!Pi.has(p))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ky(h),Vy(h,t,s,l),jf(s,h),!1}s=s.return}while(s!==null);return!1}var Ly=Error(a(461)),kt=!1;function qt(t,r,s,l){r.child=t===null?Cy(r,null,s,l):Ms(r,t.child,s,l)}function Uy(t,r,s,l,h){s=s.render;var p=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return La(r),l=Gf(t,r,s,E,p,h),b=Kf(),t!==null&&!kt?(Qf(t,r,h),$r(t,r,h)):(Ge&&b&&If(r),r.flags|=1,qt(t,r,l,h),r.child)}function zy(t,r,s,l,h){if(t===null){var p=s.type;return typeof p=="function"&&!wf(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,jy(t,r,p,l,h)):(t=Hu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!gd(t,h)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:Ko,s(E,l)&&t.ref===r.ref)return $r(t,r,h)}return r.flags|=1,t=qr(p,l),t.ref=r.ref,t.return=r,r.child=t}function jy(t,r,s,l,h){if(t!==null){var p=t.memoizedProps;if(Ko(p,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=p,gd(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,$r(t,r,h)}return ud(t,r,s,l,h)}function By(t,r,s){var l=r.pendingProps,h=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,t!==null){for(h=r.child=t.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return qy(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,p!==null?p.cachePool:null),p!==null?jg(r,p):qf(),Iy(r);else return r.lanes=r.childLanes=536870912,qy(t,r,p!==null?p.baseLanes|s:s,s)}else p!==null?(Yu(r,p.cachePool),jg(r,p),Ri(),r.memoizedState=null):(t!==null&&Yu(r,null),qf(),Ri());return qt(t,r,h,s),r.child}function qy(t,r,s,l){var h=Vf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Yu(r,null),qf(),Iy(r),t!==null&&Wo(t,r,l,!0),null}function hc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function ud(t,r,s,l,h){return La(r),s=Gf(t,r,s,l,void 0,h),l=Kf(),t!==null&&!kt?(Qf(t,r,h),$r(t,r,h)):(Ge&&l&&If(r),r.flags|=1,qt(t,r,s,h),r.child)}function Hy(t,r,s,l,h,p){return La(r),r.updateQueue=null,s=qg(r,l,s,h),Bg(t),l=Kf(),t!==null&&!kt?(Qf(t,r,p),$r(t,r,p)):(Ge&&l&&If(r),r.flags|=1,qt(t,r,s,p),r.child)}function Fy(t,r,s,l,h){if(La(r),r.stateNode===null){var p=Ss,E=s.contextType;typeof E=="object"&&E!==null&&(p=tn(E)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=od,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Uf(r),E=s.contextType,p.context=typeof E=="object"&&E!==null?tn(E):Ss,p.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(sd(r,s,E,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&od.enqueueReplaceState(p,p.state,null),il(r,l,p,h),rl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){p=r.stateNode;var b=r.memoizedProps,x=ja(s,b);p.props=x;var H=p.context,te=s.contextType;E=Ss,typeof te=="object"&&te!==null&&(E=tn(te));var oe=s.getDerivedStateFromProps;te=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||H!==E)&&Dy(r,p,l,E),Ti=!1;var K=r.memoizedState;p.state=K,il(r,l,p,h),rl(),H=r.memoizedState,b||K!==H||Ti?(typeof oe=="function"&&(sd(r,s,oe,l),H=r.memoizedState),(x=Ti||Oy(r,s,x,l,K,H,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),p.props=l,p.state=H,p.context=E,l=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,zf(t,r),E=r.memoizedProps,te=ja(s,E),p.props=te,oe=r.pendingProps,K=p.context,H=s.contextType,x=Ss,typeof H=="object"&&H!==null&&(x=tn(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==oe||K!==x)&&Dy(r,p,l,x),Ti=!1,K=r.memoizedState,p.state=K,il(r,l,p,h),rl();var Q=r.memoizedState;E!==oe||K!==Q||Ti||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof b=="function"&&(sd(r,s,b,l),Q=r.memoizedState),(te=Ti||Oy(r,s,te,l,K,Q,x)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Q,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Q,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),p.props=l,p.state=Q,p.context=x,l=te):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return p=l,hc(t,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,t!==null&&l?(r.child=Ms(r,t.child,null,h),r.child=Ms(r,null,s,h)):qt(t,r,s,h),r.memoizedState=p.state,t=r.child):t=$r(t,r,h),t}function Gy(t,r,s,l){return $o(),r.flags|=256,qt(t,r,s,l),r.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:Pg()}}function fd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=jn),t}function Ky(t,r,s){var l=r.pendingProps,h=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(h?wi(r):Ri(),Ge){var b=pt,x;if(x=b){e:{for(x=b,b=pr;x.nodeType!==8;){if(!b){b=null;break e}if(x=$n(x.nextSibling),x===null){b=null;break e}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:Pa!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},x=Tn(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,fn=r,pt=null,x=!0):x=!1}x||ka(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return $d(b)?r.lanes=32:r.lanes=536870912,null;Yr(r)}return b=l.children,l=l.fallback,h?(Ri(),h=r.mode,b=fc({mode:"hidden",children:b},h),l=Na(l,h,s,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=hd(s),h.childLanes=fd(t,E,s),r.memoizedState=cd,l):(wi(r),dd(r,b))}if(x=t.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(p)r.flags&256?(wi(r),r.flags&=-257,r=pd(t,r,s)):r.memoizedState!==null?(Ri(),r.child=t.child,r.flags|=128,r=null):(Ri(),h=l.fallback,b=r.mode,l=fc({mode:"visible",children:l.children},b),h=Na(h,b,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ms(r,t.child,null,s),l=r.child,l.memoizedState=hd(s),l.childLanes=fd(t,E,s),r.memoizedState=cd,r=h);else if(wi(r),$d(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(a(419)),l.stack="",l.digest=E,Xo({value:l,source:null,stack:null}),r=pd(t,r,s)}else if(kt||Wo(t,r,s,!1),E=(s&t.childLanes)!==0,kt||E){if(E=it,E!==null&&(l=s&-s,l=(l&42)!==0?1:di(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,bs(t,l),Rn(E,t,l),Ly;b.data==="$?"||Pd(),r=pd(t,r,s)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,pt=$n(b.nextSibling),fn=r,Ge=!0,xa=null,pr=!1,t!==null&&(Ln[Un++]=Hr,Ln[Un++]=Fr,Ln[Un++]=Pa,Hr=t.id,Fr=t.overflow,Pa=r),r=dd(r,l.children),r.flags|=4096);return r}return h?(Ri(),h=l.fallback,b=r.mode,x=t.child,H=x.sibling,l=qr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?h=qr(H,h):(h=Na(h,b,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=hd(s):(x=b.cachePool,x!==null?(H=It._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=Pg(),b={baseLanes:b.baseLanes|s,cachePool:x}),h.memoizedState=b,h.childLanes=fd(t,E,s),r.memoizedState=cd,l):(wi(r),s=t.child,t=s.sibling,s=qr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=s,r.memoizedState=null,s)}function dd(t,r){return r=fc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function fc(t,r){return t=Tn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pd(t,r,s){return Ms(r,t.child,null,s),t=dd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Qy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Pf(t.return,r,s)}function md(t,r,s,l,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h)}function Yy(t,r,s){var l=r.pendingProps,h=l.revealOrder,p=l.tail;if(qt(t,r,l.children,s),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,s,r);else if(t.tag===19)Qy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(Ot,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&lc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),md(r,!1,h,s,p);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}md(r,!0,s,null,p);break;case"together":md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $r(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ni|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Wo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=qr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=qr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function gd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function eA(t,r,s){switch(r.tag){case 3:qe(r,r.stateNode.containerInfo),Ei(r,It,t.memoizedState.cache),$o();break;case 27:case 5:$t(r);break;case 4:qe(r,r.stateNode.containerInfo);break;case 10:Ei(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ky(t,r,s):(wi(r),t=$r(t,r,s),t!==null?t.sibling:null);wi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Wo(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Yy(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,By(t,r,s);case 24:Ei(r,It,t.memoizedState.cache)}return $r(t,r,s)}function $y(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!gd(t,s)&&(r.flags&128)===0)return kt=!1,eA(t,r,s);kt=(t.flags&131072)!==0}else kt=!1,Ge&&(r.flags&1048576)!==0&&wg(r,Gu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")wf(l)?(t=ja(l,t),r.tag=1,r=Fy(null,r,l,t,s)):(r.tag=0,r=ud(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===pe){r.tag=11,r=Uy(null,r,l,t,s);break e}else if(h===k){r.tag=14,r=zy(null,r,l,t,s);break e}}throw r=ne(l)||l,Error(a(306,r,""))}}return r;case 0:return ud(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=ja(l,r.pendingProps),Fy(t,r,l,h,s);case 3:e:{if(qe(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;h=p.element,zf(t,r),il(r,l,null,s);var E=r.memoizedState;if(l=E.cache,Ei(r,It,l),l!==p.cache&&Mf(r,[It],s,!0),rl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Gy(t,r,l,s);break e}else if(l!==h){h=kn(Error(a(424)),r),Xo(h),r=Gy(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=$n(t.firstChild),fn=r,Ge=!0,xa=null,pr=!0,s=Cy(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if($o(),l===h){r=$r(t,r,s);break e}qt(t,r,l,s)}r=r.child}return r;case 26:return hc(t,r),t===null?(s=Jv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ge||(s=r.type,t=r.pendingProps,l=Rc(ye.current).createElement(s),l[wt]=r,l[Et]=t,Ft(l,s,t),gt(l),r.stateNode=l):r.memoizedState=Jv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return $t(r),t===null&&Ge&&(l=r.stateNode=Xv(r.type,r.pendingProps,ye.current),fn=r,pr=!0,h=pt,ki(r.type)?(Xd=h,pt=$n(l.firstChild)):pt=h),qt(t,r,r.pendingProps.children,s),hc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((h=l=pt)&&(l=IA(l,r.type,r.pendingProps,pr),l!==null?(r.stateNode=l,fn=r,pt=$n(l.firstChild),pr=!1,h=!0):h=!1),h||ka(r)),$t(r),h=r.type,p=r.pendingProps,E=t!==null?t.memoizedProps:null,l=p.children,Kd(h,p)?l=null:E!==null&&Kd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Gf(t,r,KS,null,null,s),Rl._currentValue=h),hc(t,r),qt(t,r,l,s),r.child;case 6:return t===null&&Ge&&((t=s=pt)&&(s=OA(s,r.pendingProps,pr),s!==null?(r.stateNode=s,fn=r,pt=null,t=!0):t=!1),t||ka(r)),null;case 13:return Ky(t,r,s);case 4:return qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ms(r,null,l,s):qt(t,r,l,s),r.child;case 11:return Uy(t,r,r.type,r.pendingProps,s);case 7:return qt(t,r,r.pendingProps,s),r.child;case 8:return qt(t,r,r.pendingProps.children,s),r.child;case 12:return qt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ei(r,r.type,l.value),qt(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,La(r),h=tn(h),l=l(h),r.flags|=1,qt(t,r,l,s),r.child;case 14:return zy(t,r,r.type,r.pendingProps,s);case 15:return jy(t,r,r.type,r.pendingProps,s);case 19:return Yy(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=fc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=qr(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return By(t,r,s);case 24:return La(r),l=tn(It),t===null?(h=Vf(),h===null&&(h=it,p=xf(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=s),h=p),r.memoizedState={parent:l,cache:h},Uf(r),Ei(r,It,h)):((t.lanes&s)!==0&&(zf(t,r),il(r,null,null,s),rl()),h=t.memoizedState,p=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ei(r,It,l)):(l=p.cache,Ei(r,It,l),l!==h.cache&&Mf(r,[It],s,!0))),qt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Xr(t){t.flags|=4}function Xy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!i_(r)){if(r=zn.current,r!==null&&((je&4194048)===je?mr!==null:(je&62914560)!==je&&(je&536870912)===0||r!==mr))throw tl=Lf,Mg;t.flags|=8192}}function dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Io():536870912,t.lanes|=r,Ls|=r)}function hl(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function tA(t,r,s){var l=r.pendingProps;switch(Of(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kr(It),Yt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yo(r)?Xr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ig())),ut(r),null;case 26:return s=r.memoizedState,t===null?(Xr(r),s!==null?(ut(r),Xy(r,s)):(ut(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Xr(r),ut(r),Xy(r,s)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==l&&Xr(r),ut(r),r.flags&=-16777217),null;case 27:ft(r),s=ye.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ut(r),null}t=he.current,Yo(r)?Rg(r):(t=Xv(h,l,s),r.stateNode=t,Xr(r))}return ut(r),null;case 5:if(ft(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ut(r),null}if(t=he.current,Yo(r))Rg(r);else{switch(h=Rc(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[wt]=r,t[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xr(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=ye.current,Yo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Hv(t.nodeValue,s)),t||ka(r)}else t=Rc(t).createTextNode(l),t[wt]=r,r.stateNode=t}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[wt]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=Ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Yr(r),r):(Yr(r),null)}if(Yr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),dc(r,r.updateQueue),ut(r),null;case 4:return Yt(),t===null&&Bd(r.stateNode.containerInfo),ut(r),null;case 10:return Kr(r.type),ut(r),null;case 19:if(W(Ot),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,p=h.rendering,p===null)if(l)hl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=lc(t),p!==null){for(r.flags|=128,hl(h,!1),t=p.updateQueue,r.updateQueue=t,dc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Ag(s,t),s=s.sibling;return X(Ot,Ot.current&1|2),r.child}t=t.sibling}h.tail!==null&&rt()>gc&&(r.flags|=128,l=!0,hl(h,!1),r.lanes=4194304)}else{if(!l)if(t=lc(p),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,dc(r,t),hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Ge)return ut(r),null}else 2*rt()-h.renderingStartTime>gc&&s!==536870912&&(r.flags|=128,l=!0,hl(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(t=h.last,t!==null?t.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=rt(),r.sibling=null,t=Ot.current,X(Ot,l?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return Yr(r),Hf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),s=r.updateQueue,s!==null&&dc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&W(Ua),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Kr(It),ut(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function nA(t,r){switch(Of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Kr(It),Yt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ft(r),null;case 13:if(Yr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));$o()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(Ot),null;case 4:return Yt(),null;case 10:return Kr(r.type),null;case 22:case 23:return Yr(r),Hf(),t!==null&&W(Ua),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Kr(It),null;case 25:return null;default:return null}}function Wy(t,r){switch(Of(r),r.tag){case 3:Kr(It),Yt();break;case 26:case 27:case 5:ft(r);break;case 4:Yt();break;case 13:Yr(r);break;case 19:W(Ot);break;case 10:Kr(r.type);break;case 22:case 23:Yr(r),Hf(),t!==null&&W(Ua);break;case 24:Kr(It)}}function fl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==h)}}catch(b){nt(r,r.return,b)}}function Ci(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=r;var x=s,H=b;try{H()}catch(te){nt(h,x,te)}}}l=l.next}while(l!==p)}}catch(te){nt(r,r.return,te)}}function Zy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{zg(r,s)}catch(l){nt(t,t.return,l)}}}function Jy(t,r,s){s.props=ja(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,r,l)}}function dl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,r,h)}}function gr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,r,h)}else s.current=null}function ev(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function yd(t,r,s){try{var l=t.stateNode;SA(l,t.type,s,r),l[Et]=r}catch(h){nt(t,t.return,h)}}function tv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=wc));else if(l!==4&&(l===27&&ki(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(_d(t,r,s),t=t.sibling;t!==null;)_d(t,r,s),t=t.sibling}function pc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(pc(t,r,s),t=t.sibling;t!==null;)pc(t,r,s),t=t.sibling}function nv(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,s),r[wt]=t,r[Et]=s}catch(p){nt(t,t.return,p)}}var Wr=!1,vt=!1,Ed=!1,rv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function rA(t,r){if(t=t.containerInfo,Fd=Pc,t=pg(t),vf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var E=0,b=-1,x=-1,H=0,te=0,oe=t,K=null;t:for(;;){for(var Q;oe!==s||h!==0&&oe.nodeType!==3||(b=E+h),oe!==p||l!==0&&oe.nodeType!==3||(x=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)K=oe,oe=Q;for(;;){if(oe===t)break t;if(K===s&&++H===h&&(b=E),K===p&&++te===l&&(x=E),(Q=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=Q}s=b===-1||x===-1?null:{start:b,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gd={focusedElem:t,selectionRange:s},Pc=!1,Vt=r;Vt!==null;)if(r=Vt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Vt=t;else for(;Vt!==null;){switch(r=Vt,p=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=r,h=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Re=ja(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Re,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){nt(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Yd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Vt=t;break}Vt=r.return}}function iv(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(t,s),l&4&&fl(5,s);break;case 1:if(Ii(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(E){nt(s,s.return,E)}else{var h=ja(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(s,s.return,E)}}l&64&&Zy(s),l&512&&dl(s,s.return);break;case 3:if(Ii(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{zg(t,r)}catch(E){nt(s,s.return,E)}}break;case 27:r===null&&l&4&&nv(s);case 26:case 5:Ii(t,s),r===null&&l&4&&ev(s),l&512&&dl(s,s.return);break;case 12:Ii(t,s);break;case 13:Ii(t,s),l&4&&ov(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=fA.bind(null,s),DA(t,s))));break;case 22:if(l=s.memoizedState!==null||Wr,!l){r=r!==null&&r.memoizedState!==null||vt,h=Wr;var p=vt;Wr=l,(vt=r)&&!p?Oi(t,s,(s.subtreeFlags&8772)!==0):Ii(t,s),Wr=h,vt=p}break;case 30:break;default:Ii(t,s)}}function av(t){var r=t.alternate;r!==null&&(t.alternate=null,av(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,pn=!1;function Zr(t,r,s){for(s=s.child;s!==null;)sv(t,r,s),s=s.sibling}function sv(t,r,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(dt,s)}catch{}switch(s.tag){case 26:vt||gr(s,r),Zr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||gr(s,r);var l=st,h=pn;ki(s.type)&&(st=s.stateNode,pn=!1),Zr(t,r,s),bl(s.stateNode),st=l,pn=h;break;case 5:vt||gr(s,r);case 6:if(l=st,h=pn,st=null,Zr(t,r,s),st=l,pn=h,st!==null)if(pn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(p){nt(s,r,p)}else try{st.removeChild(s.stateNode)}catch(p){nt(s,r,p)}break;case 18:st!==null&&(pn?(t=st,Yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Dl(t)):Yv(st,s.stateNode));break;case 4:l=st,h=pn,st=s.stateNode.containerInfo,pn=!0,Zr(t,r,s),st=l,pn=h;break;case 0:case 11:case 14:case 15:vt||Ci(2,s,r),vt||Ci(4,s,r),Zr(t,r,s);break;case 1:vt||(gr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jy(s,r,l)),Zr(t,r,s);break;case 21:Zr(t,r,s);break;case 22:vt=(l=vt)||s.memoizedState!==null,Zr(t,r,s),vt=l;break;default:Zr(t,r,s)}}function ov(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(s){nt(r,r.return,s)}}function iA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new rv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new rv),r;default:throw Error(a(435,t.tag))}}function Td(t,r){var s=iA(t);r.forEach(function(l){var h=dA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function bn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],p=t,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ki(b.type)){st=b.stateNode,pn=!1;break e}break;case 5:st=b.stateNode,pn=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(st===null)throw Error(a(160));sv(p,E,h),st=null,pn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)lv(r,t),r=r.sibling}var Yn=null;function lv(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(r,t),Sn(t),l&4&&(Ci(3,t,t.return),fl(3,t),Ci(5,t,t.return));break;case 1:bn(r,t),Sn(t),l&512&&(vt||s===null||gr(s,s.return)),l&64&&Wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Yn;if(bn(r,t),Sn(t),l&512&&(vt||s===null||gr(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ma]||p[wt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),Ft(p,l,s),p[wt]=t,gt(p),l=p;break e;case"link":var E=n_("link","href",h).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break t}}p=h.createElement(l),Ft(p,l,s),h.head.appendChild(p);break;case"meta":if(E=n_("meta","content",h).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break t}}p=h.createElement(l),Ft(p,l,s),h.head.appendChild(p);break;default:throw Error(a(468,l))}p[wt]=t,gt(p),l=p}t.stateNode=l}else r_(h,t.type,t.stateNode);else t.stateNode=t_(h,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?r_(h,t.type,t.stateNode):t_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(r,t),Sn(t),l&512&&(vt||s===null||gr(s,s.return)),s!==null&&l&4&&yd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(r,t),Sn(t),l&512&&(vt||s===null||gr(s,s.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(Q){nt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(bn(r,t),Sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){nt(t,t.return,Q)}}break;case 3:if(Oc=null,h=Yn,Yn=Cc(r.containerInfo),bn(r,t),Yn=h,Sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Dl(r.containerInfo)}catch(Q){nt(t,t.return,Q)}Ed&&(Ed=!1,uv(t));break;case 4:l=Yn,Yn=Cc(t.stateNode.containerInfo),bn(r,t),Sn(t),Yn=l;break;case 12:bn(r,t),Sn(t);break;case 13:bn(r,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cd=rt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,H=Wr,te=vt;if(Wr=H||h,vt=te||x,bn(r,t),vt=te,Wr=H,Sn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||x||Wr||vt||Ba(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){x=s=r;try{if(p=x.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=x.stateNode;var oe=x.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){nt(x,x.return,Q)}}}else if(r.tag===6){if(s===null){x=r;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Q){nt(x,x.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Td(t,s))));break;case 19:bn(r,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 30:break;case 21:break;default:bn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(tv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,p=vd(t);pc(t,p,h);break;case 5:var E=s.stateNode;s.flags&32&&(Nn(E,""),s.flags&=-33);var b=vd(t);pc(t,b,E);break;case 3:case 4:var x=s.stateNode.containerInfo,H=vd(t);_d(t,H,x);break;default:throw Error(a(161))}}catch(te){nt(t,t.return,te)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;uv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ii(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)iv(t,r.alternate,r),r=r.sibling}function Ba(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),Ba(r);break;case 1:gr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Jy(r,r.return,s),Ba(r);break;case 27:bl(r.stateNode);case 26:case 5:gr(r,r.return),Ba(r);break;case 22:r.memoizedState===null&&Ba(r);break;case 30:Ba(r);break;default:Ba(r)}t=t.sibling}}function Oi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Oi(h,p,s),fl(4,p);break;case 1:if(Oi(h,p,s),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){nt(l,l.return,H)}if(l=p,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ug(x[h],b)}catch(H){nt(l,l.return,H)}}s&&E&64&&Zy(p),dl(p,p.return);break;case 27:nv(p);case 26:case 5:Oi(h,p,s),s&&l===null&&E&4&&ev(p),dl(p,p.return);break;case 12:Oi(h,p,s);break;case 13:Oi(h,p,s),s&&E&4&&ov(h,p);break;case 22:p.memoizedState===null&&Oi(h,p,s),dl(p,p.return);break;case 30:break;default:Oi(h,p,s)}r=r.sibling}}function bd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Zo(s))}function Sd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Zo(t))}function yr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)cv(t,r,s,l),r=r.sibling}function cv(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:yr(t,r,s,l),h&2048&&fl(9,r);break;case 1:yr(t,r,s,l);break;case 3:yr(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Zo(t)));break;case 12:if(h&2048){yr(t,r,s,l),t=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){nt(r,r.return,x)}}else yr(t,r,s,l);break;case 13:yr(t,r,s,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?yr(t,r,s,l):pl(t,r):p._visibility&2?yr(t,r,s,l):(p._visibility|=2,xs(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&bd(E,r);break;case 24:yr(t,r,s,l),h&2048&&Sd(r.alternate,r);break;default:yr(t,r,s,l)}}function xs(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=t,E=r,b=s,x=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:xs(p,E,b,x,h),fl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?xs(p,E,b,x,h):pl(p,E):(te._visibility|=2,xs(p,E,b,x,h)),h&&H&2048&&bd(E.alternate,E);break;case 24:xs(p,E,b,x,h),h&&H&2048&&Sd(E.alternate,E);break;default:xs(p,E,b,x,h)}r=r.sibling}}function pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:pl(s,l),h&2048&&bd(l.alternate,l);break;case 24:pl(s,l),h&2048&&Sd(l.alternate,l);break;default:pl(s,l)}r=r.sibling}}var ml=8192;function ks(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)hv(t),t=t.sibling}function hv(t){switch(t.tag){case 26:ks(t),t.flags&ml&&t.memoizedState!==null&&HA(Yn,t.memoizedState,t.memoizedProps);break;case 5:ks(t);break;case 3:case 4:var r=Yn;Yn=Cc(t.stateNode.containerInfo),ks(t),Yn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,ks(t),ml=r):ks(t));break;default:ks(t)}}function fv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function gl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Vt=l,pv(l,t)}fv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dv(t),t=t.sibling}function dv(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,mc(t)):gl(t);break;default:gl(t)}}function mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Vt=l,pv(l,t)}fv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),mc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,mc(r));break;default:mc(r)}t=t.sibling}}function pv(t,r){for(;Vt!==null;){var s=Vt;switch(s.tag){case 0:case 11:case 15:Ci(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Vt=l;else e:for(s=t;Vt!==null;){l=Vt;var h=l.sibling,p=l.return;if(av(l),l===s){Vt=null;break e}if(h!==null){h.return=p,Vt=h;break e}Vt=p}}}var aA={getCacheForType:function(t){var r=tn(It),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},sA=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,xe=null,je=0,Xe=0,An=null,Di=!1,Vs=!1,Ad=!1,Jr=0,mt=0,Ni=0,qa=0,wd=0,jn=0,Ls=0,yl=null,mn=null,Rd=!1,Cd=0,gc=1/0,yc=null,Pi=null,Ht=0,Mi=null,Us=null,zs=0,Id=0,Od=null,mv=null,vl=0,Dd=null;function wn(){if(($e&2)!==0&&je!==0)return je&-je;if(q.T!==null){var t=Rs;return t!==0?t:Ld()}return pi()}function gv(){jn===0&&(jn=(je&536870912)===0||Ge?Co():536870912);var t=zn.current;return t!==null&&(t.flags|=32),jn}function Rn(t,r,s){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(js(t,0),xi(t,je,jn,!1)),Nr(t,s),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(qa|=s),mt===4&&xi(t,je,jn,!1)),vr(t))}function yv(t,r,s){if(($e&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||pa(t,r),h=l?uA(t,r):Md(t,r,!0),p=l;do{if(h===0){Vs&&!l&&xi(t,r,0,!1);break}else{if(s=t.current.alternate,p&&!oA(s)){h=Md(t,r,!1),p=!1;continue}if(h===2){if(p=r,t.errorRecoveryDisabledLanes&p)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=t;h=yl;var x=b.current.memoizedState.isDehydrated;if(x&&(js(b,E).flags|=256),E=Md(b,E,!1),E!==2){if(Ad&&!x){b.errorRecoveryDisabledLanes|=p,qa|=p,h=4;break e}p=mn,mn=h,p!==null&&(mn===null?mn=p:mn.push.apply(mn,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){js(t,0),xi(t,r,0,!0);break}e:{switch(l=t,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:xi(l,r,jn,!Di);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=Cd+300-rt(),10<h)){if(xi(l,r,jn,!Di),rs(l,0,!0)!==0)break e;l.timeoutHandle=Kv(vv.bind(null,l,s,mn,yc,Rd,r,jn,qa,Ls,Di,p,2,-0,0),h);break e}vv(l,s,mn,yc,Rd,r,jn,qa,Ls,Di,p,0,-0,0)}}break}while(!0);vr(t)}function vv(t,r,s,l,h,p,E,b,x,H,te,oe,K,Q){if(t.timeoutHandle=-1,oe=r.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:qA},hv(r),oe=FA(),oe!==null)){t.cancelPendingCommit=oe(wv.bind(null,t,r,p,s,l,h,E,b,x,te,1,K,Q)),xi(t,p,E,!H);return}wv(t,r,p,s,l,h,E,b,x)}function oA(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],p=h.getSnapshot;h=h.value;try{if(!En(p(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xi(t,r,s,l){r&=~wd,r&=~qa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var p=31-en(h),E=1<<p;l[p]=-1,h&=~E}s!==0&&rr(t,s,r)}function vc(){return($e&6)===0?(_l(0),!1):!0}function Nd(){if(xe!==null){if(Xe===0)var t=xe.return;else t=xe,Gr=Va=null,Yf(t),Ps=null,ul=0,t=xe;for(;t!==null;)Wy(t.alternate,t),t=t.return;xe=null}}function js(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,wA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Nd(),it=t,xe=s=qr(t.current,null),je=r,Xe=0,An=null,Di=!1,Vs=pa(t,r),Ad=!1,Ls=jn=wd=qa=Ni=mt=0,mn=yl=null,Rd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),p=1<<h;r|=t[h],l&=~p}return Jr=r,ju(),s}function _v(t,r){Ne=null,q.H=ac,r===el||r===$u?(r=Vg(),Xe=3):r===Mg?(r=Vg(),Xe=4):Xe=r===Ly?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,xe===null&&(mt=1,cc(t,kn(r,t.current)))}function Ev(){var t=q.H;return q.H=ac,t===null?ac:t}function Tv(){var t=q.A;return q.A=aA,t}function Pd(){mt=4,Di||(je&4194048)!==je&&zn.current!==null||(Vs=!0),(Ni&134217727)===0&&(qa&134217727)===0||it===null||xi(it,je,jn,!1)}function Md(t,r,s){var l=$e;$e|=2;var h=Ev(),p=Tv();(it!==t||je!==r)&&(yc=null,js(t,r)),r=!1;var E=mt;e:do try{if(Xe!==0&&xe!==null){var b=xe,x=An;switch(Xe){case 8:Nd(),E=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var H=Xe;if(Xe=0,An=null,Bs(t,b,x,H),s&&Vs){E=0;break e}break;default:H=Xe,Xe=0,An=null,Bs(t,b,x,H)}}lA(),E=mt;break}catch(te){_v(t,te)}while(!0);return r&&t.shellSuspendCounter++,Gr=Va=null,$e=l,q.H=h,q.A=p,xe===null&&(it=null,je=0,ju()),E}function lA(){for(;xe!==null;)bv(xe)}function uA(t,r){var s=$e;$e|=2;var l=Ev(),h=Tv();it!==t||je!==r?(yc=null,gc=rt()+500,js(t,r)):Vs=pa(t,r);e:do try{if(Xe!==0&&xe!==null){r=xe;var p=An;t:switch(Xe){case 1:Xe=0,An=null,Bs(t,r,p,1);break;case 2:case 9:if(xg(p)){Xe=0,An=null,Sv(r);break}r=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),vr(t)},p.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xg(p)?(Xe=0,An=null,Sv(r)):(Xe=0,An=null,Bs(t,r,p,7));break;case 5:var E=null;switch(xe.tag){case 26:E=xe.memoizedState;case 5:case 27:var b=xe;if(!E||i_(E)){Xe=0,An=null;var x=b.sibling;if(x!==null)xe=x;else{var H=b.return;H!==null?(xe=H,_c(H)):xe=null}break t}}Xe=0,An=null,Bs(t,r,p,5);break;case 6:Xe=0,An=null,Bs(t,r,p,6);break;case 8:Nd(),mt=6;break e;default:throw Error(a(462))}}cA();break}catch(te){_v(t,te)}while(!0);return Gr=Va=null,q.H=l,q.A=h,$e=s,xe!==null?0:(it=null,je=0,ju(),mt)}function cA(){for(;xe!==null&&!tt();)bv(xe)}function bv(t){var r=$y(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,r===null?_c(t):xe=r}function Sv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Hy(s,r,r.pendingProps,r.type,void 0,je);break;case 11:r=Hy(s,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Yf(r);default:Wy(s,r),r=xe=Ag(r,Jr),r=$y(s,r,Jr)}t.memoizedProps=t.pendingProps,r===null?_c(t):xe=r}function Bs(t,r,s,l){Gr=Va=null,Yf(r),Ps=null,ul=0;var h=r.return;try{if(JS(t,h,r,s,je)){mt=1,cc(t,kn(s,t.current)),xe=null;return}}catch(p){if(h!==null)throw xe=h,p;mt=1,cc(t,kn(s,t.current)),xe=null;return}r.flags&32768?(Ge||l===1?t=!0:Vs||(je&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Av(r,t)):_c(r)}function _c(t){var r=t;do{if((r.flags&32768)!==0){Av(r,Di);return}t=r.return;var s=tA(r.alternate,r,Jr);if(s!==null){xe=s;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);mt===0&&(mt=5)}function Av(t,r){do{var s=nA(t.alternate,t);if(s!==null){s.flags&=32767,xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=s}while(t!==null);mt=6,xe=null}function wv(t,r,s,l,h,p,E,b,x){t.cancelPendingCommit=null;do Ec();while(Ht!==0);if(($e&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=Sf,Oo(t,s,p,E,b,x),t===it&&(xe=it=null,je=0),Us=r,Mi=t,zs=s,Id=p,Od=h,mv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pA(Jt,function(){return Dv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=V.p,V.p=2,E=$e,$e|=4;try{rA(t,r,s)}finally{$e=E,V.p=h,q.T=l}}Ht=1,Rv(),Cv(),Iv()}}function Rv(){if(Ht===1){Ht=0;var t=Mi,r=Us,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=V.p;V.p=2;var h=$e;$e|=4;try{lv(r,t);var p=Gd,E=pg(t.containerInfo),b=p.focusedElem,x=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&dg(b.ownerDocument.documentElement,b)){if(x!==null&&vf(b)){var H=x.start,te=x.end;if(te===void 0&&(te=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(te,b.value.length);else{var oe=b.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Re=b.textContent.length,Se=Math.min(x.start,Re),et=x.end===void 0?Se:Math.min(x.end,Re);!Q.extend&&Se>et&&(E=et,et=Se,Se=E);var U=fg(b,Se),L=fg(b,et);if(U&&L&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var B=oe.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),Se>et?(Q.addRange(B),Q.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),Q.addRange(B))}}}}for(oe=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<oe.length;b++){var ae=oe[b];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Pc=!!Fd,Gd=Fd=null}finally{$e=h,V.p=l,q.T=s}}t.current=r,Ht=2}}function Cv(){if(Ht===2){Ht=0;var t=Mi,r=Us,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=V.p;V.p=2;var h=$e;$e|=4;try{iv(t,r.alternate,r)}finally{$e=h,V.p=l,q.T=s}}Ht=3}}function Iv(){if(Ht===4||Ht===3){Ht=0,zt();var t=Mi,r=Us,s=zs,l=mv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Us=Mi=null,Ov(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pi=null),is(s),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=q.T,h=V.p,V.p=2,q.T=null;try{for(var p=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{q.T=r,V.p=h}}(zs&3)!==0&&Ec(),vr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Dd?vl++:(vl=0,Dd=t):vl=0,_l(0)}}function Ov(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Zo(r)))}function Ec(t){return Rv(),Cv(),Iv(),Dv()}function Dv(){if(Ht!==5)return!1;var t=Mi,r=Id;Id=0;var s=is(zs),l=q.T,h=V.p;try{V.p=32>s?32:s,q.T=null,s=Od,Od=null;var p=Mi,E=zs;if(Ht=0,Us=Mi=null,zs=0,($e&6)!==0)throw Error(a(331));var b=$e;if($e|=4,dv(p.current),cv(p,p.current,E,s),$e=b,_l(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(dt,p)}catch{}return!0}finally{V.p=h,q.T=l,Ov(t,r)}}function Nv(t,r,s){r=kn(s,r),r=ld(t.stateNode,r,2),t=Si(t,r,2),t!==null&&(Nr(t,2),vr(t))}function nt(t,r,s){if(t.tag===3)Nv(t,t,s);else for(;r!==null;){if(r.tag===3){Nv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pi===null||!Pi.has(l))){t=kn(s,t),s=ky(2),l=Si(r,s,2),l!==null&&(Vy(s,l,r,t),Nr(l,2),vr(l));break}}r=r.return}}function xd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new sA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(Ad=!0,h.add(s),t=hA.bind(null,t,r,s),r.then(t,t))}function hA(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,it===t&&(je&s)===s&&(mt===4||mt===3&&(je&62914560)===je&&300>rt()-Cd?($e&2)===0&&js(t,0):wd|=s,Ls===je&&(Ls=0)),vr(t)}function Pv(t,r){r===0&&(r=Io()),t=bs(t,r),t!==null&&(Nr(t,r),vr(t))}function fA(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Pv(t,s)}function dA(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Pv(t,s)}function pA(t,r){return Wt(t,r)}var Tc=null,qs=null,kd=!1,bc=!1,Vd=!1,Ha=0;function vr(t){t!==qs&&t.next===null&&(qs===null?Tc=qs=t:qs=qs.next=t),bc=!0,kd||(kd=!0,gA())}function _l(t,r){if(!Vd&&bc){Vd=!0;do for(var s=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-en(42|t)+1)-1,p&=h&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Vv(l,p))}else p=je,p=rs(l,l===it?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||pa(l,p)||(s=!0,Vv(l,p));l=l.next}while(s);Vd=!1}}function mA(){Mv()}function Mv(){bc=kd=!1;var t=0;Ha!==0&&(AA()&&(t=Ha),Ha=0);for(var r=rt(),s=null,l=Tc;l!==null;){var h=l.next,p=xv(l,r);p===0?(l.next=null,s===null?Tc=h:s.next=h,h===null&&(qs=s)):(s=l,(t!==0||(p&3)!==0)&&(bc=!0)),l=h}_l(t)}function xv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var E=31-en(p),b=1<<E,x=h[E];x===-1?((b&s)===0||(b&l)!==0)&&(h[E]=Ro(b,r)):x<=r&&(t.expiredLanes|=b),p&=~b}if(r=it,s=je,s=rs(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pa(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Zt(l),is(s)){case 2:case 8:s=nr;break;case 32:s=Jt;break;case 268435456:s=Hn;break;default:s=Jt}return l=kv.bind(null,t),s=Wt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Zt(l),t.callbackPriority=2,t.callbackNode=null,2}function kv(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ec()&&t.callbackNode!==s)return null;var l=je;return l=rs(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yv(t,l,r),xv(t,rt()),t.callbackNode!=null&&t.callbackNode===s?kv.bind(null,t):null)}function Vv(t,r){if(Ec())return null;yv(t,r,!0)}function gA(){RA(function(){($e&6)!==0?Wt(tr,mA):Mv()})}function Ld(){return Ha===0&&(Ha=Co()),Ha}function Lv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cs(""+t)}function Uv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function yA(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var p=Lv((h[Et]||null).action),E=l.submitter;E&&(r=(r=E[Et]||null)?Lv(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new hs("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ha!==0){var x=E?Uv(h,E):new FormData(h);rd(s,{pending:!0,data:x,method:h.method,action:p},null,x)}}else typeof p=="function"&&(b.preventDefault(),x=E?Uv(h,E):new FormData(h),rd(s,{pending:!0,data:x,method:h.method,action:p},p,x))},currentTarget:h}]})}}for(var Ud=0;Ud<bf.length;Ud++){var zd=bf[Ud],vA=zd.toLowerCase(),_A=zd[0].toUpperCase()+zd.slice(1);Qn(vA,"on"+_A)}Qn(yg,"onAnimationEnd"),Qn(vg,"onAnimationIteration"),Qn(_g,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(VS,"onTransitionRun"),Qn(LS,"onTransitionStart"),Qn(US,"onTransitionCancel"),Qn(Eg,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function zv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],x=b.instance,H=b.currentTarget;if(b=b.listener,x!==p&&h.isPropagationStopped())break e;p=b,h.currentTarget=H;try{p(h)}catch(te){uc(te)}h.currentTarget=null,p=x}else for(E=0;E<l.length;E++){if(b=l[E],x=b.instance,H=b.currentTarget,b=b.listener,x!==p&&h.isPropagationStopped())break e;p=b,h.currentTarget=H;try{p(h)}catch(te){uc(te)}h.currentTarget=null,p=x}}}}function ke(t,r){var s=r[No];s===void 0&&(s=r[No]=new Set);var l=t+"__bubble";s.has(l)||(jv(r,t,2,!1),s.add(l))}function jd(t,r,s){var l=0;r&&(l|=4),jv(s,t,l,r)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Sc]){t[Sc]=!0,Po.forEach(function(s){s!=="selectionchange"&&(EA.has(s)||jd(s,!1,t),jd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Sc]||(r[Sc]=!0,jd("selectionchange",!1,r))}}function jv(t,r,s,l){switch(c_(r)){case 2:var h=QA;break;case 8:h=YA;break;default:h=tp}s=h.bind(null,r,s,t),h=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function qd(t,r,s,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Pr(b),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=p=E;continue e}b=b.parentNode}}l=l.return}wu(function(){var H=p,te=Pn(s),oe=[];e:{var K=Tg.get(t);if(K!==void 0){var Q=hs,Re=t;switch(t){case"keypress":if(ur(s)===0)break e;case"keydown":case"keyup":Q=ys;break;case"focusin":Re="focus",Q=ps;break;case"focusout":Re="blur",Q=ps;break;case"beforeblur":case"afterblur":Q=ps;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mu;break;case yg:case vg:case _g:Q=ms;break;case Eg:Q=ku;break;case"scroll":case"scrollend":Q=Ru;break;case"wheel":Q=vs;break;case"copy":case"cut":case"paste":Q=gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Fo;break;case"toggle":case"beforetoggle":Q=Lu}var Se=(r&4)!==0,et=!Se&&(t==="scroll"||t==="scrollend"),U=Se?K!==null?K+"Capture":null:K;Se=[];for(var L=H,B;L!==null;){var ae=L;if(B=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||B===null||U===null||(ae=ba(L,U),ae!=null&&Se.push(Tl(L,ae,B))),et)break;L=L.return}0<Se.length&&(K=new Q(K,Re,null,s,te),oe.push({event:K,listeners:Se}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&s!==Vr&&(Re=s.relatedTarget||s.fromElement)&&(Pr(Re)||Re[Dn]))break e;if((Q||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Re=s.relatedTarget||s.toElement,Q=H,Re=Re?Pr(Re):null,Re!==null&&(et=u(Re),Se=Re.tag,Re!==et||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):(Q=null,Re=H),Q!==Re)){if(Se=xn,ae="onMouseLeave",U="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Fo,ae="onPointerLeave",U="onPointerEnter",L="pointer"),et=Q==null?K:ar(Q),B=Re==null?K:ar(Re),K=new Se(ae,L+"leave",Q,s,te),K.target=et,K.relatedTarget=B,ae=null,Pr(te)===H&&(Se=new Se(U,L+"enter",Re,s,te),Se.target=B,Se.relatedTarget=et,ae=Se),et=ae,Q&&Re)t:{for(Se=Q,U=Re,L=0,B=Se;B;B=Hs(B))L++;for(B=0,ae=U;ae;ae=Hs(ae))B++;for(;0<L-B;)Se=Hs(Se),L--;for(;0<B-L;)U=Hs(U),B--;for(;L--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=Hs(Se),U=Hs(U)}Se=null}else Se=null;Q!==null&&Bv(oe,K,Q,Se,!1),Re!==null&&et!==null&&Bv(oe,et,Re,Se,!0)}}e:{if(K=H?ar(H):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var ve=sg;else if(Ct(K))if(og)ve=MS;else{ve=NS;var Me=DS}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&Lo(H.elementType)&&(ve=sg):ve=PS;if(ve&&(ve=ve(t,H))){Br(oe,ve,s,te);break e}Me&&Me(t,K,H),t==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&vi(K,"number",K.value)}switch(Me=H?ar(H):window,t){case"focusin":(Ct(Me)||Me.contentEditable==="true")&&(_s=Me,_f=H,Qo=null);break;case"focusout":Qo=_f=_s=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,mg(oe,s,te);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":mg(oe,s,te)}var Ee;if(fr)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ue?Z(t,s)&&(Ae="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&s.locale!=="ko"&&(Ue||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ue&&(Ee=zo()):(lr=te,_i="value"in lr?lr.value:lr.textContent,Ue=!0)),Me=Ac(H,Ae),0<Me.length&&(Ae=new qo(Ae,t,null,s,te),oe.push({event:Ae,listeners:Me}),Ee?Ae.data=Ee:(Ee=fe(s),Ee!==null&&(Ae.data=Ee)))),(Ee=y?Rt(t,s):ze(t,s))&&(Ae=Ac(H,"onBeforeInput"),0<Ae.length&&(Me=new qo("onBeforeInput","beforeinput",null,s,te),oe.push({event:Me,listeners:Ae}),Me.data=Ee)),yA(oe,t,H,s,te)}zv(oe,r)})}function Tl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ac(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ba(t,s),h!=null&&l.unshift(Tl(t,h,p)),h=ba(t,r),h!=null&&l.push(Tl(t,h,p))),t.tag===3)return l;t=t.return}return[]}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bv(t,r,s,l,h){for(var p=r._reactName,E=[];s!==null&&s!==l;){var b=s,x=b.alternate,H=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||H===null||(x=H,h?(H=ba(s,p),H!=null&&E.unshift(Tl(s,H,x))):h||(H=ba(s,p),H!=null&&E.push(Tl(s,H,x)))),s=s.return}E.length!==0&&t.push({event:r,listeners:E})}var TA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function qv(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(bA,"")}function Hv(t,r){return r=qv(r),qv(t)===r}function wc(){}function Je(t,r,s,l,h,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,s,l);break;case"style":Vo(t,l,p);break;case"data":if(r!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=cs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&Je(t,r,"name",h.name,h,null),Je(t,r,"formEncType",h.formEncType,h,null),Je(t,r,"formMethod",h.formMethod,h,null),Je(t,r,"formTarget",h.formTarget,h,null)):(Je(t,r,"encType",h.encType,h,null),Je(t,r,"method",h.method,h,null),Je(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=cs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=cs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),yi(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ff.get(s)||s,yi(t,s,l))}}function Hd(t,r,s,l,h,p){switch(s){case"style":Vo(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),p=t[Et]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(r,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):yi(t,s,l)}}}function Ft(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,p,E,s,null)}}h&&Je(t,r,"srcSet",s.srcSet,s,null),l&&Je(t,r,"src",s.src,s,null);return;case"input":ke("invalid",t);var b=p=E=h=null,x=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var te=s[l];if(te!=null)switch(l){case"name":h=te;break;case"type":E=te;break;case"checked":x=te;break;case"defaultChecked":H=te;break;case"value":p=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,r));break;default:Je(t,r,l,te,s,null)}}_a(t,p,b,x,H,E,h,!1),us(t);return;case"select":ke("invalid",t),l=E=p=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Je(t,r,h,b,s,null)}r=p,s=E,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):s!=null&&kr(t,!!l,s,!0);return;case"textarea":ke("invalid",t),p=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:Je(t,r,E,b,s,null)}Ea(t,l,h,p),us(t);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,x,l,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)ke(El[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(t,r,H,l,s,null)}return;default:if(Lo(r)){for(te in s)s.hasOwnProperty(te)&&(l=s[te],l!==void 0&&Hd(t,r,te,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&Je(t,r,b,l,s,null))}function SA(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,b=null,x=null,H=null,te=null;for(Q in s){var oe=s[Q];if(s.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=oe;default:l.hasOwnProperty(Q)||Je(t,r,Q,null,l,oe)}}for(var K in l){var Q=l[K];if(oe=s[K],l.hasOwnProperty(K)&&(Q!=null||oe!=null))switch(K){case"type":p=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":te=Q;break;case"value":E=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Q!==oe&&Je(t,r,K,Q,l,oe)}}_n(t,E,b,x,H,te,p,h);return;case"select":Q=E=b=K=null;for(p in s)if(x=s[p],s.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(p)||Je(t,r,p,null,l,x)}for(h in l)if(p=l[h],x=s[h],l.hasOwnProperty(h)&&(p!=null||x!=null))switch(h){case"value":K=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==x&&Je(t,r,h,p,l,x)}r=b,s=E,l=Q,K!=null?kr(t,!!s,K,!1):!!l!=!!s&&(r!=null?kr(t,!!s,r,!0):kr(t,!!s,s?[]:"",!1));return;case"textarea":Q=K=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,r,b,null,l,h)}for(E in l)if(h=l[E],p=s[E],l.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&Je(t,r,E,h,l,p)}We(t,K,Q);return;case"option":for(var Re in s)if(K=s[Re],s.hasOwnProperty(Re)&&K!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Je(t,r,Re,null,l,K)}for(x in l)if(K=l[x],Q=s[x],l.hasOwnProperty(x)&&K!==Q&&(K!=null||Q!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Je(t,r,x,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)K=s[Se],s.hasOwnProperty(Se)&&K!=null&&!l.hasOwnProperty(Se)&&Je(t,r,Se,null,l,K);for(H in l)if(K=l[H],Q=s[H],l.hasOwnProperty(H)&&K!==Q&&(K!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:Je(t,r,H,K,l,Q)}return;default:if(Lo(r)){for(var et in s)K=s[et],s.hasOwnProperty(et)&&K!==void 0&&!l.hasOwnProperty(et)&&Hd(t,r,et,void 0,l,K);for(te in l)K=l[te],Q=s[te],!l.hasOwnProperty(te)||K===Q||K===void 0&&Q===void 0||Hd(t,r,te,K,l,Q);return}}for(var U in s)K=s[U],s.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&Je(t,r,U,null,l,K);for(oe in l)K=l[oe],Q=s[oe],!l.hasOwnProperty(oe)||K===Q||K==null&&Q==null||Je(t,r,oe,K,l,Q)}var Fd=null,Gd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function Fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Kd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qd=null;function AA(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(CA)}:Kv;function CA(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Yv(t,r){var s=r,l=0,h=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&bl(E.documentElement),s&2&&bl(E.body),s&4)for(s=E.head,bl(s),E=s.firstChild;E;){var b=E.nextSibling,x=E.nodeName;E[ma]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(h===0){t.removeChild(p),Dl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Dl(r)}function Yd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yd(s),gi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function IA(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ma])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function OA(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=$n(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function DA(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Xd=null;function $v(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Xv(t,r,s){switch(r=Rc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gi(t)}var Bn=new Map,Wv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=V.d;V.d={f:NA,r:PA,D:MA,C:xA,L:kA,m:VA,X:UA,S:LA,M:zA};function NA(){var t=ei.f(),r=vc();return t||r}function PA(t){var r=ir(t);r!==null&&r.tag===5&&r.type==="form"?yy(r):ei.r(t)}var Fs=typeof document>"u"?null:document;function Zv(t,r,s){var l=Fs;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Wv.has(h)||(Wv.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),gt(r),l.head.appendChild(r)))}}function MA(t){ei.D(t),Zv("dns-prefetch",t,null)}function xA(t,r){ei.C(t,r),Zv("preconnect",t,r)}function kA(t,r,s){ei.L(t,r,s);var l=Fs;if(l&&t&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tt(s.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var p=h;switch(r){case"style":p=Gs(t);break;case"script":p=Ks(t)}Bn.has(p)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Bn.set(p,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(p))||r==="script"&&l.querySelector(Al(p))||(r=l.createElement("link"),Ft(r,"link",t),gt(r),l.head.appendChild(r)))}}function VA(t,r){ei.m(t,r);var s=Fs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ks(t)}if(!Bn.has(p)&&(t=v({rel:"modulepreload",href:t},r),Bn.set(p,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Al(p)))return}l=s.createElement("link"),Ft(l,"link",t),gt(l),s.head.appendChild(l)}}}function LA(t,r,s){ei.S(t,r,s);var l=Fs;if(l&&t){var h=un(l).hoistableStyles,p=Gs(t);r=r||"default";var E=h.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Sl(p)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Bn.get(p))&&Wd(t,s);var x=E=l.createElement("link");gt(x),Ft(x,"link",t),x._p=new Promise(function(H,te){x.onload=H,x.onerror=te}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ic(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(p,E)}}}function UA(t,r){ei.X(t,r);var s=Fs;if(s&&t){var l=un(s).hoistableScripts,h=Ks(t),p=l.get(h);p||(p=s.querySelector(Al(h)),p||(t=v({src:t,async:!0},r),(r=Bn.get(h))&&Zd(t,r),p=s.createElement("script"),gt(p),Ft(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function zA(t,r){ei.M(t,r);var s=Fs;if(s&&t){var l=un(s).hoistableScripts,h=Ks(t),p=l.get(h);p||(p=s.querySelector(Al(h)),p||(t=v({src:t,async:!0,type:"module"},r),(r=Bn.get(h))&&Zd(t,r),p=s.createElement("script"),gt(p),Ft(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function Jv(t,r,s,l){var h=(h=ye.current)?Cc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Gs(s.href),s=un(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Gs(s.href);var p=un(h).hoistableStyles,E=p.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,E),(p=h.querySelector(Sl(t)))&&!p._p&&(E.instance=p,E.state.loading=5),Bn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(t,s),p||jA(h,t,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ks(s),s=un(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Gs(t){return'href="'+Tt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function e_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function jA(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",s),gt(r),t.head.appendChild(r))}function Ks(t){return'[src="'+Tt(t)+'"]'}function Al(t){return"script[async]"+t}function t_(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(s.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),Ft(l,"style",h),Ic(l,s.precedence,t),r.instance=l;case"stylesheet":h=Gs(s.href);var p=t.querySelector(Sl(h));if(p)return r.state.loading|=4,r.instance=p,gt(p),p;l=e_(s),(h=Bn.get(h))&&Wd(l,h),p=(t.ownerDocument||t).createElement("link"),gt(p);var E=p;return E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),Ft(p,"link",l),r.state.loading|=4,Ic(p,s.precedence,t),r.instance=p;case"script":return p=Ks(s.src),(h=t.querySelector(Al(p)))?(r.instance=h,gt(h),h):(l=s,(h=Bn.get(p))&&(l=v({},s),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),gt(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ic(l,s.precedence,t));return r.instance}function Ic(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)p=b;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Wd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Oc=null;function n_(t,r,s){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(s,l)}else h=Oc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var p=s[h];if(!(p[ma]||p[wt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=t+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function r_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function BA(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function qA(){}function HA(t,r,s){if(wl===null)throw Error(a(475));var l=wl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Gs(s.href),p=t.querySelector(Sl(h));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=p,gt(p);return}p=t.ownerDocument||t,s=e_(s),(h=Bn.get(h))&&Wd(s,h),p=p.createElement("link"),gt(p);var E=p;E._p=new Promise(function(b,x){E.onload=b,E.onerror=x}),Ft(p,"link",s),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function FA(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&Jd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Jd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Jd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,r.forEach(GA,t),Nc=null,Dc.call(t))}function GA(t,r){if(!(r.state.loading&4)){var s=Nc.get(t);if(s)var l=s.get(null);else{s=new Map,Nc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,h),s.set(E,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Rl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function KA(t,r,s,l,h,p,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function a_(t,r,s,l,h,p,E,b,x,H,te,oe){return t=new KA(t,r,s,E,b,x,H,oe),r=1,p===!0&&(r|=24),p=Tn(3,null,null,r),t.current=p,p.stateNode=t,r=xf(),r.refCount++,t.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},Uf(p),t}function s_(t){return t?(t=Ss,t):Ss}function o_(t,r,s,l,h,p){h=s_(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Si(t,l,r),s!==null&&(Rn(s,t,r),nl(s,t,r))}function l_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function ep(t,r){l_(t,r),(t=t.alternate)&&l_(t,r)}function u_(t){if(t.tag===13){var r=bs(t,67108864);r!==null&&Rn(r,t,67108864),ep(t,67108864)}}var Pc=!0;function QA(t,r,s,l){var h=q.T;q.T=null;var p=V.p;try{V.p=2,tp(t,r,s,l)}finally{V.p=p,q.T=h}}function YA(t,r,s,l){var h=q.T;q.T=null;var p=V.p;try{V.p=8,tp(t,r,s,l)}finally{V.p=p,q.T=h}}function tp(t,r,s,l){if(Pc){var h=np(l);if(h===null)qd(t,r,l,Mc,s),h_(t,l);else if(XA(h,t,r,s,l))l.stopPropagation();else if(h_(t,l),r&4&&-1<$A.indexOf(t)){for(;h!==null;){var p=ir(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Fn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var x=1<<31-en(E);b.entanglements[1]|=x,E&=~x}vr(p),($e&6)===0&&(gc=rt()+500,_l(0))}}break;case 13:b=bs(p,2),b!==null&&Rn(b,p,2),vc(),ep(p,2)}if(p=np(l),p===null&&qd(t,r,l,Mc,s),p===h)break;h=p}h!==null&&l.stopPropagation()}else qd(t,r,l,null,s)}}function np(t){return t=Pn(t),rp(t)}var Mc=null;function rp(t){if(Mc=null,t=Pr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Mc=t,null}function c_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case tr:return 2;case nr:return 8;case Jt:case On:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var ip=!1,Vi=null,Li=null,Ui=null,Cl=new Map,Il=new Map,zi=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(t,r){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Ol(t,r,s,l,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=ir(r),r!==null&&u_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function XA(t,r,s,l,h){switch(r){case"focusin":return Vi=Ol(Vi,t,r,s,l,h),!0;case"dragenter":return Li=Ol(Li,t,r,s,l,h),!0;case"mouseover":return Ui=Ol(Ui,t,r,s,l,h),!0;case"pointerover":var p=h.pointerId;return Cl.set(p,Ol(Cl.get(p)||null,t,r,s,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Il.set(p,Ol(Il.get(p)||null,t,r,s,l,h)),!0}return!1}function f_(t){var r=Pr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,vu(t.priority,function(){if(s.tag===13){var l=wn();l=di(l);var h=bs(s,l);h!==null&&Rn(h,s,l),ep(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=np(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Vr=l,s.target.dispatchEvent(l),Vr=null}else return r=ir(s),r!==null&&u_(r),t.blockedOn=s,!1;r.shift()}return!0}function d_(t,r,s){xc(t)&&s.delete(r)}function WA(){ip=!1,Vi!==null&&xc(Vi)&&(Vi=null),Li!==null&&xc(Li)&&(Li=null),Ui!==null&&xc(Ui)&&(Ui=null),Cl.forEach(d_),Il.forEach(d_)}function kc(t,r){t.blockedOn===r&&(t.blockedOn=null,ip||(ip=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WA)))}var Vc=null;function p_(t){Vc!==t&&(Vc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(rp(l||s)===null)continue;break}var p=ir(s);p!==null&&(t.splice(r,3),r-=3,rd(p,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Dl(t){function r(x){return kc(x,t)}Vi!==null&&kc(Vi,t),Li!==null&&kc(Li,t),Ui!==null&&kc(Ui,t),Cl.forEach(r),Il.forEach(r);for(var s=0;s<zi.length;s++){var l=zi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zi.length&&(s=zi[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&zi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],p=s[l+1],E=h[Et]||null;if(typeof p=="function")E||p_(s);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[Et]||null)b=E.formAction;else if(rp(h)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),p_(s)}}}function ap(t){this._internalRoot=t}Lc.prototype.render=ap.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=wn();o_(s,l,t,r,null,null)},Lc.prototype.unmount=ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;o_(t.current,2,null,t,null,null),vc(),r[Dn]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var r=pi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<zi.length&&r!==0&&r<zi[s].priority;s++);zi.splice(s,0,t),s===0&&f_(t)}};var m_=e.version;if(m_!=="19.1.0")throw Error(a(527,m_,"19.1.0"));V.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ZA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{dt=Uc.inject(ZA),Ye=Uc}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ny,p=Py,E=My,b=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=a_(t,1,!1,null,null,s,l,h,p,E,b,null),t[Dn]=r.current,Bd(t),new ap(r)},Pl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",p=Ny,E=Py,b=My,x=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),r=a_(t,1,!0,r,s??null,l,h,p,E,b,x,H),r.context=s_(null),s=r.current,l=wn(),l=di(l),h=bi(l),h.callback=null,Si(s,h,l),s=l,r.current.lanes=s,Nr(r,s),vr(r),t[Dn]=r.current,Bd(t),new Lc(r)},Pl.version="19.1.0",Pl}var w_;function lw(){if(w_)return lp.exports;w_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lp.exports=ow(),lp.exports}var uw=lw(),Ml={},R_;function cw(){if(R_)return Ml;R_=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=f,Ml.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,D){const M=new u,G=S.length;if(G<2)return M;const z=(D==null?void 0:D.decode)||v;let Y=0;do{const ue=S.indexOf("=",Y);if(ue===-1)break;const re=S.indexOf(";",Y),pe=re===-1?G:re;if(ue>pe){Y=S.lastIndexOf(";",ue-1)+1;continue}const de=d(S,Y,ue),ge=m(S,ue,de),k=S.slice(de,ge);if(M[k]===void 0){let O=d(S,ue+1,pe),C=m(S,pe,O);const N=z(S.slice(O,C));M[k]=N}Y=pe+1}while(Y<G);return M}function d(S,D,M){do{const G=S.charCodeAt(D);if(G!==32&&G!==9)return D}while(++D<M);return M}function m(S,D,M){for(;D>M;){const G=S.charCodeAt(--D);if(G!==32&&G!==9)return D+1}return M}function g(S,D,M){const G=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=G(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let Y=S+"="+z;if(!M)return Y;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);Y+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);Y+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);Y+="; Path="+M.path}if(M.expires){if(!T(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);Y+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(Y+="; HttpOnly"),M.secure&&(Y+="; Secure"),M.partitioned&&(Y+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return Y}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return Ml}cw();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C_="popstate";function hw(i={}){function e(a,o){let{pathname:u,search:f,hash:d}=a.location;return Dp("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Yl(o)}return dw(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Rr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function I_(i,e){return{usr:i.state,key:i.key,idx:e}}function Dp(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||a||fw()}}function Yl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function po(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function dw(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,d="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){d="POP";let z=v(),Y=z==null?null:z-g;g=z,m&&m({action:d,location:G.location,delta:Y})}function S(z,Y){d="PUSH";let ue=Dp(G.location,z,Y);g=v()+1;let re=I_(ue,g),pe=G.createHref(ue);try{f.pushState(re,"",pe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(pe)}u&&m&&m({action:d,location:G.location,delta:1})}function D(z,Y){d="REPLACE";let ue=Dp(G.location,z,Y);g=v();let re=I_(ue,g),pe=G.createHref(ue);f.replaceState(re,"",pe),u&&m&&m({action:d,location:G.location,delta:0})}function M(z){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ue=typeof z=="string"?z:Yl(z);return ue=ue.replace(/ $/,"%20"),ct(Y,`No window.location.(origin|href) available to create URL for href: ${ue}`),new URL(ue,Y)}let G={get action(){return d},get location(){return i(o,f)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(C_,T),m=z,()=>{o.removeEventListener(C_,T),m=null}},createHref(z){return e(o,z)},createURL:M,encodeLocation(z){let Y=M(z);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:D,go(z){return f.go(z)}};return G}function A0(i,e,n="/"){return pw(i,e,n,!1)}function pw(i,e,n,a){let o=typeof e=="string"?po(e):e,u=ai(o.pathname||"/",n);if(u==null)return null;let f=w0(i);mw(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let g=Rw(u);d=Aw(f[m],g,a)}return d}function w0(i,e=[],n=[],a=""){let o=(u,f,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ri([a,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),w0(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:bw(g,u.index),routesMeta:v})};return i.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let m of R0(u.path))o(u,f,m)}),e}function R0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=R0(a.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function mw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Sw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var gw=/^:[\w-]+$/,yw=3,vw=2,_w=1,Ew=10,Tw=-2,O_=i=>i==="*";function bw(i,e){let n=i.split("/"),a=n.length;return n.some(O_)&&(a+=Tw),e&&(a+=vw),n.filter(o=>!O_(o)).reduce((o,u)=>o+(gw.test(u)?yw:u===""?_w:Ew),a)}function Sw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Aw(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=hh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!T&&g&&n&&!a[a.length-1].route.index&&(T=hh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ri([u,T.pathname]),pathnameBase:Dw(ri([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ri([u,T.pathnameBase]))}return f}function hh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=ww(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let M=d[S]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=d[S];return T&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function ww(i,e=!1,n=!0){Rr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Rw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ai(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Cw(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?po(i):i;return{pathname:n?n.startsWith("/")?n:Iw(n,e):e,search:Nw(a),hash:Pw(o)}}function Iw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fp(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ow(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C0(i){let e=Ow(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function I0(i,e,n,a=!1){let o;typeof i=="string"?o=po(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),fp("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),fp("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),fp("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=n;else{let T=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let m=Cw(o,d),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ri=i=>i.join("/").replace(/\/\/+/g,"/"),Dw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Nw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Pw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Mw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var xw=["GET",...O0];new Set(xw);var mo=$.createContext(null);mo.displayName="DataRouter";var kh=$.createContext(null);kh.displayName="DataRouterState";var D0=$.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var kw=$.createContext(new Map);kw.displayName="Fetchers";var Vw=$.createContext(null);Vw.displayName="Await";var Or=$.createContext(null);Or.displayName="Navigation";var iu=$.createContext(null);iu.displayName="Location";var hi=$.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var im=$.createContext(null);im.displayName="RouteError";function Lw(i,{relative:e}={}){ct(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=$.useContext(Or),{hash:o,pathname:u,search:f}=su(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:ri([n,u])),a.createHref({pathname:d,search:f,hash:o})}function au(){return $.useContext(iu)!=null}function Ja(){return ct(au(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(iu).location}var N0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(i){$.useContext(Or).static||$.useLayoutEffect(i)}function am(){let{isDataRoute:i}=$.useContext(hi);return i?Xw():Uw()}function Uw(){ct(au(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(mo),{basename:e,navigator:n}=$.useContext(Or),{matches:a}=$.useContext(hi),{pathname:o}=Ja(),u=JSON.stringify(C0(a)),f=$.useRef(!1);return P0(()=>{f.current=!0}),$.useCallback((m,g={})=>{if(Rr(f.current,N0),!f.current)return;if(typeof m=="number"){n.go(m);return}let v=I0(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ri([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}$.createContext(null);function su(i,{relative:e}={}){let{matches:n}=$.useContext(hi),{pathname:a}=Ja(),o=JSON.stringify(C0(n));return $.useMemo(()=>I0(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function zw(i,e){return M0(i,e)}function M0(i,e,n,a){var ue;ct(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=$.useContext(Or),{matches:f}=$.useContext(hi),d=f[f.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let re=T&&T.path||"";x0(g,!T||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let S=Ja(),D;if(e){let re=typeof e=="string"?po(e):e;ct(v==="/"||((ue=re.pathname)==null?void 0:ue.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${re.pathname}" was given in the \`location\` prop.`),D=re}else D=S;let M=D.pathname||"/",G=M;if(v!=="/"){let re=v.replace(/^\//,"").split("/");G="/"+M.replace(/^\//,"").split("/").slice(re.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:A0(i,{pathname:G});Rr(T||z!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Rr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Fw(z&&z.map(re=>Object.assign({},re,{params:Object.assign({},m,re.params),pathname:ri([v,o.encodeLocation?o.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?v:ri([v,o.encodeLocation?o.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),f,n,a);return e&&Y?$.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Y):Y}function jw(){let i=$w(),e=Mw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,f)}var Bw=$.createElement(jw,null),qw=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(hi.Provider,{value:this.props.routeContext},$.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hw({routeContext:i,match:e,children:n}){let a=$.useContext(mo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(hi.Provider,{value:i},n)}function Fw(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:T}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let T,S=!1,D=null,M=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||Bw,f&&(d<0&&v===0?(x0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):d===v&&(S=!0,M=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,v+1)),z=()=>{let Y;return T?Y=D:S?Y=M:g.route.Component?Y=$.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,$.createElement(Hw,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?$.createElement(qw,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):z()},null)}function sm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(i){let e=$.useContext(mo);return ct(e,sm(i)),e}function Kw(i){let e=$.useContext(kh);return ct(e,sm(i)),e}function Qw(i){let e=$.useContext(hi);return ct(e,sm(i)),e}function om(i){let e=Qw(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Yw(){return om("useRouteId")}function $w(){var a;let i=$.useContext(im),e=Kw("useRouteError"),n=om("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function Xw(){let{router:i}=Gw("useNavigate"),e=om("useNavigate"),n=$.useRef(!1);return P0(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{Rr(n.current,N0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var D_={};function x0(i,e,n){!e&&!D_[i]&&(D_[i]=!0,Rr(!1,n))}$.memo(Ww);function Ww({routes:i,future:e,state:n}){return M0(i,void 0,n,e)}function Xc(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zw({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){ct(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=po(n));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:S="default"}=n,D=$.useMemo(()=>{let M=ai(m,f);return M==null?null:{location:{pathname:M,search:g,hash:v,state:T,key:S},navigationType:a}},[f,m,g,v,T,S,a]);return Rr(D!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:$.createElement(Or.Provider,{value:d},$.createElement(iu.Provider,{children:e,value:D}))}function Jw({children:i,location:e}){return zw(Np(i),e)}function Np(i,e=[]){let n=[];return $.Children.forEach(i,(a,o)=>{if(!$.isValidElement(a))return;let u=[...e,o];if(a.type===$.Fragment){n.push.apply(n,Np(a.props.children,u));return}ct(a.type===Xc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Np(a.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function Vh(i){return i!=null&&typeof i.tagName=="string"}function eR(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function tR(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function nR(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function rR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iR(i,e){return i.button===0&&(!e||e==="_self")&&!rR(i)}var zc=null;function aR(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var sR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dp(i){return i!=null&&!sR.has(i)?(Rr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):i}function oR(i,e){let n,a,o,u,f;if(tR(i)){let d=i.getAttribute("action");a=d?ai(d,e):null,n=i.getAttribute("method")||Wc,o=dp(i.getAttribute("enctype"))||Zc,u=new FormData(i)}else if(eR(i)||nR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(a=m?ai(m,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||Wc,o=dp(i.getAttribute("formenctype"))||dp(d.getAttribute("enctype"))||Zc,u=new FormData(d,i),!aR()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,a=null,o=Zc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function lm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function lR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function cR(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await lR(u,n);return f.links?f.links():[]}return[]}));return pR(a.flat(1).filter(uR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N_(i,e,n,a,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{var T;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hR(i,e,{includeHydrateFallback:n}={}){return fR(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fR(i){return[...new Set(i)]}function dR(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function pR(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(dR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var mR=new Set([100,101,204,205]);function gR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ai(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function k0(){let i=$.useContext(mo);return lm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function yR(){let i=$.useContext(kh);return lm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var um=$.createContext(void 0);um.displayName="FrameworkContext";function V0(){let i=$.useContext(um);return lm(i,"You must render this element inside a <HydratedRouter> element"),i}function vR(i,e){let n=$.useContext(um),[a,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=Y=>{Y.forEach(ue=>{f(ue.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),$.useEffect(()=>{if(a){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[a]);let D=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:xl(d,D),onBlur:xl(m,M),onMouseEnter:xl(g,D),onMouseLeave:xl(v,M),onTouchStart:xl(T,D)}]:[!1,S,{}]}function xl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function _R({page:i,...e}){let{router:n}=k0(),a=$.useMemo(()=>A0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?$.createElement(TR,{page:i,matches:a,...e}):null}function ER(i){let{manifest:e,routeModules:n}=V0(),[a,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return cR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function TR({page:i,matches:e,...n}){let a=Ja(),{manifest:o,routeModules:u}=V0(),{basename:f}=k0(),{loaderData:d,matches:m}=yR(),g=$.useMemo(()=>N_(i,e,m,o,a,"data"),[i,e,m,o,a]),v=$.useMemo(()=>N_(i,e,m,o,a,"assets"),[i,e,m,o,a]),T=$.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let M=new Set,G=!1;if(e.forEach(Y=>{var re;let ue=o.routes[Y.route.id];!ue||!ue.hasLoader||(!g.some(pe=>pe.route.id===Y.route.id)&&Y.route.id in d&&((re=u[Y.route.id])!=null&&re.shouldRevalidate)||ue.hasClientLoader?G=!0:M.add(Y.route.id))}),M.size===0)return[];let z=gR(i,f);return G&&M.size>0&&z.searchParams.set("_routes",e.filter(Y=>M.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[z.pathname+z.search]},[f,d,a,o,g,e,i,u]),S=$.useMemo(()=>hR(v,o),[v,o]),D=ER(v);return $.createElement($.Fragment,null,T.map(M=>$.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>$.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:G})=>$.createElement("link",{key:M,...G})))}function bR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var L0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L0&&(window.__reactRouterVersion="7.5.1")}catch{}function SR({basename:i,children:e,window:n}){let a=$.useRef();a.current==null&&(a.current=hw({window:n,v5Compat:!0}));let o=a.current,[u,f]=$.useState({action:o.action,location:o.location}),d=$.useCallback(m=>{$.startTransition(()=>f(m))},[f]);return $.useLayoutEffect(()=>o.listen(d),[o,d]),$.createElement(Zw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fh=$.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...S},D){let{basename:M}=$.useContext(Or),G=typeof g=="string"&&U0.test(g),z,Y=!1;if(typeof g=="string"&&G&&(z=g,L0))try{let C=new URL(window.location.href),N=g.startsWith("//")?new URL(C.protocol+g):new URL(g),P=ai(N.pathname,M);N.origin===C.origin&&P!=null?g=P+N.search+N.hash:Y=!0}catch{Rr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=Lw(g,{relative:o}),[re,pe,de]=vR(a,S),ge=CR(g,{replace:f,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:T});function k(C){e&&e(C),C.defaultPrevented||ge(C)}let O=$.createElement("a",{...S,...de,href:z||ue,onClick:Y||u?e:k,ref:bR(D,pe),target:m,"data-discover":!G&&n==="render"?"true":void 0});return re&&!G?$.createElement($.Fragment,null,O,$.createElement(_R,{page:ue})):O});fh.displayName="Link";var AR=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...g},v){let T=su(f,{relative:g.relative}),S=Ja(),D=$.useContext(kh),{navigator:M,basename:G}=$.useContext(Or),z=D!=null&&PR(T)&&d===!0,Y=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,ue=S.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),re=re?re.toLowerCase():null,Y=Y.toLowerCase()),re&&G&&(re=ai(re,G)||re);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let de=ue===Y||!o&&ue.startsWith(Y)&&ue.charAt(pe)==="/",ge=re!=null&&(re===Y||!o&&re.startsWith(Y)&&re.charAt(Y.length)==="/"),k={isActive:de,isPending:ge,isTransitioning:z},O=de?e:void 0,C;typeof a=="function"?C=a(k):C=[a,de?"active":null,ge?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(k):u;return $.createElement(fh,{...g,"aria-current":O,className:C,ref:v,style:N,to:f,viewTransition:d},typeof m=="function"?m(k):m)});AR.displayName="NavLink";var wR=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Wc,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...S},D)=>{let M=DR(),G=NR(d,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&U0.test(d),ue=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,de=(pe==null?void 0:pe.getAttribute("formmethod"))||f;M(pe||re.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return $.createElement("form",{ref:D,method:z,action:G,onSubmit:a?m:ue,...S,"data-discover":!Y&&i==="render"?"true":void 0})});wR.displayName="Form";function RR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(i){let e=$.useContext(mo);return ct(e,RR(i)),e}function CR(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=am(),m=Ja(),g=su(i,{relative:u});return $.useCallback(v=>{if(iR(v,e)){v.preventDefault();let T=n!==void 0?n:Yl(m)===Yl(g);d(i,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[m,d,g,n,a,e,i,o,u,f])}var IR=0,OR=()=>`__${String(++IR)}__`;function DR(){let{router:i}=z0("useSubmit"),{basename:e}=$.useContext(Or),n=Yw();return $.useCallback(async(a,o={})=>{let{action:u,method:f,encType:d,formData:m,body:g}=oR(a,e);if(o.navigate===!1){let v=o.fetcherKey||OR();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function NR(i,{relative:e}={}){let{basename:n}=$.useContext(Or),a=$.useContext(hi);ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...su(i||".",{relative:e})},f=Ja();if(i==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ri([n,u.pathname])),Yl(u)}function PR(i,e={}){let n=$.useContext(D0);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=z0("useViewTransitionState"),o=su(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ai(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=ai(n.nextLocation.pathname,a)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}new TextEncoder;[...mR];var jc={exports:{}},Bi={},pp={exports:{}},mp,P_;function MR(){if(P_)return mp;P_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mp=i,mp}var gp,M_;function xR(){if(M_)return gp;M_=1;var i=MR();function e(){}function n(){}return n.resetWarningCache=e,gp=function(){function a(f,d,m,g,v,T){if(T!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},gp}var x_;function j0(){return x_||(x_=1,pp.exports=xR()()),pp.exports}var Bc={exports:{}},qn={},qc={exports:{}},k_;function B0(){return k_||(k_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",a="contents",o=/^(input|select|textarea|button|object|iframe)$/;function u(T,S){return S.getPropertyValue("overflow")!=="visible"||T.scrollWidth<=0&&T.scrollHeight<=0}function f(T){var S=T.offsetWidth<=0&&T.offsetHeight<=0;if(S&&!T.innerHTML)return!0;try{var D=window.getComputedStyle(T),M=D.getPropertyValue("display");return S?M!==a&&u(T,D):M===n}catch{return console.warn("Failed to inspect element style"),!1}}function d(T){for(var S=T,D=T.getRootNode&&T.getRootNode();S&&S!==document.body;){if(D&&S===D&&(S=D.host.parentNode),f(S))return!1;S=S.parentNode}return!0}function m(T,S){var D=T.nodeName.toLowerCase(),M=o.test(D)&&!T.disabled||D==="a"&&T.href||S;return M&&d(T)}function g(T){var S=T.getAttribute("tabindex");S===null&&(S=void 0);var D=isNaN(S);return(D||S>=0)&&m(T,!D)}function v(T){var S=[].slice.call(T.querySelectorAll("*"),0).reduce(function(D,M){return D.concat(M.shadowRoot?v(M.shadowRoot):[M])},[]);return S.filter(g)}i.exports=e.default}(qc,qc.exports)),qc.exports}var V_;function kR(){if(V_)return qn;V_=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.resetState=f,qn.log=d,qn.handleBlur=m,qn.handleFocus=g,qn.markForFocusLater=v,qn.returnFocus=T,qn.popWithoutFocus=S,qn.setupScopedFocus=D,qn.teardownScopedFocus=M;var i=B0(),e=n(i);function n(G){return G&&G.__esModule?G:{default:G}}var a=[],o=null,u=!1;function f(){a=[]}function d(){}function m(){u=!0}function g(){if(u){if(u=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var G=(0,e.default)(o)[0]||o;G.focus()}},0)}}function v(){a.push(document.activeElement)}function T(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,z=null;try{a.length!==0&&(z=a.pop(),z.focus({preventScroll:G}));return}catch{console.warn(["You tried to return focus to",z,"but it is not in the DOM anymore"].join(" "))}}function S(){a.length>0&&a.pop()}function D(G){o=G,window.addEventListener?(window.addEventListener("blur",m,!1),document.addEventListener("focus",g,!0)):(window.attachEvent("onBlur",m),document.attachEvent("onFocus",g))}function M(){o=null,window.addEventListener?(window.removeEventListener("blur",m),document.removeEventListener("focus",g)):(window.detachEvent("onBlur",m),document.detachEvent("onFocus",g))}return qn}var Hc={exports:{}},L_;function VR(){return L_||(L_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=B0(),a=o(n);function o(d){return d&&d.__esModule?d:{default:d}}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?u(d.activeElement.shadowRoot):d.activeElement}function f(d,m){var g=(0,a.default)(d);if(!g.length){m.preventDefault();return}var v=void 0,T=m.shiftKey,S=g[0],D=g[g.length-1],M=u();if(d===M){if(!T)return;v=D}if(D===M&&!T&&(v=S),S===M&&T&&(v=D),v){m.preventDefault(),v.focus();return}var G=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),z=G!=null&&G[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(z){var Y=g.indexOf(M);if(Y>-1&&(Y+=T?-1:1),v=g[Y],typeof v>"u"){m.preventDefault(),v=T?D:S,v.focus();return}m.preventDefault(),v.focus()}}i.exports=e.default}(Hc,Hc.exports)),Hc.exports}var Xn={},yp,U_;function LR(){if(U_)return yp;U_=1;var i=function(){};return yp=i,yp}var _r={},vp={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var z_;function UR(){return z_||(z_=1,function(i){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};i.exports?i.exports=n:window.ExecutionEnvironment=n})()}(vp)),vp.exports}var j_;function cm(){if(j_)return _r;j_=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.canUseDOM=_r.SafeNodeList=_r.SafeHTMLCollection=void 0;var i=UR(),e=n(i);function n(u){return u&&u.__esModule?u:{default:u}}var a=e.default,o=a.canUseDOM?window.HTMLElement:{};return _r.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},_r.SafeNodeList=a.canUseDOM?window.NodeList:{},_r.canUseDOM=a.canUseDOM,_r.default=o,_r}var B_;function q0(){if(B_)return Xn;B_=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.resetState=u,Xn.log=f,Xn.assertNodeList=d,Xn.setElement=m,Xn.validateElement=g,Xn.hide=v,Xn.show=T,Xn.documentNotReadyOrSSRTesting=S;var i=LR(),e=a(i),n=cm();function a(D){return D&&D.__esModule?D:{default:D}}var o=null;function u(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(D){return D.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(D){return D.removeAttribute("aria-hidden")})),o=null}function f(){}function d(D,M){if(!D||!D.length)throw new Error("react-modal: No elements were found for selector "+M+".")}function m(D){var M=D;if(typeof M=="string"&&n.canUseDOM){var G=document.querySelectorAll(M);d(G,M),M=G}return o=M||o,o}function g(D){var M=D||o;return M?Array.isArray(M)||M instanceof HTMLCollection||M instanceof NodeList?M:[M]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function v(D){var M=!0,G=!1,z=void 0;try{for(var Y=g(D)[Symbol.iterator](),ue;!(M=(ue=Y.next()).done);M=!0){var re=ue.value;re.setAttribute("aria-hidden","true")}}catch(pe){G=!0,z=pe}finally{try{!M&&Y.return&&Y.return()}finally{if(G)throw z}}}function T(D){var M=!0,G=!1,z=void 0;try{for(var Y=g(D)[Symbol.iterator](),ue;!(M=(ue=Y.next()).done);M=!0){var re=ue.value;re.removeAttribute("aria-hidden")}}catch(pe){G=!0,z=pe}finally{try{!M&&Y.return&&Y.return()}finally{if(G)throw z}}}function S(){o=null}return Xn}var Fa={},q_;function zR(){if(q_)return Fa;q_=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.resetState=a,Fa.log=o;var i={},e={};function n(g,v){g.classList.remove(v)}function a(){var g=document.getElementsByTagName("html")[0];for(var v in i)n(g,i[v]);var T=document.body;for(var S in e)n(T,e[S]);i={},e={}}function o(){}var u=function(v,T){return v[T]||(v[T]=0),v[T]+=1,T},f=function(v,T){return v[T]&&(v[T]-=1),T},d=function(v,T,S){S.forEach(function(D){u(T,D),v.add(D)})},m=function(v,T,S){S.forEach(function(D){f(T,D),T[D]===0&&v.remove(D)})};return Fa.add=function(v,T){return d(v.classList,v.nodeName.toLowerCase()=="html"?i:e,T.split(" "))},Fa.remove=function(v,T){return m(v.classList,v.nodeName.toLowerCase()=="html"?i:e,T.split(" "))},Fa}var Qs={},H_;function H0(){if(H_)return Qs;H_=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.log=a,Qs.resetState=o;function i(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var e=function u(){var f=this;i(this,u),this.register=function(d){f.openInstances.indexOf(d)===-1&&(f.openInstances.push(d),f.emit("register"))},this.deregister=function(d){var m=f.openInstances.indexOf(d);m!==-1&&(f.openInstances.splice(m,1),f.emit("deregister"))},this.subscribe=function(d){f.subscribers.push(d)},this.emit=function(d){f.subscribers.forEach(function(m){return m(d,f.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function a(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(u){return console.log(u)}),console.log("end portalOpenInstances ----------")}function o(){n=new e}return Qs.default=n,Qs}var kl={},F_;function jR(){if(F_)return kl;F_=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.resetState=f,kl.log=d;var i=H0(),e=n(i);function n(v){return v&&v.__esModule?v:{default:v}}var a=void 0,o=void 0,u=[];function f(){for(var v=[a,o],T=0;T<v.length;T++){var S=v[T];S&&S.parentNode&&S.parentNode.removeChild(S)}a=o=null,u=[]}function d(){console.log("bodyTrap ----------"),console.log(u.length);for(var v=[a,o],T=0;T<v.length;T++){var S=v[T],D=S||{};console.log(D.nodeName,D.className,D.id)}console.log("edn bodyTrap ----------")}function m(){u.length!==0&&u[u.length-1].focusContent()}function g(v,T){!a&&!o&&(a=document.createElement("div"),a.setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",m),o=a.cloneNode(),o.addEventListener("focus",m)),u=T,u.length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(a.parentElement&&a.parentElement.removeChild(a),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(g),kl}var G_;function BR(){return G_||(G_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(ne){for(var ee=1;ee<arguments.length;ee++){var q=arguments[ee];for(var V in q)Object.prototype.hasOwnProperty.call(q,V)&&(ne[V]=q[V])}return ne},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},o=function(){function ne(ee,q){for(var V=0;V<q.length;V++){var ie=q[V];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(ee,ie.key,ie)}}return function(ee,q,V){return q&&ne(ee.prototype,q),V&&ne(ee,V),ee}}(),u=fo(),f=j0(),d=de(f),m=kR(),g=pe(m),v=VR(),T=de(v),S=q0(),D=pe(S),M=zR(),G=pe(M),z=cm(),Y=de(z),ue=H0(),re=de(ue);jR();function pe(ne){if(ne&&ne.__esModule)return ne;var ee={};if(ne!=null)for(var q in ne)Object.prototype.hasOwnProperty.call(ne,q)&&(ee[q]=ne[q]);return ee.default=ne,ee}function de(ne){return ne&&ne.__esModule?ne:{default:ne}}function ge(ne,ee){if(!(ne instanceof ee))throw new TypeError("Cannot call a class as a function")}function k(ne,ee){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:ne}function O(ne,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);ne.prototype=Object.create(ee&&ee.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,ee):ne.__proto__=ee)}var C={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},N=function(ee){return ee.code==="Tab"||ee.keyCode===9},P=function(ee){return ee.code==="Escape"||ee.keyCode===27},I=0,R=function(ne){O(ee,ne);function ee(q){ge(this,ee);var V=k(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,q));return V.setOverlayRef=function(ie){V.overlay=ie,V.props.overlayRef&&V.props.overlayRef(ie)},V.setContentRef=function(ie){V.content=ie,V.props.contentRef&&V.props.contentRef(ie)},V.afterClose=function(){var ie=V.props,se=ie.appElement,A=ie.ariaHideApp,F=ie.htmlOpenClassName,W=ie.bodyOpenClassName,X=ie.parentSelector,he=X&&X().ownerDocument||document;W&&G.remove(he.body,W),F&&G.remove(he.getElementsByTagName("html")[0],F),A&&I>0&&(I-=1,I===0&&D.show(se)),V.props.shouldFocusAfterRender&&(V.props.shouldReturnFocusAfterClose?(g.returnFocus(V.props.preventScroll),g.teardownScopedFocus()):g.popWithoutFocus()),V.props.onAfterClose&&V.props.onAfterClose(),re.default.deregister(V)},V.open=function(){V.beforeOpen(),V.state.afterOpen&&V.state.beforeClose?(clearTimeout(V.closeTimer),V.setState({beforeClose:!1})):(V.props.shouldFocusAfterRender&&(g.setupScopedFocus(V.node),g.markForFocusLater()),V.setState({isOpen:!0},function(){V.openAnimationFrame=requestAnimationFrame(function(){V.setState({afterOpen:!0}),V.props.isOpen&&V.props.onAfterOpen&&V.props.onAfterOpen({overlayEl:V.overlay,contentEl:V.content})})}))},V.close=function(){V.props.closeTimeoutMS>0?V.closeWithTimeout():V.closeWithoutTimeout()},V.focusContent=function(){return V.content&&!V.contentHasFocus()&&V.content.focus({preventScroll:!0})},V.closeWithTimeout=function(){var ie=Date.now()+V.props.closeTimeoutMS;V.setState({beforeClose:!0,closesAt:ie},function(){V.closeTimer=setTimeout(V.closeWithoutTimeout,V.state.closesAt-Date.now())})},V.closeWithoutTimeout=function(){V.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},V.afterClose)},V.handleKeyDown=function(ie){N(ie)&&(0,T.default)(V.content,ie),V.props.shouldCloseOnEsc&&P(ie)&&(ie.stopPropagation(),V.requestClose(ie))},V.handleOverlayOnClick=function(ie){V.shouldClose===null&&(V.shouldClose=!0),V.shouldClose&&V.props.shouldCloseOnOverlayClick&&(V.ownerHandlesClose()?V.requestClose(ie):V.focusContent()),V.shouldClose=null},V.handleContentOnMouseUp=function(){V.shouldClose=!1},V.handleOverlayOnMouseDown=function(ie){!V.props.shouldCloseOnOverlayClick&&ie.target==V.overlay&&ie.preventDefault()},V.handleContentOnClick=function(){V.shouldClose=!1},V.handleContentOnMouseDown=function(){V.shouldClose=!1},V.requestClose=function(ie){return V.ownerHandlesClose()&&V.props.onRequestClose(ie)},V.ownerHandlesClose=function(){return V.props.onRequestClose},V.shouldBeClosed=function(){return!V.state.isOpen&&!V.state.beforeClose},V.contentHasFocus=function(){return document.activeElement===V.content||V.content.contains(document.activeElement)},V.buildClassName=function(ie,se){var A=(typeof se>"u"?"undefined":a(se))==="object"?se:{base:C[ie],afterOpen:C[ie]+"--after-open",beforeClose:C[ie]+"--before-close"},F=A.base;return V.state.afterOpen&&(F=F+" "+A.afterOpen),V.state.beforeClose&&(F=F+" "+A.beforeClose),typeof se=="string"&&se?F+" "+se:F},V.attributesFromObject=function(ie,se){return Object.keys(se).reduce(function(A,F){return A[ie+"-"+F]=se[F],A},{})},V.state={afterOpen:!1,beforeClose:!1},V.shouldClose=null,V.moveFromContentToOverlay=null,V}return o(ee,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(V,ie){this.props.isOpen&&!V.isOpen?this.open():!this.props.isOpen&&V.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ie.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var V=this.props,ie=V.appElement,se=V.ariaHideApp,A=V.htmlOpenClassName,F=V.bodyOpenClassName,W=V.parentSelector,X=W&&W().ownerDocument||document;F&&G.add(X.body,F),A&&G.add(X.getElementsByTagName("html")[0],A),se&&(I+=1,D.hide(ie)),re.default.register(this)}},{key:"render",value:function(){var V=this.props,ie=V.id,se=V.className,A=V.overlayClassName,F=V.defaultStyles,W=V.children,X=se?{}:F.content,he=A?{}:F.overlay;if(this.shouldBeClosed())return null;var _e={ref:this.setOverlayRef,className:this.buildClassName("overlay",A),style:n({},he,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ye=n({id:ie,ref:this.setContentRef,style:n({},X,this.props.style.content),className:this.buildClassName("content",se),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Fe=this.props.contentElement(ye,W);return this.props.overlayElement(_e,Fe)}}]),ee}(u.Component);R.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},R.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(Y.default),d.default.instanceOf(z.SafeHTMLCollection),d.default.instanceOf(z.SafeNodeList),d.default.arrayOf(d.default.instanceOf(Y.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},e.default=R,i.exports=e.default}(Bc,Bc.exports)),Bc.exports}function F0(){var i=this.constructor.getDerivedStateFromProps(this.props,this.state);i!=null&&this.setState(i)}function G0(i){function e(n){var a=this.constructor.getDerivedStateFromProps(i,n);return a??null}this.setState(e.bind(this))}function K0(i,e){try{var n=this.props,a=this.state;this.props=i,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}F0.__suppressDeprecationWarning=!0;G0.__suppressDeprecationWarning=!0;K0.__suppressDeprecationWarning=!0;function qR(i){var e=i.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return i;var n=null,a=null,o=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||a!==null||o!==null){var u=i.displayName||i.name,f=typeof i.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+f+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof i.getDerivedStateFromProps=="function"&&(e.componentWillMount=F0,e.componentWillReceiveProps=G0),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=K0;var d=e.componentDidUpdate;e.componentDidUpdate=function(g,v,T){var S=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:T;d.call(this,g,v,S)}}return i}const HR=Object.freeze(Object.defineProperty({__proto__:null,polyfill:qR},Symbol.toStringTag,{value:"Module"})),FR=ew(HR);var K_;function GR(){if(K_)return Bi;K_=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.bodyOpenClassName=Bi.portalClassName=void 0;var i=Object.assign||function(P){for(var I=1;I<arguments.length;I++){var R=arguments[I];for(var ne in R)Object.prototype.hasOwnProperty.call(R,ne)&&(P[ne]=R[ne])}return P},e=function(){function P(I,R){for(var ne=0;ne<R.length;ne++){var ee=R[ne];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(I,ee.key,ee)}}return function(I,R,ne){return R&&P(I.prototype,R),ne&&P(I,ne),I}}(),n=fo(),a=z(n),o=S0(),u=z(o),f=j0(),d=z(f),m=BR(),g=z(m),v=q0(),T=G(v),S=cm(),D=z(S),M=FR;function G(P){if(P&&P.__esModule)return P;var I={};if(P!=null)for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&(I[R]=P[R]);return I.default=P,I}function z(P){return P&&P.__esModule?P:{default:P}}function Y(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function ue(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function re(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var pe=Bi.portalClassName="ReactModalPortal",de=Bi.bodyOpenClassName="ReactModal__Body--open",ge=S.canUseDOM&&u.default.createPortal!==void 0,k=function(I){return document.createElement(I)},O=function(){return ge?u.default.createPortal:u.default.unstable_renderSubtreeIntoContainer};function C(P){return P()}var N=function(P){re(I,P);function I(){var R,ne,ee,q;Y(this,I);for(var V=arguments.length,ie=Array(V),se=0;se<V;se++)ie[se]=arguments[se];return q=(ne=(ee=ue(this,(R=I.__proto__||Object.getPrototypeOf(I)).call.apply(R,[this].concat(ie))),ee),ee.removePortal=function(){!ge&&u.default.unmountComponentAtNode(ee.node);var A=C(ee.props.parentSelector);A&&A.contains(ee.node)?A.removeChild(ee.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ee.portalRef=function(A){ee.portal=A},ee.renderPortal=function(A){var F=O(),W=F(ee,a.default.createElement(g.default,i({defaultStyles:I.defaultStyles},A)),ee.node);ee.portalRef(W)},ne),ue(ee,q)}return e(I,[{key:"componentDidMount",value:function(){if(S.canUseDOM){ge||(this.node=k("div")),this.node.className=this.props.portalClassName;var ne=C(this.props.parentSelector);ne.appendChild(this.node),!ge&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(ne){var ee=C(ne.parentSelector),q=C(this.props.parentSelector);return{prevParent:ee,nextParent:q}}},{key:"componentDidUpdate",value:function(ne,ee,q){if(S.canUseDOM){var V=this.props,ie=V.isOpen,se=V.portalClassName;ne.portalClassName!==se&&(this.node.className=se);var A=q.prevParent,F=q.nextParent;F!==A&&(A.removeChild(this.node),F.appendChild(this.node)),!(!ne.isOpen&&!ie)&&!ge&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!S.canUseDOM||!this.node||!this.portal)){var ne=this.portal.state,ee=Date.now(),q=ne.isOpen&&this.props.closeTimeoutMS&&(ne.closesAt||ee+this.props.closeTimeoutMS);q?(ne.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,q-ee)):this.removePortal()}}},{key:"render",value:function(){if(!S.canUseDOM||!ge)return null;!this.node&&ge&&(this.node=k("div"));var ne=O();return ne(a.default.createElement(g.default,i({ref:this.portalRef,defaultStyles:I.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(ne){T.setElement(ne)}}]),I}(n.Component);return N.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(D.default),d.default.instanceOf(S.SafeHTMLCollection),d.default.instanceOf(S.SafeNodeList),d.default.arrayOf(d.default.instanceOf(D.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},N.defaultProps={isOpen:!1,portalClassName:pe,bodyOpenClassName:de,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(I,R){return a.default.createElement("div",I,R)},contentElement:function(I,R){return a.default.createElement("div",I,R)}},N.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,M.polyfill)(N),Bi.default=N,Bi}var Q_;function KR(){return Q_||(Q_=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=GR(),a=o(n);function o(u){return u&&u.__esModule?u:{default:u}}e.default=a.default,i.exports=e.default}(jc,jc.exports)),jc.exports}var QR=KR();const hm=rm(QR),YR=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$R=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],d=i[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,d=f?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,D=g&63;m||(D=64,f||(S=64)),a.push(n[v],n[T],n[S],n[D])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Q0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$R(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new XR;const S=u<<2|d>>4;if(a.push(S),g!==64){const D=d<<4&240|g>>2;if(a.push(D),T!==64){const M=g<<6&192|T;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(i){const e=Q0(i);return Y0.encodeByteArray(e,!0)},dh=function(i){return WR(i).replace(/\./g,"")},$0=function(i){try{return Y0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=()=>ZR().__FIREBASE_DEFAULTS__,eC=()=>{if(typeof process>"u"||typeof Y_>"u")return;const i=Y_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$0(i[1]);return e&&JSON.parse(e)},Lh=()=>{try{return YR()||JR()||eC()||tC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},X0=i=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},nC=i=>{const e=X0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},W0=()=>{var i;return(i=Lh())===null||i===void 0?void 0:i.config},Z0=i=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function sC(){var i;const e=(i=Lh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function uC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cC(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function hC(){return!sC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fC(){try{return typeof indexedDB=="object"}catch{return!1}}function dC(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="FirebaseError";class fi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=pC,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?mC(u,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new fi(o,d,a)}}function mC(i,e){return i.replace(gC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const gC=/\{\$([^}]+)}/g;function yC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ya(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if($_(u)&&$_(f)){if(!Ya(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function $_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Vl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function vC(i,e){const n=new _C(i,e);return n.subscribe.bind(n)}class _C{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");EC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(i){return i&&i._delegate?i._delegate:i}class $a{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new rC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SC(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bC(i){return i===Ga?void 0:i}function SC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const wC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},RC=Ve.INFO,CC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},IC=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=CC[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=RC,this._logHandler=IC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const OC=(i,e)=>e.some(n=>i instanceof n);let X_,W_;function DC(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NC(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J0=new WeakMap,Pp=new WeakMap,eT=new WeakMap,Ep=new WeakMap,dm=new WeakMap;function PC(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Yi(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&J0.set(n,i)}).catch(()=>{}),dm.set(e,i),e}function MC(i){if(Pp.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pp.set(i,e)}let Mp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||eT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function xC(i){Mp=i(Mp)}function kC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Tp(this),e,...n);return eT.set(a,e.sort?e.sort():[e]),Yi(a)}:NC().includes(i)?function(...e){return i.apply(Tp(this),e),Yi(J0.get(this))}:function(...e){return Yi(i.apply(Tp(this),e))}}function VC(i){return typeof i=="function"?kC(i):(i instanceof IDBTransaction&&MC(i),OC(i,DC())?new Proxy(i,Mp):i)}function Yi(i){if(i instanceof IDBRequest)return PC(i);if(Ep.has(i))return Ep.get(i);const e=VC(i);return e!==i&&(Ep.set(i,e),dm.set(e,i)),e}const Tp=i=>dm.get(i);function LC(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),d=Yi(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Yi(f.result),m.oldVersion,m.newVersion,Yi(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const UC=["get","getKey","getAll","getAllKeys","count"],zC=["put","add","delete","clear"],bp=new Map;function Z_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=zC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UC.includes(n)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return bp.set(e,u),u}xC(i=>({...i,get:(e,n,a)=>Z_(e,n)||i.get(e,n,a),has:(e,n)=>!!Z_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function BC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",J_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new fm("@firebase/app"),qC="@firebase/app-compat",HC="@firebase/analytics-compat",FC="@firebase/analytics",GC="@firebase/app-check-compat",KC="@firebase/app-check",QC="@firebase/auth",YC="@firebase/auth-compat",$C="@firebase/database",XC="@firebase/data-connect",WC="@firebase/database-compat",ZC="@firebase/functions",JC="@firebase/functions-compat",e1="@firebase/installations",t1="@firebase/installations-compat",n1="@firebase/messaging",r1="@firebase/messaging-compat",i1="@firebase/performance",a1="@firebase/performance-compat",s1="@firebase/remote-config",o1="@firebase/remote-config-compat",l1="@firebase/storage",u1="@firebase/storage-compat",c1="@firebase/firestore",h1="@firebase/vertexai",f1="@firebase/firestore-compat",d1="firebase",p1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",m1={[xp]:"fire-core",[qC]:"fire-core-compat",[FC]:"fire-analytics",[HC]:"fire-analytics-compat",[KC]:"fire-app-check",[GC]:"fire-app-check-compat",[QC]:"fire-auth",[YC]:"fire-auth-compat",[$C]:"fire-rtdb",[XC]:"fire-data-connect",[WC]:"fire-rtdb-compat",[ZC]:"fire-fn",[JC]:"fire-fn-compat",[e1]:"fire-iid",[t1]:"fire-iid-compat",[n1]:"fire-fcm",[r1]:"fire-fcm-compat",[i1]:"fire-perf",[a1]:"fire-perf-compat",[s1]:"fire-rc",[o1]:"fire-rc-compat",[l1]:"fire-gcs",[u1]:"fire-gcs-compat",[c1]:"fire-fst",[f1]:"fire-fst-compat",[h1]:"fire-vertex","fire-js":"fire-js",[d1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,g1=new Map,Vp=new Map;function eE(i,e){try{i.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ro(i){const e=i.name;if(Vp.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,i);for(const n of ph.values())eE(n,i);for(const n of g1.values())eE(n,i);return!0}function pm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new ou("app","Firebase",y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=p1;function tT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:kp,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=W0()),!n)throw $i.create("no-options");const u=ph.get(o);if(u){if(Ya(n,u.options)&&Ya(a,u.config))return u;throw $i.create("duplicate-app",{appName:o})}const f=new AC(o);for(const m of Vp.values())f.addComponent(m);const d=new v1(n,a,f);return ph.set(o,d),d}function nT(i=kp){const e=ph.get(i);if(!e&&i===kp&&W0())return tT();if(!e)throw $i.create("no-app",{appName:i});return e}function Xi(i,e,n){var a;let o=(a=m1[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(d.join(" "));return}ro(new $a(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebase-heartbeat-database",E1=1,$l="firebase-heartbeat-store";let Sp=null;function rT(){return Sp||(Sp=LC(_1,E1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(i=>{throw $i.create("idb-open",{originalErrorMessage:i.message})})),Sp}async function T1(i){try{const n=(await rT()).transaction($l),a=await n.objectStore($l).get(iT(i));return await n.done,a}catch(e){if(e instanceof fi)si.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function tE(i,e){try{const a=(await rT()).transaction($l,"readwrite");await a.objectStore($l).put(e,iT(i)),await a.done}catch(n){if(n instanceof fi)si.warn(n.message);else{const a=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(a.message)}}}function iT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=1024,S1=30;class A1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=nE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>S1){const f=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){si.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nE(),{heartbeatsToSend:a,unsentEntries:o}=w1(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return si.warn(n),""}}}function nE(){return new Date().toISOString().substring(0,10)}function w1(i,e=b1){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),rE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),rE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class R1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fC()?dC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function rE(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function C1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(i){ro(new $a("platform-logger",e=>new jC(e),"PRIVATE")),ro(new $a("heartbeat",e=>new A1(e),"PRIVATE")),Xi(xp,J_,i),Xi(xp,J_,"esm2017"),Xi("fire-js","")}I1("");function mm(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O1=aT,sT=new ou("auth","Firebase",aT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new fm("@firebase/auth");function D1(i,...e){mh.logLevel<=Ve.WARN&&mh.warn(`Auth (${go}): ${i}`,...e)}function Jc(i,...e){mh.logLevel<=Ve.ERROR&&mh.error(`Auth (${go}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(i,...e){throw gm(i,...e)}function br(i,...e){return gm(i,...e)}function oT(i,e,n){const a=Object.assign(Object.assign({},O1()),{[e]:n});return new ou("auth","Firebase",a).create(e,{appName:i.name})}function Wi(i){return oT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return sT.create(i,...e)}function we(i,e,...n){if(!i)throw gm(e,...n)}function ti(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Jc(e),new Error(e)}function oi(i,e){i||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function N1(){return iE()==="http:"||iE()==="https:"}function iE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N1()||lC()||"connection"in navigator)?navigator.onLine:!0}function M1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=aC()||uC()}get(){return P1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(i,e){oi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V1=new uu(3e4,6e4);function es(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function oa(i,e,n,a,o={}){return uT(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=lu(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},u);return oC()||(g.referrerPolicy="no-referrer"),lT.fetch()(await cT(i,i.config.apiHost,n,d),g)})}async function uT(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},x1),e);try{const o=new U1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Fc(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw Fc(i,"user-disabled",f);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oT(i,v,g);er(i,v)}}catch(o){if(o instanceof fi)throw o;er(i,"network-request-failed",{message:String(o)})}}async function Uh(i,e,n,a,o={}){const u=await oa(i,e,n,a,o);return"mfaPendingCredential"in u&&er(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function cT(i,e,n,a){const o=`${e}${n}?${a}`,u=i,f=u.config.emulator?ym(i.config,o):`${i.config.apiScheme}://${o}`;return k1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function L1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(br(this.auth,"network-request-failed")),V1.get())})}}function Fc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=br(i,e,a);return o.customData._tokenResponse=n,o}function aE(i){return i!==void 0&&i.enterprise!==void 0}class z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j1(i,e){return oa(i,"GET","/v2/recaptchaConfig",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(i,e){return oa(i,"POST","/v1/accounts:delete",e)}async function gh(i,e){return oa(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q1(i,e=!1){const n=ln(i),a=await n.getIdToken(e),o=vm(a);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Hl(Ap(o.auth_time)),issuedAtTime:Hl(Ap(o.iat)),expirationTime:Hl(Ap(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ap(i){return Number(i)*1e3}function vm(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$0(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sE(i){const e=vm(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof fi&&H1(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function H1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(i){var e;const n=i.auth,a=await i.getIdToken(),o=await Xl(i,gh(n,{idToken:a}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?hT(u.providerUserInfo):[],d=K1(i.providerData,f),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Up(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function G1(i){const e=ln(i);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K1(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function hT(i){return i.map(e=>{var{providerId:n}=e,a=mm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(i,e){const n=await uT(i,{},async()=>{const a=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await cT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",lT.fetch()(f,{method:"POST",headers:d,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y1(i,e){return oa(i,"POST","/v2/accounts:revokeToken",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await Q1(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Js;return a&&(we(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Up(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q1(this,e)}reload(){return G1(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Xl(this,B1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,d,m,g,v;const T=(a=n.displayName)!==null&&a!==void 0?a:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(d=n.tenantId)!==null&&d!==void 0?d:void 0,z=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ue=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:re,emailVerified:pe,isAnonymous:de,providerData:ge,stsTokenManager:k}=n;we(re&&k,e,"internal-error");const O=Js.fromJSON(this.name,k);we(typeof re=="string",e,"internal-error"),qi(T,e.name),qi(S,e.name),we(typeof pe=="boolean",e,"internal-error"),we(typeof de=="boolean",e,"internal-error"),qi(D,e.name),qi(M,e.name),qi(G,e.name),qi(z,e.name),qi(Y,e.name),qi(ue,e.name);const C=new Zn({uid:re,auth:e,email:S,emailVerified:pe,displayName:T,isAnonymous:de,photoURL:M,phoneNumber:D,tenantId:G,stsTokenManager:O,createdAt:Y,lastLoginAt:ue});return ge&&Array.isArray(ge)&&(C.providerData=ge.map(N=>Object.assign({},N))),z&&(C._redirectEventId=z),C}static async _fromIdTokenResponse(e,n,a=!1){const o=new Js;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new Js;d.updateFromIdToken(a);const m=new Zn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function ni(i){oi(i instanceof Function,"Expected a class definition");let e=oE.get(i);return e?(oi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,oE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fT.type="NONE";const lE=fT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(i,e,n){return`firebase:${i}:${e}:${n}`}class eo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new eo(ni(lE),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ni(lE);const f=eh(a,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const S=await gh(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Zn._fromGetAccountInfoResponse(e,S,v)}else T=Zn._fromJSON(e,v);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new eo(u,e,a):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new eo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vT(e))return"Blackberry";if(_T(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function dT(i=on()){return/firefox\//i.test(i)}function pT(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(i=on()){return/crios\//i.test(i)}function gT(i=on()){return/iemobile/i.test(i)}function yT(i=on()){return/android/i.test(i)}function vT(i=on()){return/blackberry/i.test(i)}function _T(i=on()){return/webos/i.test(i)}function _m(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function $1(i=on()){var e;return _m(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X1(){return cC()&&document.documentMode===10}function ET(i=on()){return _m(i)||yT(i)||_T(i)||vT(i)||/windows phone/i.test(i)||gT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(i,e=[]){let n;switch(i){case"Browser":n=uE(on());break;case"Worker":n=`${uE(on())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,d)=>{try{const m=e(u);f(m)}catch(m){d(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(i,e={}){return oa(i,"GET","/v2/passwordPolicy",es(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=6;class eI{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:J1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new W1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),a=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Wi(this));const n=e?ln(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z1(this),n=new eI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await Y1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&D1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yo(i){return ln(i)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(i){zh=i}function bT(i){return zh.loadJS(i)}function rI(){return zh.recaptchaEnterpriseScript}function iI(){return zh.gapiScript}function aI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class sI{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lI="recaptcha-enterprise",ST="NO_RECAPTCHA";class uI{constructor(e){this.type=lI,this.auth=yo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{j1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new z1(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;aE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(ST)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(d=>{if(!n&&aE(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=rI();m.length!==0&&(m+=d),bT(m).then(()=>{o(d,u,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function hE(i,e,n,a=!1,o=!1){const u=new uI(i);let f;if(o)f=ST;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function fE(i,e,n,a,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await hE(i,e,n,n==="getOobCode");return a(i,f)}else return a(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await hE(i,e,n,n==="getOobCode");return a(i,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(i,e){const n=pm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ya(u,e??{}))return o;er(o,"already-initialized")}return n.initialize({options:e})}function hI(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function fI(i,e,n){const a=yo(i);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=AT(e),{host:f,port:d}=dI(e),m=d===null?"":`:${d}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Ya(g,a.config.emulator)&&Ya(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,pI()}function AT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function dI(i){const e=AT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:dE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:dE(f)}}}function dE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function pI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function mI(i,e){return oa(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(i,e){return Uh(i,"POST","/v1/accounts:signInWithPassword",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i,e){return Uh(i,"POST","/v1/accounts:signInWithEmailLink",es(i,e))}async function vI(i,e){return Uh(i,"POST","/v1/accounts:signInWithEmailLink",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Em{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Wl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fE(e,n,"signInWithPassword",gI);case"emailLink":return yI(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fE(e,a,"signUpPassword",mI);case"emailLink":return vI(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e){return Uh(i,"POST","/v1/accounts:signInWithIdp",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="http://localhost";class Xa extends Em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=mm(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Xa(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,to(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:_I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TI(i){const e=Vl(Ll(i)).link,n=e?Vl(Ll(e)).deep_link_id:null,a=Vl(Ll(i)).deep_link_id;return(a?Vl(Ll(a)).link:null)||a||n||e||i}class Tm{constructor(e){var n,a,o,u,f,d;const m=Vl(Ll(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,T=EI((o=m.mode)!==null&&o!==void 0?o:null);we(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=TI(e);try{return new Tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Tm.parseLink(n);return we(a,"argument-error"),Wl._fromEmailAndCode(e,a.code,a.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends cu{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Fi.credential(n,a)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends cu{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends cu{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ki.credential(n,a)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Zn._fromIdTokenResponse(e,a,o),f=pE(a);return new io({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=pE(a);return new io({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function pE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends fi{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new vh(e,n,a,o)}}function RT(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(i,u,e,a):u})}async function bI(i,e,n=!1){const a=await Xl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return io._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(i,e,n=!1){const{auth:a}=i;if(Wn(a.app))return Promise.reject(Wi(a));const o="reauthenticate";try{const u=await Xl(i,RT(a,o,e,i),n);we(u.idToken,a,"internal-error");const f=vm(u.idToken);we(f,a,"internal-error");const{sub:d}=f;return we(i.uid===d,a,"user-mismatch"),io._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&er(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(i,e,n=!1){if(Wn(i.app))return Promise.reject(Wi(i));const a="signIn",o=await RT(i,a,e),u=await io._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}async function AI(i,e){return CT(yo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i){const e=yo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function RI(i,e,n){return Wn(i.app)?Promise.reject(Wi(i)):AI(ln(i),vo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&wI(i),a})}function CI(i,e,n,a){return ln(i).onIdTokenChanged(e,n,a)}function II(i,e,n){return ln(i).beforeAuthStateChanged(e,n)}function OI(i){return ln(i).signOut()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1e3,NI=10;class OT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);X1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const PI=OT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DT.type="SESSION";const NT=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new jh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async g=>g(n.origin,u)),m=await MI(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const g=bm("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function kI(i){Sr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function VI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function UI(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebaseLocalStorageDb",zI=1,Eh="firebaseLocalStorage",xT="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(i,e){return i.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function jI(){const i=indexedDB.deleteDatabase(MT);return new hu(i).toPromise()}function zp(){const i=indexedDB.open(MT,zI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Eh,{keyPath:xT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Eh)?e(a):(a.close(),await jI(),e(await zp()))})})}async function mE(i,e,n){const a=Bh(i,!0).put({[xT]:e,value:n});return new hu(a).toPromise()}async function BI(i,e){const n=Bh(i,!1).get(e),a=await new hu(n).toPromise();return a===void 0?null:a.value}function gE(i,e){const n=Bh(i,!0).delete(e);return new hu(n).toPromise()}const qI=800,HI=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>HI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(UI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await mE(e,_h,"1"),await gE(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>mE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>BI(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Bh(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const FI=kT;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(i,e){return e?ni(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends Em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KI(i){return CT(i.auth,new Sm(i),i.bypassAuthState)}function QI(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),SI(n,new Sm(i),i.bypassAuthState)}async function YI(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),bI(n,new Sm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:er(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new uu(2e3,1e4);class Zs extends VT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$I.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="pendingRedirect",th=new Map;class WI extends VT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const a=await ZI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(i,e){const n=tO(e),a=eO(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function JI(i,e){th.set(i._key(),e)}function eO(i){return ni(i._redirectPersistence)}function tO(i){return eh(XI,i.config.apiKey,i.name)}async function nO(i,e,n=!1){if(Wn(i.app))return Promise.reject(Wi(i));const a=yo(i),o=GI(a,e),f=await new WI(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=10*60*1e3;class iO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!LT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(br(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function LT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(i,e={}){return oa(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function uO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sO(i);for(const n of e)try{if(cO(n))return}catch{}er(i,"unauthorized-domain")}function cO(i){const e=Lp(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!lO.test(n))return!1;if(oO.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new uu(3e4,6e4);function vE(){const i=Sr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fO(i){return new Promise((e,n)=>{var a,o,u;function f(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(br(i,"network-request-failed"))},timeout:hO.get()})}if(!((o=(a=Sr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Sr().gapi)===null||u===void 0)&&u.load)f();else{const d=aI("iframefcb");return Sr()[d]=()=>{gapi.load?f():n(br(i,"network-request-failed"))},bT(`${iI()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw nh=null,e})}let nh=null;function dO(i){return nh=nh||fO(i),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new uu(5e3,15e3),mO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _O(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?ym(e,gO):`https://${i.config.authDomain}/${mO}`,a={apiKey:e.apiKey,appName:i.name,v:go},o=vO.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${lu(a).slice(1)}`}async function EO(i){const e=await dO(i),n=Sr().gapi;return we(n,i,"internal-error"),e.open({where:document.body,url:_O(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=br(i,"network-request-failed"),d=Sr().setTimeout(()=>{u(f)},pO.get());function m(){Sr().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bO=500,SO=600,AO="_blank",wO="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(i,e,n,a=bO,o=SO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},TO),{width:a.toString(),height:o.toString(),top:u,left:f}),g=on().toLowerCase();n&&(d=mT(g)?AO:n),dT(g)&&(e=e||wO,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[D,M])=>`${S}${D}=${M},`,"");if($1(g)&&d!=="_self")return CO(e||"",d),new _E(null);const T=window.open(e||"",d,v);we(T,i,"popup-blocked");try{T.focus()}catch{}return new _E(T)}function CO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__/auth/handler",OO="emulator/auth/handler",DO=encodeURIComponent("fac");async function EE(i,e,n,a,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:go,eventId:o};if(e instanceof wT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",yC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof cu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),g=m?`#${DO}=${encodeURIComponent(m)}`:"";return`${NO(i)}?${lu(d).slice(1)}${g}`}function NO({config:i}){return i.emulator?ym(i,OO):`https://${i.authDomain}/${IO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=nO,this._overrideRedirectResult=JI}async _openPopup(e,n,a,o){var u;oi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await EE(e,n,a,Lp(),o);return RO(e,f,bm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await EE(e,n,a,Lp(),o);return kI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await EO(e),a=new iO(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wp,{type:wp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[wp];f!==void 0&&n(!!f),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ET()||pT()||_m()}}const MO=PO;var TE="@firebase/auth",bE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VO(i){ro(new $a("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:f,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(i)},g=new tI(a,o,u,m);return hI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ro(new $a("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(a=>new xO(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(TE,bE,kO(i)),Xi(TE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=5*60,UO=Z0("authIdTokenMaxAge")||LO;let SE=null;const zO=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>UO)return;const o=n==null?void 0:n.token;SE!==o&&(SE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jO(i=nT()){const e=pm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=cI(i,{popupRedirectResolver:MO,persistence:[FI,PI,NT]}),a=Z0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=zO(u.toString());II(n,f,()=>f(n.currentUser)),CI(n,d=>f(d))}}const o=X0("auth");return o&&fI(n,`http://${o}`),n}function BO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}nI({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=br("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",BO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VO("Browser");var qO="firebase",HO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(qO,HO,"app");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,UT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function C(){}C.prototype=O.prototype,k.D=O.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,P,I){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return O.prototype[P].apply(N,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,O,C){C||(C=0);var N=Array(16);if(typeof O=="string")for(var P=0;16>P;++P)N[P]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for(P=0;16>P;++P)N[P]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=k.g[0],C=k.g[1],P=k.g[2];var I=k.g[3],R=O+(I^C&(P^I))+N[0]+3614090360&4294967295;O=C+(R<<7&4294967295|R>>>25),R=I+(P^O&(C^P))+N[1]+3905402710&4294967295,I=O+(R<<12&4294967295|R>>>20),R=P+(C^I&(O^C))+N[2]+606105819&4294967295,P=I+(R<<17&4294967295|R>>>15),R=C+(O^P&(I^O))+N[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=O+(I^C&(P^I))+N[4]+4118548399&4294967295,O=C+(R<<7&4294967295|R>>>25),R=I+(P^O&(C^P))+N[5]+1200080426&4294967295,I=O+(R<<12&4294967295|R>>>20),R=P+(C^I&(O^C))+N[6]+2821735955&4294967295,P=I+(R<<17&4294967295|R>>>15),R=C+(O^P&(I^O))+N[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=O+(I^C&(P^I))+N[8]+1770035416&4294967295,O=C+(R<<7&4294967295|R>>>25),R=I+(P^O&(C^P))+N[9]+2336552879&4294967295,I=O+(R<<12&4294967295|R>>>20),R=P+(C^I&(O^C))+N[10]+4294925233&4294967295,P=I+(R<<17&4294967295|R>>>15),R=C+(O^P&(I^O))+N[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=O+(I^C&(P^I))+N[12]+1804603682&4294967295,O=C+(R<<7&4294967295|R>>>25),R=I+(P^O&(C^P))+N[13]+4254626195&4294967295,I=O+(R<<12&4294967295|R>>>20),R=P+(C^I&(O^C))+N[14]+2792965006&4294967295,P=I+(R<<17&4294967295|R>>>15),R=C+(O^P&(I^O))+N[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=O+(P^I&(C^P))+N[1]+4129170786&4294967295,O=C+(R<<5&4294967295|R>>>27),R=I+(C^P&(O^C))+N[6]+3225465664&4294967295,I=O+(R<<9&4294967295|R>>>23),R=P+(O^C&(I^O))+N[11]+643717713&4294967295,P=I+(R<<14&4294967295|R>>>18),R=C+(I^O&(P^I))+N[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=O+(P^I&(C^P))+N[5]+3593408605&4294967295,O=C+(R<<5&4294967295|R>>>27),R=I+(C^P&(O^C))+N[10]+38016083&4294967295,I=O+(R<<9&4294967295|R>>>23),R=P+(O^C&(I^O))+N[15]+3634488961&4294967295,P=I+(R<<14&4294967295|R>>>18),R=C+(I^O&(P^I))+N[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=O+(P^I&(C^P))+N[9]+568446438&4294967295,O=C+(R<<5&4294967295|R>>>27),R=I+(C^P&(O^C))+N[14]+3275163606&4294967295,I=O+(R<<9&4294967295|R>>>23),R=P+(O^C&(I^O))+N[3]+4107603335&4294967295,P=I+(R<<14&4294967295|R>>>18),R=C+(I^O&(P^I))+N[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=O+(P^I&(C^P))+N[13]+2850285829&4294967295,O=C+(R<<5&4294967295|R>>>27),R=I+(C^P&(O^C))+N[2]+4243563512&4294967295,I=O+(R<<9&4294967295|R>>>23),R=P+(O^C&(I^O))+N[7]+1735328473&4294967295,P=I+(R<<14&4294967295|R>>>18),R=C+(I^O&(P^I))+N[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=O+(C^P^I)+N[5]+4294588738&4294967295,O=C+(R<<4&4294967295|R>>>28),R=I+(O^C^P)+N[8]+2272392833&4294967295,I=O+(R<<11&4294967295|R>>>21),R=P+(I^O^C)+N[11]+1839030562&4294967295,P=I+(R<<16&4294967295|R>>>16),R=C+(P^I^O)+N[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=O+(C^P^I)+N[1]+2763975236&4294967295,O=C+(R<<4&4294967295|R>>>28),R=I+(O^C^P)+N[4]+1272893353&4294967295,I=O+(R<<11&4294967295|R>>>21),R=P+(I^O^C)+N[7]+4139469664&4294967295,P=I+(R<<16&4294967295|R>>>16),R=C+(P^I^O)+N[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=O+(C^P^I)+N[13]+681279174&4294967295,O=C+(R<<4&4294967295|R>>>28),R=I+(O^C^P)+N[0]+3936430074&4294967295,I=O+(R<<11&4294967295|R>>>21),R=P+(I^O^C)+N[3]+3572445317&4294967295,P=I+(R<<16&4294967295|R>>>16),R=C+(P^I^O)+N[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=O+(C^P^I)+N[9]+3654602809&4294967295,O=C+(R<<4&4294967295|R>>>28),R=I+(O^C^P)+N[12]+3873151461&4294967295,I=O+(R<<11&4294967295|R>>>21),R=P+(I^O^C)+N[15]+530742520&4294967295,P=I+(R<<16&4294967295|R>>>16),R=C+(P^I^O)+N[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=O+(P^(C|~I))+N[0]+4096336452&4294967295,O=C+(R<<6&4294967295|R>>>26),R=I+(C^(O|~P))+N[7]+1126891415&4294967295,I=O+(R<<10&4294967295|R>>>22),R=P+(O^(I|~C))+N[14]+2878612391&4294967295,P=I+(R<<15&4294967295|R>>>17),R=C+(I^(P|~O))+N[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=O+(P^(C|~I))+N[12]+1700485571&4294967295,O=C+(R<<6&4294967295|R>>>26),R=I+(C^(O|~P))+N[3]+2399980690&4294967295,I=O+(R<<10&4294967295|R>>>22),R=P+(O^(I|~C))+N[10]+4293915773&4294967295,P=I+(R<<15&4294967295|R>>>17),R=C+(I^(P|~O))+N[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=O+(P^(C|~I))+N[8]+1873313359&4294967295,O=C+(R<<6&4294967295|R>>>26),R=I+(C^(O|~P))+N[15]+4264355552&4294967295,I=O+(R<<10&4294967295|R>>>22),R=P+(O^(I|~C))+N[6]+2734768916&4294967295,P=I+(R<<15&4294967295|R>>>17),R=C+(I^(P|~O))+N[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=O+(P^(C|~I))+N[4]+4149444226&4294967295,O=C+(R<<6&4294967295|R>>>26),R=I+(C^(O|~P))+N[11]+3174756917&4294967295,I=O+(R<<10&4294967295|R>>>22),R=P+(O^(I|~C))+N[2]+718787259&4294967295,P=I+(R<<15&4294967295|R>>>17),R=C+(I^(P|~O))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+I&4294967295}a.prototype.u=function(k,O){O===void 0&&(O=k.length);for(var C=O-this.blockSize,N=this.B,P=this.h,I=0;I<O;){if(P==0)for(;I<=C;)o(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<O;)if(N[P++]=k.charCodeAt(I++),P==this.blockSize){o(this,N),P=0;break}}else for(;I<O;)if(N[P++]=k[I++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=O},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;var C=8*this.o;for(O=k.length-8;O<k.length;++O)k[O]=C&255,C/=256;for(this.u(k),k=Array(16),O=C=0;4>O;++O)for(var N=0;32>N;N+=8)k[C++]=this.g[O]>>>N&255;return k};function u(k,O){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=O(k)}function f(k,O){this.h=O;for(var C=[],N=!0,P=k.length-1;0<=P;P--){var I=k[P]|0;N&&I==O||(C[P]=I,N=!1)}this.g=C}var d={};function m(k){return-128<=k&&128>k?u(k,function(O){return new f([O|0],0>O?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return z(g(-k));for(var O=[],C=1,N=0;k>=C;N++)O[N]=k/C|0,C*=4294967296;return new f(O,0)}function v(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return z(v(k.substring(1),O));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(O,8)),N=T,P=0;P<k.length;P+=8){var I=Math.min(8,k.length-P),R=parseInt(k.substring(P,P+I),O);8>I?(I=g(Math.pow(O,I)),N=N.j(I).add(g(R))):(N=N.j(C),N=N.add(g(R)))}return N}var T=m(0),S=m(1),D=m(16777216);i=f.prototype,i.m=function(){if(G(this))return-z(this).m();for(var k=0,O=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*O,O*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(G(this))return"-"+z(this).toString(k);for(var O=g(Math.pow(k,6)),C=this,N="";;){var P=pe(C,O).g;C=Y(C,P.j(O));var I=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=P,M(C))return I+N;for(;6>I.length;)I="0"+I;N=I+N}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function G(k){return k.h==-1}i.l=function(k){return k=Y(this,k),G(k)?-1:M(k)?0:1};function z(k){for(var O=k.g.length,C=[],N=0;N<O;N++)C[N]=~k.g[N];return new f(C,~k.h).add(S)}i.abs=function(){return G(this)?z(this):this},i.add=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0,P=0;P<=O;P++){var I=N+(this.i(P)&65535)+(k.i(P)&65535),R=(I>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);N=R>>>16,I&=65535,R&=65535,C[P]=R<<16|I}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Y(k,O){return k.add(z(O))}i.j=function(k){if(M(this)||M(k))return T;if(G(this))return G(k)?z(this).j(z(k)):z(z(this).j(k));if(G(k))return z(this.j(z(k)));if(0>this.l(D)&&0>k.l(D))return g(this.m()*k.m());for(var O=this.g.length+k.g.length,C=[],N=0;N<2*O;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<k.g.length;P++){var I=this.i(N)>>>16,R=this.i(N)&65535,ne=k.i(P)>>>16,ee=k.i(P)&65535;C[2*N+2*P]+=R*ee,ue(C,2*N+2*P),C[2*N+2*P+1]+=I*ee,ue(C,2*N+2*P+1),C[2*N+2*P+1]+=R*ne,ue(C,2*N+2*P+1),C[2*N+2*P+2]+=I*ne,ue(C,2*N+2*P+2)}for(N=0;N<O;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=O;N<2*O;N++)C[N]=0;return new f(C,0)};function ue(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function re(k,O){this.g=k,this.h=O}function pe(k,O){if(M(O))throw Error("division by zero");if(M(k))return new re(T,T);if(G(k))return O=pe(z(k),O),new re(z(O.g),z(O.h));if(G(O))return O=pe(k,z(O)),new re(z(O.g),O.h);if(30<k.g.length){if(G(k)||G(O))throw Error("slowDivide_ only works with positive integers.");for(var C=S,N=O;0>=N.l(k);)C=de(C),N=de(N);var P=ge(C,1),I=ge(N,1);for(N=ge(N,2),C=ge(C,2);!M(N);){var R=I.add(N);0>=R.l(k)&&(P=P.add(C),I=R),N=ge(N,1),C=ge(C,1)}return O=Y(k,P.j(O)),new re(P,O)}for(P=T;0<=k.l(O);){for(C=Math.max(1,Math.floor(k.m()/O.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),I=g(C),R=I.j(O);G(R)||0<R.l(k);)C-=N,I=g(C),R=I.j(O);M(I)&&(I=S),P=P.add(I),k=Y(k,R)}return new re(P,k)}i.A=function(k){return pe(this,k).h},i.and=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0;N<O;N++)C[N]=this.i(N)&k.i(N);return new f(C,this.h&k.h)},i.or=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0;N<O;N++)C[N]=this.i(N)|k.i(N);return new f(C,this.h|k.h)},i.xor=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0;N<O;N++)C[N]=this.i(N)^k.i(N);return new f(C,this.h^k.h)};function de(k){for(var O=k.g.length+1,C=[],N=0;N<O;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new f(C,k.h)}function ge(k,O){var C=O>>5;O%=32;for(var N=k.g.length-C,P=[],I=0;I<N;I++)P[I]=0<O?k.i(I+C)>>>O|k.i(I+C+1)<<32-O:k.i(I+C);return new f(P,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,UT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Zi=f}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT,Ul,jT,rh,jp,BT,qT,HT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break e;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var Z=_++;return{value:y(Z,c[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,Z){for(var fe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)fe[Ue-2]=arguments[Ue];return y.prototype[j].apply(w,fe)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const j=c.length||0,Z=w.length||0;c.length=j+Z;for(let fe=0;fe<Z;fe++)c[j+fe]=w[fe]}else c.push(w)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ue(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var de=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ge(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function O(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let Z=0;Z<C.length;Z++)_=C[Z],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function I(c){d.setTimeout(()=>{throw c},0)}function R(){var c=se;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,_){const w=ee.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new Y(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let V,ie=!1,se=new ne,A=()=>{const c=d.Promise.resolve(void 0);V=()=>{c.then(F)}};var F=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){I(_)}var y=ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function _e(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{pe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}M(_e,X);var ye={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Yt(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++qe,this.da=this.fa=!1}function $t(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,y,_,w,j){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=Wt(c,y,w,j);return-1<fe?(y=c[fe],_||(y.fa=!1)):(y=new Yt(y,this.src,Z,!!w,j),y.fa=_,c.push(y)),y};function Xt(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(w,j,1),Z&&($t(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wt(c,y,_,w){for(var j=0;j<c.length;++j){var Z=c[j];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==w)return j}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),tt={};function zt(c,y,_,w,j){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)zt(c,y[Z],_,w,j);return null}return _=gu(_),c&&c[Fe]?c.K(y,_,g(w)?!!w.capture:!1,j):rt(c,y,_,!1,w,j)}function rt(c,y,_,w,j,Z){if(!y)throw Error("Invalid event type");var fe=g(j)?!!j.capture:!!j,Ue=Hn(c);if(Ue||(c[Zt]=Ue=new ft(c)),_=Ue.add(y,_,w,fe,Z),_.proxy)return _;if(w=lt(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)he||(j=fe),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(Jt(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function lt(){function c(_){return y.call(c.src,c.listener,_)}const y=On;return c}function tr(c,y,_,w,j){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)tr(c,y[Z],_,w,j);else w=g(w)?!!w.capture:!!w,_=gu(_),c&&c[Fe]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],_=Wt(Z,_,w,j),-1<_&&($t(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=Hn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wt(y,_,w,j)),(_=-1<c?y[c]:null)&&nr(_))}function nr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Fe])Xt(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Jt(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Hn(y))?(Xt(_,c),_.h==0&&(_.src=null,y[Zt]=null)):$t(c)}}}function Jt(c){return c in tt?tt[c]:tt[c]="on"+c}function On(c,y){if(c.da)c=!0;else{y=new _e(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&nr(c),c=_.call(w,y)}return c}function Hn(c){return c=c[Zt],c instanceof ft?c:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(c){return typeof c=="function"?c:(c[ca]||(c[ca]=function(y){return c.handleEvent(y)}),c[ca])}function dt(){W.call(this),this.i=new ft(this),this.M=this,this.F=null}M(dt,W),dt.prototype[Fe]=!0,dt.prototype.removeEventListener=function(c,y,_,w){tr(this,c,y,_,w)};function Ye(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var j=y;y=new X(w,c),N(y,j)}if(j=!0,_)for(var Z=_.length-1;0<=Z;Z--){var fe=y.g=_[Z];j=vn(fe,w,!0,y)&&j}if(fe=y.g=c,j=vn(fe,w,!0,y)&&j,j=vn(fe,w,!1,y)&&j,_)for(Z=0;Z<_.length;Z++)fe=y.g=_[Z],j=vn(fe,w,!1,y)&&j}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)$t(_[w]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},dt.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function vn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Z=0;Z<y.length;++Z){var fe=y[Z];if(fe&&!fe.da&&fe.capture==_){var Ue=fe.listener,Rt=fe.ha||fe.src;fe.fa&&Xt(c.i,fe),j=Ue.call(Rt,w)!==!1&&j}}return j&&!w.defaultPrevented}function en(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function yu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class lf extends W{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(c){W.call(this),this.h=c,this.g={}}M(ha,W);var fa=[];function da(c){ge(c.g,function(y,_){this.g.hasOwnProperty(_)&&nr(y)},c),c.g={}}ha.prototype.N=function(){ha.aa.N.call(this),da(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,rs=d.JSON.parse,pa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Io(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){X.call(this,"d")}M(Nr,X);function Oo(){X.call(this,"c")}M(Oo,X);var rr={},Do=null;function di(){return Do=Do||new dt}rr.La="serverreachability";function is(c){X.call(this,rr.La,c)}M(is,X);function pi(c){const y=di();Ye(y,new is(y))}rr.STAT_EVENT="statevent";function vu(c,y){X.call(this,rr.STAT_EVENT,c),this.stat=y}M(vu,X);function at(c){const y=di();Ye(y,new vu(y,c))}rr.Ma="timingevent";function wt(c,y){X.call(this,rr.Ma,c),this.size=y}M(wt,X);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function No(c,y,_,w,j,Z){c.info(function(){if(c.g)if(Z)for(var fe="",Ue=Z.split("&"),Rt=0;Rt<Ue.length;Rt++){var ze=Ue[Rt].split("=");if(1<ze.length){var xt=ze[0];ze=ze[1];var Ct=xt.split("_");fe=2<=Ct.length&&Ct[1]=="type"?fe+(xt+"="+ze+"&"):fe+(xt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+fe})}function uf(c,y,_,w,j,Z,fe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+Z+" "+fe})}function mi(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ma(c,_)+(w?" "+w:"")})}function _u(c,y){c.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function ma(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<j.length;fe++)j[fe]=""}}}}return Fn(_)}catch{return y}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function ar(){}M(ar,Ro),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},ir=new ar;function un(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Po={},as={};function Gn(c,y,_){c.L=1,c.v=Ea(_n(y)),c.m=_,c.P=!0,Mr(c,null)}function Mr(c,y){c.F=Date.now(),ga(c),c.A=_n(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Uo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new gt,c.g=ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new lf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(fa[0]=j.toString()),j=fa);for(var Z=0;Z<j.length;Z++){var fe=zt(_,j[Z],w||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?O(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),No(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=xn(this.g);var y=this.g.Ba();const Br=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Br?pi(3):pi(2)),yi(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var w=Cu(this.g);c="";var j=w.length,Z=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),sr(this);var fe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Z&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,uf(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Rt=this.g;if((Ue=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Ue)){var ze=Ue;break t}}ze=null}if(_=ze)mi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,_);else{this.o=!1,this.s=3,at(12),jt(this),sr(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<fe.length;)if(Bt=Tu(this,fe),Bt==as){Ct==4&&(this.s=4,at(14),_=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Po){this.s=4,at(15),mi(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else mi(this.i,this.l,Bt,null),ya(this,Bt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||fe.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)mi(this.i,this.l,fe,"[Invalid Chunked Response]"),jt(this),sr(this);else if(0<fe.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ia(xt),xt.M=!0,at(11))}}else mi(this.i,this.l,fe,null),ya(this,fe);Ct==4&&jt(this),this.o&&!this.J&&(Ct==4?Pu(this.j,this):(this.o=!1,ga(this)))}else pf(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),jt(this),sr(this)}}}catch{}finally{}};function Eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?as:(_=Number(y.substring(_,w)),isNaN(_)?Po:(w+=1,w+_>y.length?as:(y=y.slice(w,w+_),c.C=w+_,y)))}un.prototype.cancel=function(){this.J=!0,jt(this)};function ga(c){c.S=Date.now()+c.I,bu(c,c.I)}function bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function yi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_u(this.i,this.A),this.L!=2&&(pi(),at(17)),jt(this),this.s=2,sr(this)):bu(this,this.S-c)};function sr(c){c.j.G==0||c.J||Pu(c.j,c)}function jt(c){yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,da(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ya(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mo(_.h,c))){if(!c.K&&Mo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ys(_),ms(_);else break e;Ho(_),at(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(S(_.Za,_),6e3));if(1>=os(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else jr(_,11)}else if((c.K||_.g==c)&&ys(_),!ue(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let ze=j[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const xt=ze[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const Ct=ze[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Br=ze[5];Br!=null&&typeof Br=="number"&&0<Br&&(w=1.5*Br,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=c.g;if(Bt){const dr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Z=w.h;Z.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ls(Z,Z.h),Z.h=null))}if(w.D){const Go=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(w.ya=Go,We(w.I,w.D,Go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var fe=c;if(w.qa=xu(w,w.J?w.ia:null,w.W),fe.K){cn(w.h,fe);var Ue=fe,Rt=w.L;Rt&&(Ue.I=Rt),Ue.B&&(yi(Ue),ga(Ue)),w.g=fe}else Du(w);0<_.i.length&&gs(_)}else ze[0]!="stop"&&ze[0]!="close"||jr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?jr(_,7):Bo(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}pi(4)}catch{}}var Su=class{constructor(c,y){this.g=c,this.map=y}};function xr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ss(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function os(c){return c.h?1:c.g?c.g.size:0}function Mo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ls(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xr.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function us(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=us(c),w=cf(c),j=w.length,Z=0;Z<j;Z++)y.call(void 0,w[Z],_&&_[Z],c)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var Z=c[_].substring(0,w);j=c[_].substring(w+1)}else Z=c[_];y(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,_a(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,_=new Vr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),kr(this,_),this.m=c.m}else c&&(y=String(c).match(va))?(this.h=!1,_a(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),vi(this,y[4]),this.l=Nn(y[5]||"",!0),kr(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ta(y,Vo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ta(y,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ta(_,_.charAt(0)=="/"?ff:Lo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ta(_,cs)),c.join("")};function _n(c){return new Tt(c)}function _a(c,y,_){c.j=_?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function kr(c,y,_){y instanceof Vr?(c.i=y,wu(c.i,c.h)):(_||(y=Ta(y,df)),c.i=new Vr(y,c.h))}function We(c,y,_){c.i.set(y,_)}function Ea(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Lo=/[#\?:]/g,ff=/[#\?]/g,df=/[#\?@]/g,cs=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Vr.prototype,i.add=function(c,y){Pn(this),this.i=null,c=or(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Lr(c,y){Pn(c),y=or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ur(c,y){return Pn(c),y=or(c,y),c.g.has(y)}i.forEach=function(c,y){Pn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},i.na=function(){Pn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let Z=0;Z<j.length;Z++)_.push(y[w])}return _},i.V=function(c){Pn(this);let y=[];if(typeof c=="string")Ur(this,c)&&(y=y.concat(this.g.get(or(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Pn(this),this.i=null,c=or(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Uo(c,y,_){Lr(c,y),0<_.length&&(c.i=null,c.g.set(or(c,y),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Z=encodeURIComponent(String(w)),fe=this.V(w);for(w=0;w<fe.length;w++){var j=Z;fe[w]!==""&&(j+="="+encodeURIComponent(String(fe[w]))),c.push(j)}}return this.i=c.join("&")};function or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wu(c,y){y&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(Lr(this,w),Uo(this,j,_))},c)),c.j=y}function ba(c,y){const _=new Dn;if(d.Image){const w=new Image;w.onload=D(Mn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=D(Mn,_,"TestLoadImage: error",!1,y,w),w.onabort=D(Mn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=D(Mn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Kn(c,y){const _=new Dn,w=new AbortController,j=setTimeout(()=>{w.abort(),Mn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Z=>{clearTimeout(j),Z.ok?Mn(_,"TestPingServer: ok",!0,y):Mn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Mn(_,"TestPingServer: error",!1,y)})}function Mn(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function Sa(){this.g=new pa}function lr(c,y,_){const w=_||"";try{ko(c,function(j,Z){let fe=j;g(j)&&(fe=Fn(j)),y.push(w+Z+"="+encodeURIComponent(fe))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}M(_i,Ro),_i.prototype.g=function(){return new zr(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function zr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(zr,dt),i=zr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):cr(this),this.readyState==3&&zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},i.Qa=function(c){this.g&&(this.response=c,ur(this))},i.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return ge(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ke(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ke,dt);var hs=/^https?$/i,Aa=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?Co(this.o):Co(ir),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Ru(this,Z);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())_.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Aa,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of _)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Ru(this,Z)}};function Ru(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fs(c),hr(c)}function fs(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),hr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ds(this):this.bb())},i.bb=function(){ds(this)};function ds(c){if(c.h&&typeof f<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)en(c.Ea,0,c);else if(Ye(c,"readystatechange"),xn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=fe===0){var j=String(c.D).match(va)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),w=!hs.test(j?j.toLowerCase():"")}_=w}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Z=2<xn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",fs(c)}}finally{hr(c)}}}}function hr(c,y){if(c.g){wa(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=w}catch{}}}function wa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),rs(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ue(c[w]))continue;var _=P(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[j]||[];y[j]=Z,Z.push(_)}k(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ps(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(c&&c.concurrentRequestLimit),this.Da=new Sa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ps.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){at(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=xu(this,null,this.W),gs(this)};function Bo(c){if(Iu(c),c.G==3){var y=c.U++,_=_n(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),Ca(c,_),y=new un(c,c.j,y),y.L=2,y.v=Ea(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ga(y)}Mu(c)}function ms(c){c.g&&(Ia(c),c.g.cancel(),c.g=null)}function Iu(c){ms(c),c.u&&(d.clearTimeout(c.u),c.u=null),ys(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function gs(c){if(!ss(c.h)&&!c.s){c.s=!0;var y=c.Ga;V||A(),ie||(V(),ie=!0),se.add(y,c),c.B=0}}function mf(c,y){return os(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),Fo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new un(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=O(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ou(this,j,y),_=_n(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Ca(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(jo(Z)))+"&"+y:this.m&&Mt(_,this.m,Z)),ls(this.h,j),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),j.T=!0,Gn(j,_,null)):Gn(j,_,y),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||ss(this.h)||qo(this))};function qo(c,y){var _;y?_=y.l:_=c.U++;const w=_n(c.I);We(w,"SID",c.K),We(w,"RID",_),We(w,"AID",c.T),Ca(c,w),c.m&&c.o&&Mt(w,c.m,c.o),_=new un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ls(c.h,_),Gn(_,w,y)}function Ca(c,y){c.H&&ge(c.H,function(_,w){We(y,w,_)}),c.l&&ko({},function(_,w){We(y,w,_)})}function Ou(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let Z=-1;for(;;){const fe=["count="+_];Z==-1?0<_?(Z=j[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let Ue=!0;for(let Rt=0;Rt<_;Rt++){let ze=j[Rt].g;const xt=j[Rt].map;if(ze-=Z,0>ze)Z=Math.max(0,j[Rt].g-100),Ue=!1;else try{lr(xt,fe,"req"+ze+"_")}catch{w&&w(xt)}}if(Ue){w=fe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;V||A(),ie||(V(),ie=!0),se.add(y,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),Fo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ms(this),Nu(this))};function Ia(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ca(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ea(_n(y)),_.m=null,_.P=!0,Mr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ms(this),Ho(this),at(19))};function ys(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){ys(c),Ia(c),c.g=null;var w=2}else if(Mo(c.h,y))_=y.D,cn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=di(),Ye(w,new wt(w,_)),gs(c)}else Du(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&mf(c,y)||w==2&&Ho(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function Fo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function jr(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const j=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_a(w,"https"),Ea(w),j?ba(w.toString(),_):Kn(w.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),Mu(c),Iu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const y=xo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,_){var w=_ instanceof Tt?_n(_):new Tt(_);if(w.g!="")y&&(w.g=y+"."+w.g),vi(w,w.s);else{var j=d.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Z=new Tt(null);w&&_a(Z,w),y&&(Z.g=y),j&&vi(Z,j),_&&(Z.l=_),w=Z}return _=c.D,y=c.ya,_&&y&&We(w,_,y),We(w,"VER",c.la),Ca(c,w),w}function ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new _i({eb:_})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function vs(){}vs.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){dt.call(this),this.g=new ps(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ue(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ue(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fr(this)}M(hn,dt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Bo(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new Su(y.Ya++,c)),y.G==3&&gs(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,hn.aa.N.call(this)};function Lu(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Lu,Nr);function Uu(){Oo.call(this),this.status=1}M(Uu,Oo);function fr(c){this.g=c}M(fr,Vu),fr.prototype.ua=function(){Ye(this.g,"a")},fr.prototype.ta=function(c){Ye(this.g,new Lu(c))},fr.prototype.sa=function(c){Ye(this.g,new Uu)},fr.prototype.ra=function(){Ye(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,HT=function(){return new vs},qT=function(){return di()},BT=rr,jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,rh=gi,Pr.COMPLETE="complete",jT=Pr,Io.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ul=Io,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,zT=Ke}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",RE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new fm("@firebase/firestore");function Ys(){return Wa.logLevel}function me(i,...e){if(Wa.logLevel<=Ve.DEBUG){const n=e.map(Am);Wa.debug(`Firestore (${_o}): ${i}`,...n)}}function li(i,...e){if(Wa.logLevel<=Ve.ERROR){const n=e.map(Am);Wa.error(`Firestore (${_o}): ${i}`,...n)}}function ao(i,...e){if(Wa.logLevel<=Ve.WARN){const n=e.map(Am);Wa.warn(`Firestore (${_o}): ${i}`,...n)}}function Am(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+i;throw li(e),new Error(e)}function Qe(i,e){i||Ce()}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class GO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string"),new FT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new an(e)}}class QO{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YO{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new QO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $O{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new CE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new CE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=XO(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Pe(i,e){return i<e?-1:i>e?1:0}function Bp(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Pe(a,o);{const u=GT(),f=WO(u.encode(IE(i,n)),u.encode(IE(e,n)));return f!==0?f:Pe(a,o)}}n+=a>65535?2:1}return Pe(i.length,e.length)}function IE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function WO(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Pe(i[n],e[n]);return Pe(i.length,e.length)}function so(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-62135596800,DE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*DE);return new Nt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Nt(0,0))}static max(){return new Ie(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class Er{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(),a===void 0?a=e.length-n:a>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Er.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const a=Er.isNumericId(e),o=Er.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class ot extends Er{construct(e,n,a){return new ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const ZO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Er{construct(e,n,a){return new Kt(e,n,a)}static isValidIdentifier(e){return ZO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Kt([NE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(a+=d,o++):(u(),o++)}if(u(),f)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function JO(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(a===1e9?new Nt(n+1,0):new Nt(n,a));return new ea(o,be.empty(),e)}function e2(i){return new ea(i.readTime,i.key,Zl)}class ea{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ea(Ie.min(),be.empty(),Zl)}static max(){return new ea(Ie.max(),be.empty(),Zl)}}function t2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==n2)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,a)=>{n(e)})}static reject(e){return new le((n,a)=>{a(e)})}static waitFor(e){return new le((n,a)=>{let o=0,u=0,f=!1;e.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&n()},m=>a(m))}),f=!0,u===o&&n()})}static or(e){let n=le.resolve(!1);for(const a of e)n=n.next(o=>o?le.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new le((a,o)=>{const u=e.length,f=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{f[g]=v,++d,d===u&&a(f)},v=>o(v))}})}static doWhile(e,n){return new le((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function i2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=-1;function Hh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function a2(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="";function s2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=PE(e)),e=o2(i.get(n),e);return PE(e)}function o2(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case QT:n+="";break;default:n+=u}}return n}function PE(i){return i+QT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function la(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function YT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Gt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,a,o,u){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Kt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $T("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(i){if(Qe(!!i),typeof i=="string"){let e=0;const n=l2.exec(i);if(Qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function na(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="server_timestamp",WT="__type__",ZT="__previous_value__",JT="__local_write_time__";function Rm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[WT])===null||n===void 0?void 0:n.stringValue)===XT}function Fh(i){const e=i.mapValue.fields[ZT];return Rm(e)?Fh(e):e}function Jl(i){const e=ta(i.mapValue.fields[JT].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,a,o,u,f,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const bh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__type__",c2="__max__",Qc={mapValue:{}},tb="__vector__",Sh="value";function ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rm(i)?4:f2(i)?9007199254740991:h2(i)?10:11:Ce()}function Cr(i,e){if(i===e)return!0;const n=ra(i);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jl(i).isEqual(Jl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ta(o.timestampValue),d=ta(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),d=_t(u.doubleValue);return f===d?Th(f)===Th(d):isNaN(f)&&isNaN(d)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(ME(f)!==ME(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!Cr(f[m],d[m])))return!1;return!0}(i,e);default:return Ce()}}function tu(i,e){return(i.values||[]).find(n=>Cr(n,e))!==void 0}function oo(i,e){if(i===e)return 0;const n=ra(i),a=ra(e);if(n!==a)return Pe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const d=_t(u.integerValue||u.doubleValue),m=_t(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return kE(i.timestampValue,e.timestampValue);case 4:return kE(Jl(i),Jl(e));case 5:return Bp(i.stringValue,e.stringValue);case 6:return function(u,f){const d=na(u),m=na(f);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const d=u.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Pe(d[g],m[g]);if(v!==0)return v}return Pe(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const d=Pe(_t(u.latitude),_t(f.latitude));return d!==0?d:Pe(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return VE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var d,m,g,v;const T=u.fields||{},S=f.fields||{},D=(d=T[Sh])===null||d===void 0?void 0:d.arrayValue,M=(m=S[Sh])===null||m===void 0?void 0:m.arrayValue,G=Pe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:VE(D,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const S=Bp(m[T],v[T]);if(S!==0)return S;const D=oo(d[m[T]],g[v[T]]);if(D!==0)return D}return Pe(m.length,v.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function kE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=ta(i),a=ta(e),o=Pe(n.seconds,a.seconds);return o!==0?o:Pe(n.nanos,a.nanos)}function VE(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=oo(n[o],a[o]);if(u)return u}return Pe(n.length,a.length)}function lo(i){return qp(i)}function qp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=ta(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return na(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return be.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=qp(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${qp(n.fields[f])}`;return o+"}"}(i.mapValue):Ce()}function ih(i){switch(ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(i);return e?16+ih(e):16;case 5:return 2*i.stringValue.length;case 6:return na(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+ih(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return la(a.fields,(u,f)=>{o+=u.length+ih(f)}),o}(i.mapValue);default:throw Ce()}}function Hp(i){return!!i&&"integerValue"in i}function Cm(i){return!!i&&"arrayValue"in i}function LE(i){return!!i&&"nullValue"in i}function UE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function h2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[eb])===null||n===void 0?void 0:n.stringValue)===tb}function Fl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return la(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Fl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function f2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Kt.emptyPath(),a={},o=[];e.forEach((f,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=d.popLast()}f?a[d.lastSegment()]=Fl(f):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){la(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new yn(Fl(this.value))}}function nb(i){const e=[];return la(i.fields,(n,a)=>{const o=new Kt([n]);if(ah(a)){const u=nb(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,a,o,u,f,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Ie.min(),Ie.min(),Ie.min(),yn.empty(),0)}static newFoundDocument(e,n,a,o){return new sn(e,1,n,Ie.min(),a,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ie.min(),Ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ie.min(),Ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function zE(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=be.comparator(be.fromName(f.referenceValue),n.key):a=oo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function jE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Cr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function d2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class Dt extends rb{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new m2(e,n,a):n==="array-contains"?new v2(e,a):n==="in"?new _2(e,a):n==="not-in"?new E2(e,a):n==="array-contains-any"?new T2(e,a):new Dt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new g2(e,a):new y2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oo(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends rb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ir(e,n)}matches(e){return ib(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ib(i){return i.op==="and"}function ab(i){return p2(i)&&ib(i)}function p2(i){for(const e of i.filters)if(e instanceof Ir)return!1;return!0}function Fp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+lo(i.value);if(ab(i))return i.filters.map(e=>Fp(e)).join(",");{const e=i.filters.map(n=>Fp(n)).join(",");return`${i.op}(${e})`}}function sb(i,e){return i instanceof Dt?function(a,o){return o instanceof Dt&&a.op===o.op&&a.field.isEqual(o.field)&&Cr(a.value,o.value)}(i,e):i instanceof Ir?function(a,o){return o instanceof Ir&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,d)=>u&&sb(f,o.filters[d]),!0):!1}(i,e):void Ce()}function ob(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(i):i instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(ob).join(" ,")+"}"}(i):"Filter"}class m2 extends Dt{constructor(e,n,a){super(e,n,a),this.key=be.fromName(a.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class g2 extends Dt{constructor(e,n){super(e,"in",n),this.keys=lb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y2 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=lb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>be.fromName(a.referenceValue))}class v2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cm(n)&&tu(n.arrayValue,this.value)}}class _2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class E2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}}class T2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>tu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n=null,a=[],o=[],u=null,f=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.le=null}}function BE(i,e=null,n=[],a=[],o=null,u=null,f=null){return new b2(i,e,n,a,o,u,f)}function Im(i){const e=Oe(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Fp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>lo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>lo(a)).join(",")),e.le=n}return e.le}function Om(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!d2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!sb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jE(i.startAt,e.startAt)&&jE(i.endAt,e.endAt)}function Gp(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n=null,a=[],o=[],u=null,f="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function S2(i,e,n,a,o,u,f,d){return new Gh(i,e,n,a,o,u,f,d)}function Dm(i){return new Gh(i)}function qE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function A2(i){return i.collectionGroup!==null}function Gl(i){const e=Oe(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Pt(Kt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new wh(u,a))}),n.has(Kt.keyField().canonicalString())||e.he.push(new wh(Kt.keyField(),a))}return e.he}function Ar(i){const e=Oe(i);return e.Pe||(e.Pe=w2(e,Gl(i))),e.Pe}function w2(i,e){if(i.limitType==="F")return BE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)});const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return BE(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Kp(i,e,n){return new Gh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Kh(i,e){return Om(Ar(i),Ar(e))&&i.limitType===e.limitType}function ub(i){return`${Im(Ar(i))}|lt:${i.limitType}`}function $s(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>ob(o)).join(", ")}]`),Hh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${a})`}(Ar(i))}; limitType=${i.limitType})`}function Qh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):be.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Gl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,d,m){const g=zE(f,d,m);return f.inclusive?g<=0:g<0}(a.startAt,Gl(a),o)||a.endAt&&!function(f,d,m){const g=zE(f,d,m);return f.inclusive?g>=0:g>0}(a.endAt,Gl(a),o))}(i,e)}function R2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function cb(i){return(e,n)=>{let a=!1;for(const o of Gl(i)){const u=C2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function C2(i,e,n){const a=i.field.isKeyField()?be.comparator(e.key,n.key):function(u,f,d){const m=f.data.field(u),g=d.data.field(u);return m!==null&&g!==null?oo(m,g):Ce()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new ht(be.comparator);function ui(){return I2}const hb=new ht(be.comparator);function zl(...i){let e=hb;for(const n of i)e=e.insert(n.key,n);return e}function fb(i){let e=hb;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ka(){return Kl()}function db(){return Kl()}function Kl(){return new ts(i=>i.toString(),(i,e)=>i.isEqual(e))}const O2=new ht(be.comparator),D2=new Pt(be.comparator);function Le(...i){let e=D2;for(const n of i)e=e.add(n);return e}const N2=new Pt(Pe);function P2(){return N2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function pb(i){return{integerValue:""+i}}function M2(i,e){return a2(e)?pb(e):Nm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function x2(i,e,n){return i instanceof Rh?function(o,u){const f={fields:{[WT]:{stringValue:XT},[JT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rm(u)&&(u=Fh(u)),u&&(f.fields[ZT]=u),{mapValue:f}}(n,e):i instanceof nu?gb(i,e):i instanceof ru?yb(i,e):function(o,u){const f=mb(o,u),d=HE(f)+HE(o.Ie);return Hp(f)&&Hp(o.Ie)?pb(d):Nm(o.serializer,d)}(i,e)}function k2(i,e,n){return i instanceof nu?gb(i,e):i instanceof ru?yb(i,e):n}function mb(i,e){return i instanceof Ch?function(a){return Hp(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Rh extends Yh{}class nu extends Yh{constructor(e){super(),this.elements=e}}function gb(i,e){const n=vb(e);for(const a of i.elements)n.some(o=>Cr(o,a))||n.push(a);return{arrayValue:{values:n}}}class ru extends Yh{constructor(e){super(),this.elements=e}}function yb(i,e){let n=vb(e);for(const a of i.elements)n=n.filter(o=>!Cr(o,a));return{arrayValue:{values:n}}}class Ch extends Yh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function HE(i){return _t(i.integerValue||i.doubleValue)}function vb(i){return Cm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function V2(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof nu&&o instanceof nu||a instanceof ru&&o instanceof ru?so(a.elements,o.elements,Cr):a instanceof Ch&&o instanceof Ch?Cr(a.Ie,o.Ie):a instanceof Rh&&o instanceof Rh}(i.transform,e.transform)}class L2{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $h{}function _b(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pm(i.key,Jn.none()):new fu(i.key,i.data,Jn.none());{const n=i.data,a=yn.empty();let o=new Pt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ua(i.key,a,new Cn(o.toArray()),Jn.none())}}function U2(i,e,n){i instanceof fu?function(o,u,f){const d=o.value.clone(),m=GE(o.fieldTransforms,u,f.transformResults);d.setAll(m),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(i,e,n):i instanceof ua?function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=GE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(Eb(o)),m.setAll(d),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ql(i,e,n,a){return i instanceof fu?function(u,f,d,m){if(!sh(u.precondition,f))return d;const g=u.value.clone(),v=KE(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,a):i instanceof ua?function(u,f,d,m){if(!sh(u.precondition,f))return d;const g=KE(u.fieldTransforms,m,f),v=f.data;return v.setAll(Eb(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,a):function(u,f,d){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(i,e,n)}function z2(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=mb(a.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(a.field,u))}return n||null}function FE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&so(a,o,(u,f)=>V2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fu extends $h{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends $h{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Eb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function GE(i,e,n){const a=new Map;Qe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,d=e.data.field(u.field);a.set(u.field,k2(f,d,n[o]))}return a}function KE(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,x2(u,f,e))}return a}class Pm extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j2 extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&U2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Ql(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Ql(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=db();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=n.has(o.key)?null:d;const m=_b(f,d);m!==null&&a.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,a)=>FE(n,a))&&so(this.baseMutations,e.baseMutations,(n,a)=>FE(n,a))}}class Mm{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Qe(e.mutations.length===a.length);let o=function(){return O2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Mm(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Be;function F2(i){switch(i){case ce.OK:return Ce();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ce()}}function Tb(i){if(i===void 0)return li("GRPC error has no .code"),ce.UNKNOWN;switch(i){case At.OK:return ce.OK;case At.CANCELLED:return ce.CANCELLED;case At.UNKNOWN:return ce.UNKNOWN;case At.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case At.INTERNAL:return ce.INTERNAL;case At.UNAVAILABLE:return ce.UNAVAILABLE;case At.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case At.NOT_FOUND:return ce.NOT_FOUND;case At.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case At.ABORTED:return ce.ABORTED;case At.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case At.DATA_LOSS:return ce.DATA_LOSS;default:return Ce()}}(Be=At||(At={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new Zi([4294967295,4294967295],0);function QE(i){const e=GT().encode(i),n=new UT;return n.update(e),new Uint8Array(n.digest())}function YE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zi([n,a],0),new Zi([o,u],0)]}class xm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(a<0)throw new jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Zi.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Zi.fromNumber(a)));return o.compare(G2)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=QE(e),[a,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xm(u,o,n);return a.forEach(d=>f.insert(d)),f}insert(e){if(this.Ee===0)return;const n=QE(e),[a,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Xh(Ie.min(),o,new ht(Pe),ui(),Le())}}class du{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new du(a,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class bb{constructor(e,n){this.targetId=e,this.ge=n}}class Sb{constructor(e,n,a=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class $E{constructor(){this.pe=0,this.ye=XE(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),a=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ce()}}),new du(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=XE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class K2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=Yc(),this.Ue=Yc(),this.Ke=new ht(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Gp(u))if(a===0){const f=new be(u.path);this.ze(n,f,sn.newNoDocument(f,Ie.min()))}else Qe(a===1);else{const f=this.et(n);if(f!==a){const d=this.tt(e),m=d?this.nt(d,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,d;try{f=na(a).toUint8Array()}catch(m){if(m instanceof $T)return ao("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new xm(f,o,u)}catch(m){return ao(m instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const d=this.Xe(f);if(d){if(u.current&&Gp(d.target)){const m=new be(d.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,sn.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Le();this.Ue.forEach((u,f)=>{let d=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Xh(e,n,this.Ke,this.Qe,a);return this.Qe=ui(),this.$e=Yc(),this.Ue=Yc(),this.Ke=new ht(Pe),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $E,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Pt(Pe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Pt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $E),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new ht(be.comparator)}function XE(){return new ht(be.comparator)}const Q2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$2={and:"AND",or:"OR"};class X2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qp(i,e){return i.useProto3Json||Hh(e)?e:{value:e}}function Ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ab(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function W2(i,e){return Ih(i,e.toTimestamp())}function wr(i){return Qe(!!i),Ie.fromTimestamp(function(n){const a=ta(n);return new Nt(a.seconds,a.nanos)}(i))}function km(i,e){return Yp(i,e).canonicalString()}function Yp(i,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function wb(i){const e=ot.fromString(i);return Qe(Db(e)),e}function $p(i,e){return km(i.databaseId,e.path)}function Rp(i,e){const n=wb(e);if(n.get(1)!==i.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(Cb(n))}function Rb(i,e){return km(i.databaseId,e)}function Z2(i){const e=wb(i);return e.length===4?ot.emptyPath():Cb(e)}function Xp(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Cb(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function WE(i,e,n){return{name:$p(i,e),fields:n.value.mapValue.fields}}function J2(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string"),Qt.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Qt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,d=f&&function(g){const v=g.code===void 0?ce.UNKNOWN:Tb(g.code);return new Te(v,g.message||"")}(f);n=new Sb(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Rp(i,a.document.name),u=wr(a.document.updateTime),f=a.document.createTime?wr(a.document.createTime):Ie.min(),d=new yn({mapValue:{fields:a.document.fields}}),m=sn.newFoundDocument(o,u,f,d),g=a.targetIds||[],v=a.removedTargetIds||[];n=new oh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Rp(i,a.document),u=a.readTime?wr(a.readTime):Ie.min(),f=sn.newNoDocument(o,u),d=a.removedTargetIds||[];n=new oh([],d,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Rp(i,a.document),u=a.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new H2(o,u),d=a.targetId;n=new bb(d,f)}}return n}function eD(i,e){let n;if(e instanceof fu)n={update:WE(i,e.key,e.value)};else if(e instanceof Pm)n={delete:$p(i,e.key)};else if(e instanceof ua)n={update:WE(i,e.key,e.data),updateMask:uD(e.fieldMask)};else{if(!(e instanceof j2))return Ce();n={verify:$p(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const d=f.transform;if(d instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:d.Ie};throw Ce()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:W2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(i,e.precondition)),n}function tD(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?wr(o.updateTime):wr(u);return f.isEqual(Ie.min())&&(f=wr(u)),new L2(f,o.transformResults||[])}(n,e))):[]}function nD(i,e){return{documents:[Rb(i,e.path)]}}function rD(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Rb(i,o);const u=function(g){if(g.length!==0)return Ob(Ir.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Xs(S.field),direction:sD(S.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const d=Qp(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function iD(i){let e=Z2(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Qe(a===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(T){const S=Ib(T);return S instanceof Ir&&ab(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(S=>function(M){return new wh(Ws(M.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Hh(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(T){const S=!!T.before,D=T.values||[];return new Ah(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const S=!T.before,D=T.values||[];return new Ah(D,S)}(n.endAt)),S2(e,o,f,u,d,"F",m,g)}function aD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ib(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ws(n.unaryFilter.field);return Dt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ws(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ws(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ws(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(Ws(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(a=>Ib(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function sD(i){return Q2[i]}function oD(i){return Y2[i]}function lD(i){return $2[i]}function Xs(i){return{fieldPath:i.canonicalString()}}function Ws(i){return Kt.fromServerFormat(i.fieldPath)}function Ob(i){return i instanceof Dt?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(LE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(LE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:oD(n.op),value:n.value}}}(i):i instanceof Ir?function(n){const a=n.getFilters().map(o=>Ob(o));return a.length===1?a[0]:{compositeFilter:{op:lD(n.op),filters:a}}}(i):Ce()}function uD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Db(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,a,o,u=Ie.min(),f=Ie.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.Tt=e}}function hD(i){const e=iD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Tn=new dD}addToCollectionParentIndex(e,n){return this.Tn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ea.min())}updateCollectionGroup(e,n,a){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class dD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Pt(ot.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Nb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new uo(0)}static Kn(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",pD=1048576;function e0([i,e],[n,a]){const o=Pe(i,n);return o===0?Pe(e,a):o}class mD{constructor(e){this.Hn=e,this.buffer=new Pt(e0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();e0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(JE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?me(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.er(3e5)})}}class yD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return le.resolve(qh.ae);const a=new mD(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(ZE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(e,a,n))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(g=Date.now(),Ys()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function vD(i,e){return new yD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?le.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Ql(a.mutation,o,Cn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Le()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Le()){const o=Ka();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=zl();return u.forEach((d,m)=>{f=f.insert(d,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Ka();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Le()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,d)=>{n.set(f,d)})})}computeViews(e,n,a,o){let u=ui();const f=Kl(),d=function(){return Kl()}();return n.forEach((m,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ua)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Ql(v.mutation,g,v.mutation.getFieldMask(),Nt.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>{var T;return d.set(g,new ED(v,(T=f.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,n){const a=Kl();let o=new ht((f,d)=>f-d),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const d of f)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=a.get(m)||Cn.empty();v=d.applyToLocalView(g,v),a.set(m,v);const T=(o.get(d.batchId)||Le()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=db();v.forEach(S=>{if(!u.has(S)){const D=_b(n.get(S),a.get(S));D!==null&&T.set(S,D),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):le.resolve(Ka());let d=Zl,m=u;return f.next(g=>le.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:d,changes:fb(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(a=>{let o=zl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(e,u).next(d=>le.forEach(d,m=>{const g=function(T,S){return new Gh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((T,S)=>{f=f.insert(T,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,sn.newInvalidDocument(v)))});let d=zl();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Ql(v.mutation,g,Cn.empty(),Nt.now()),Qh(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return le.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:hD(o.bundledQuery),readTime:wr(o.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.overlays=new ht(be.comparator),this.Rr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ka();return le.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),le.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),le.resolve()}getOverlaysForCollection(e,n,a){const o=Ka(),u=n.length+1,f=new be(n.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ht((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=Ka(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ka(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return le.resolve(d)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new q2(n,a));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Vr=new Pt(Ut.mr),this.gr=new Pt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Ut(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new be(new ot([])),a=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new be(new ot([])),a=new Ut(n,e),o=new Ut(n,e+1);let u=Le();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return be.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Pt(Ut.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new B2(u,n,a,o);this.mutationQueue.push(f);for(const d of o)this.Mr=this.Mr.add(new Ut(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(f)}lookupMutationBatch(e,n){return le.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?wm:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const d=this.Or(f.Cr);u.push(d)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Pt(Pe);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],d=>{a=a.add(d.Cr)})}),le.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;be.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new be(u),0);let d=new Pt(Pe);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},f),le.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return le.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Ut(n,0),o=this.Mr.firstAfterOrEqual(a);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.kr=e,this.docs=function(){return new ht(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return le.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),le.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ui();const f=n.path,d=new be(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||t2(e2(v),a)<=0||(o.has(v.key)||Qh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ce()}qr(e,n){return le.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new CD(this)}getSize(e){return le.resolve(this.size)}}class CD extends _D{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),le.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.persistence=e,this.Qr=new ts(n=>Im(n),Om),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vm,this.targetCount=0,this.Kr=uo.Un()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),le.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.zn(n),le.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return le.resolve(a)}addMatchingKeys(e,n,a){return this.Ur.yr(n,a),le.resolve()}removeMatchingKeys(e,n,a){this.Ur.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),le.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ur.vr(n);return le.resolve(a)}containsKey(e,n){return le.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new qh(0),this.zr=!1,this.zr=!0,this.jr=new AD,this.referenceDelegate=e(this),this.Hr=new ID(this),this.indexManager=new fD,this.remoteDocumentCache=function(o){return new RD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new cD(n),this.Yr=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new wD(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const o=new OD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return le.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class OD extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.ti=new Vm,this.ni=null}static ri(e){return new Lm(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),le.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),le.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,a=>{const o=be.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return le.or([()=>le.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.oi=new ts(a=>s2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=vD(this,n)}static ri(e,n){return new Oh(e,n)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return le.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?le.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(d=>{d||(a++,u.removeEntry(f,Ie.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),le.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}ar(e,n,a){return le.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return le.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Um(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hC()?8:i2(on())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new DD;return this._s(e,n,f).next(d=>{if(u.result=d,this.Xi)return this.us(e,n,f,d.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(Ys()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Ys()<=Ve.DEBUG&&me("QueryEngine","Query:",$s(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Ys()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):le.resolve())}rs(e,n){if(qE(n))return le.resolve(null);let a=Ar(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Kp(n,null,"F"),a=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.cs(n,d);return this.ls(n,g,f,m.readTime)?this.rs(e,Kp(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,a,o){return qE(n)||o.isEqual(Ie.min())?le.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?le.resolve(null):(Ys()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$s(n)),this.hs(e,f,n,JO(o,Zl)).next(d=>d))})}cs(e,n){let a=new Pt(cb(e));return n.forEach((o,u)=>{Qh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return Ys()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$s(n)),this.ns.getDocumentsMatchingQuery(e,n,ea.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="LocalStore",PD=3e8;class MD{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ht(Pe),this.Is=new ts(u=>Im(u),Om),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function xD(i,e,n,a){return new MD(i,e,n,a)}async function Mb(i,e){const n=Oe(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],d=[];let m=Le();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:d}))})})}function kD(i,e){const n=Oe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const T=g.batch,S=T.keys();let D=le.resolve();return S.forEach(M=>{D=D.next(()=>v.getEntry(m,M)).next(G=>{const z=g.docVersions.get(M);Qe(z!==null),G.version.compareTo(z)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function xb(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VD(i,e){const n=Oe(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const S=o.get(T);if(!S)return;d.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,T)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,a)),o=o.insert(T,D),function(G,z,Y){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=PD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,D,v)&&d.push(n.Hr.updateTargetData(u,D))});let m=ui(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(LD(u,f,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!a.isEqual(Ie.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(v)}return le.waitFor(d).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function LD(i,e,n){let a=Le(),o=Le();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=ui();return n.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(d,m)):me(zm,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function UD(i,e){const n=Oe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=wm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function zD(i,e){const n=Oe(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,le.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Qi(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Wp(i,e,n){const a=Oe(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!To(f))throw f;me(zm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function t0(i,e,n){const a=Oe(i);let o=Ie.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,v){const T=Oe(m),S=T.Is.get(v);return S!==void 0?le.resolve(T.Ts.get(S)):T.Hr.getTargetData(g,v)}(a,f,Ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,d.targetId).next(m=>{u=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:Ie.min(),n?u:Le())).next(d=>(jD(a,R2(e),d),{documents:d,gs:u})))}function jD(i,e,n){let a=i.Es.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class n0{constructor(){this.activeTargetIds=P2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BD{constructor(){this.ho=new n0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new n0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class i0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(r0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Zp(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="RestConnection",HD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,n,a,o,u){const f=Zp(),d=this.bo(e,n.toUriEncodedString());me(Cp,`Sending RPC '${e}' ${f}:`,d,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,d,m,a).then(g=>(me(Cp,`Received RPC '${e}' ${f}: `,g),g),g=>{throw ao(Cp,`RPC '${e}' ${f} failed with error: `,g,"url: ",d,"request:",a),g})}Co(e,n,a,o,u,f){return this.So(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const a=HD[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class KD extends FD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=Zp();return new Promise((f,d)=>{const m=new zT;m.setWithCredentials(!0),m.listenOnce(jT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case rh.NO_ERROR:const v=m.getResponseJson();me(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case rh.TIMEOUT:me(rn,`RPC '${e}' ${u} timed out`),d(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const T=m.getStatus();if(me(rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S==null?void 0:S.error;if(D&&D.status&&D.message){const M=function(z){const Y=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Y)>=0?Y:ce.UNKNOWN}(D.status);d(new Te(M,D.message))}else d(new Te(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{me(rn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);me(rn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,a,15)})}Wo(e,n,a){const o=Zp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=HT(),d=qT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const v=u.join("");me(rn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);let S=!1,D=!1;const M=new GD({Fo:z=>{D?me(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(me(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),me(rn,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Mo:()=>T.close()}),G=(z,Y,ue)=>{z.listen(Y,re=>{try{ue(re)}catch(pe){setTimeout(()=>{throw pe},0)}})};return G(T,Ul.EventType.OPEN,()=>{D||(me(rn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),G(T,Ul.EventType.CLOSE,()=>{D||(D=!0,me(rn,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),G(T,Ul.EventType.ERROR,z=>{D||(D=!0,ao(rn,`RPC '${e}' stream ${o} transport errored:`,z),M.Uo(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),G(T,Ul.EventType.MESSAGE,z=>{var Y;if(!D){const ue=z.data[0];Qe(!!ue);const re=ue,pe=(re==null?void 0:re.error)||((Y=re[0])===null||Y===void 0?void 0:Y.error);if(pe){me(rn,`RPC '${e}' stream ${o} received error:`,pe);const de=pe.status;let ge=function(C){const N=At[C];if(N!==void 0)return Tb(N)}(de),k=pe.message;ge===void 0&&(ge=ce.INTERNAL,k="Unknown error status: "+de+" with message "+pe.message),D=!0,M.Uo(new Te(ge,k)),T.close()}else me(rn,`RPC '${e}' stream ${o} received:`,ue),M.Ko(ue)}}),G(d,BT.STAT_EVENT,z=>{z.stat===jp.PROXY?me(rn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===jp.NOPROXY&&me(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){return new X2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class Vb{constructor(e,n,a,o,u,f,d,m){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new Te(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QD extends Vb{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=J2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?wr(f.readTime):Ie.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Xp(this.serializer),n.addTarget=function(u,f){let d;const m=f.target;if(d=Gp(m)?{documents:nD(u,m)}:{query:rD(u,m).ht},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=Ab(u,f.resumeToken);const g=Qp(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Ih(u,f.snapshotVersion.toTimestamp());const g=Qp(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=aD(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.I_(n)}}class YD extends Vb{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=tD(e.writeResults,e.commitTime),a=wr(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Xp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>eD(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class XD extends $D{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Yp(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ce.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Co(e,Yp(n,a),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(ce.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(li(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class ZD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{ns(this)&&(me(Za,"Restarting streams for network reachability change."),await async function(m){const g=Oe(m);g.W_.add(4),await pu(g),g.j_.set("Unknown"),g.W_.delete(4),await Zh(g)}(this))})}),this.j_=new WD(a,o)}}async function Zh(i){if(ns(i))for(const e of i.G_)await e(!0)}async function pu(i){for(const e of i.G_)await e(!1)}function Lb(i,e){const n=Oe(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Hm(n)?qm(n):bo(n).c_()&&Bm(n,e))}function jm(i,e){const n=Oe(i),a=bo(n);n.K_.delete(e),a.c_()&&Ub(n,e),n.K_.size===0&&(a.c_()?a.P_():ns(n)&&n.j_.set("Unknown"))}function Bm(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(i).y_(e)}function Ub(i,e){i.H_.Ne(e),bo(i).w_(e)}function qm(i){i.H_=new K2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),bo(i).start(),i.j_.B_()}function Hm(i){return ns(i)&&!bo(i).u_()&&i.K_.size>0}function ns(i){return Oe(i).W_.size===0}function zb(i){i.H_=void 0}async function JD(i){i.j_.set("Online")}async function eN(i){i.K_.forEach((e,n)=>{Bm(i,e)})}async function tN(i,e){zb(i),Hm(i)?(i.j_.q_(e),qm(i)):i.j_.set("Unknown")}async function nN(i,e,n){if(i.j_.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(a){me(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Dh(i,a)}else if(e instanceof oh?i.H_.We(e):e instanceof bb?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ie.min()))try{const a=await xb(i.localStore);n.compareTo(a)>=0&&await function(u,f){const d=u.H_.ot(f);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach((m,g)=>{const v=u.K_.get(m);if(!v)return;u.K_.set(m,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),Ub(u,m);const T=new Qi(v.target,m,g,v.sequenceNumber);Bm(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(a){me(Za,"Failed to raise snapshot:",a),await Dh(i,a)}}async function Dh(i,e,n){if(!To(e))throw e;i.W_.add(1),await pu(i),i.j_.set("Offline"),n||(n=()=>xb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(Za,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Zh(i)})}function jb(i,e){return e().catch(n=>Dh(i,n,e))}async function Jh(i){const e=Oe(i),n=ia(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:wm;for(;rN(e);)try{const o=await UD(e.localStore,a);if(o===null){e.U_.length===0&&n.P_();break}a=o.batchId,iN(e,o)}catch(o){await Dh(e,o)}Bb(e)&&qb(e)}function rN(i){return ns(i)&&i.U_.length<10}function iN(i,e){i.U_.push(e);const n=ia(i);n.c_()&&n.S_&&n.b_(e.mutations)}function Bb(i){return ns(i)&&!ia(i).u_()&&i.U_.length>0}function qb(i){ia(i).start()}async function aN(i){ia(i).C_()}async function sN(i){const e=ia(i);for(const n of i.U_)e.b_(n.mutations)}async function oN(i,e,n){const a=i.U_.shift(),o=Mm.from(a,e,n);await jb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Jh(i)}async function lN(i,e){e&&ia(i).S_&&await async function(a,o){if(function(f){return F2(f)&&f!==ce.ABORTED}(o.code)){const u=a.U_.shift();ia(a).h_(),await jb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jh(a)}}(i,e),Bb(i)&&qb(i)}async function s0(i,e){const n=Oe(i);n.asyncQueue.verifyOperationInProgress(),me(Za,"RemoteStore received new credentials");const a=ns(n);n.W_.add(3),await pu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zh(n)}async function uN(i,e){const n=Oe(i);e?(n.W_.delete(2),await Zh(n)):e||(n.W_.add(2),await pu(n),n.j_.set("Unknown"))}function bo(i){return i.J_||(i.J_=function(n,a,o){const u=Oe(n);return u.M_(),new QD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:JD.bind(null,i),No:eN.bind(null,i),Lo:tN.bind(null,i),p_:nN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Hm(i)?qm(i):i.j_.set("Unknown")):(await i.J_.stop(),zb(i))})),i.J_}function ia(i){return i.Y_||(i.Y_=function(n,a,o){const u=Oe(n);return u.M_(),new YD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:aN.bind(null,i),Lo:lN.bind(null,i),D_:sN.bind(null,i),v_:oN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Jh(i)):(await i.Y_.stop(),i.U_.length>0&&(me(Za,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,d=new Fm(e,n,f,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(i,e){if(li("AsyncQueue",`${e}: ${i}`),To(i))return new Te(ce.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||be.comparator(n.key,a.key):(n,a)=>be.comparator(n.key,a.key),this.keyedMap=zl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new no;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.Z_=new ht(be.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class co{constructor(e,n,a,o,u,f,d,m,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(d=>{f.push({type:0,doc:d})}),new co(e,n,no.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class hN{constructor(){this.queries=l0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Oe(n),u=o.queries;o.queries=l0(),u.forEach((f,d)=>{for(const m of d.ta)m.onError(a)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function l0(){return new ts(i=>ub(i),Kh)}async function Hb(i,e){const n=Oe(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new cN,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const d=Gm(f,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Km(n)}async function Fb(i,e){const n=Oe(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function fN(i,e){const n=Oe(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const d of f.ta)d.oa(o)&&(a=!0);f.ea=o}}a&&Km(n)}function dN(i,e,n){const a=Oe(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Km(i){i.ia.forEach(e=>{e.next()})}var Jp,u0;(u0=Jp||(Jp={}))._a="default",u0.Cache="cache";class Gb{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class pN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=cb(e),this.wa=new no(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new o0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const S=o.get(v),D=Qh(this.query,T)?T:null,M=!!S&&this.mutatedKeys.has(S.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;S&&D?S.data.isEqual(D.data)?M!==G&&(a.track({type:3,doc:D}),z=!0):this.va(S,D)||(a.track({type:2,doc:D}),z=!0,(m&&this.ya(D,m)>0||g&&this.ya(D,g)<0)&&(d=!0)):!S&&D?(a.track({type:0,doc:D}),z=!0):S&&!D&&(a.track({type:1,doc:S}),z=!0,(m||g)&&(d=!0)),z&&(D?(f=f.add(D),u=G?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{wa:f,Da:a,ls:d,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,T)=>function(D,M){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return G(D)-G(M)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(a),o=o!=null&&o;const d=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new co(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new o0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new Qb(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new Kb(a))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qm="SyncEngine";class mN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class gN{constructor(e){this.key=e,this.Ba=!1}}class yN{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ts(d=>ub(d),Kh),this.qa=new Map,this.Qa=new Set,this.$a=new ht(be.comparator),this.Ua=new Map,this.Ka=new Vm,this.Wa={},this.Ga=new Map,this.za=uo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vN(i,e,n=!0){const a=Jb(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Yb(a,e,n,!0),o}async function _N(i,e){const n=Jb(i);await Yb(n,e,!0,!1)}async function Yb(i,e,n,a){const o=await zD(i.localStore,Ar(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let d;return a&&(d=await EN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Lb(i.remoteStore,o),d}async function EN(i,e,n,a,o){i.Ha=(T,S,D)=>async function(G,z,Y,ue){let re=z.view.ba(Y);re.ls&&(re=await t0(G.localStore,z.query,!1).then(({documents:k})=>z.view.ba(k,re)));const pe=ue&&ue.targetChanges.get(z.targetId),de=ue&&ue.targetMismatches.get(z.targetId)!=null,ge=z.view.applyChanges(re,G.isPrimaryClient,pe,de);return h0(G,z.targetId,ge.Ma),ge.snapshot}(i,T,S,D);const u=await t0(i.localStore,e,!0),f=new pN(e,u.gs),d=f.ba(u.documents),m=du.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=f.applyChanges(d,i.isPrimaryClient,m);h0(i,n,g.Ma);const v=new mN(e,n,f);return i.ka.set(e,v),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function TN(i,e,n){const a=Oe(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!Kh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Wp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&jm(a.remoteStore,o.targetId),em(a,o.targetId)}).catch(Eo)):(em(a,o.targetId),await Wp(a.localStore,o.targetId,!0))}async function bN(i,e){const n=Oe(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),jm(n.remoteStore,a.targetId))}async function SN(i,e,n){const a=DN(i);try{const o=await function(f,d){const m=Oe(f),g=Nt.now(),v=d.reduce((D,M)=>D.add(M.key),Le());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=ui(),G=Le();return m.ds.getEntries(D,v).next(z=>{M=z,M.forEach((Y,ue)=>{ue.isValidDocument()||(G=G.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,M)).next(z=>{T=z;const Y=[];for(const ue of d){const re=z2(ue,T.get(ue.key).overlayedDocument);re!=null&&Y.push(new ua(ue.key,re,nb(re.value.mapValue),Jn.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,Y,d)}).next(z=>{S=z;const Y=z.applyToLocalDocumentSet(T,G);return m.documentOverlayCache.saveOverlays(D,z.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:fb(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){let g=f.Wa[f.currentUser.toKey()];g||(g=new ht(Pe)),g=g.insert(d,m),f.Wa[f.currentUser.toKey()]=g}(a,o.batchId,n),await mu(a,o.changes),await Jh(a.remoteStore)}catch(o){const u=Gm(o,"Failed to persist write");n.reject(u)}}async function $b(i,e){const n=Oe(i);try{const a=await VD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Qe(f.Ba):o.removedDocuments.size>0&&(Qe(f.Ba),f.Ba=!1))}),await mu(n,a,e)}catch(a){await Eo(a)}}function c0(i,e,n){const a=Oe(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const d=f.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(f,d){const m=Oe(f);m.onlineState=d;let g=!1;m.queries.forEach((v,T)=>{for(const S of T.ta)S.sa(d)&&(g=!0)}),g&&Km(m)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AN(i,e,n){const a=Oe(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ua.get(e),u=o&&o.key;if(u){let f=new ht(be.comparator);f=f.insert(u,sn.newNoDocument(u,Ie.min()));const d=Le().add(u),m=new Xh(Ie.min(),new Map,new ht(Pe),f,d);await $b(a,m),a.$a=a.$a.remove(u),a.Ua.delete(e),Ym(a)}else await Wp(a.localStore,e,!1).then(()=>em(a,e,n)).catch(Eo)}async function wN(i,e){const n=Oe(i),a=e.batch.batchId;try{const o=await kD(n.localStore,e);Wb(n,a,null),Xb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await mu(n,o)}catch(o){await Eo(o)}}async function RN(i,e,n){const a=Oe(i);try{const o=await function(f,d){const m=Oe(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Qe(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(a.localStore,e);Wb(a,e,n),Xb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await mu(a,o)}catch(o){await Eo(o)}}function Xb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Wb(i,e,n){const a=Oe(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function em(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(a=>{i.Ka.containsKey(a)||Zb(i,a)})}function Zb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(jm(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Ym(i))}function h0(i,e,n){for(const a of n)a instanceof Kb?(i.Ka.addReference(a.key,e),CN(i,a)):a instanceof Qb?(me(Qm,"Document no longer in limbo: "+a.key),i.Ka.removeReference(a.key,e),i.Ka.containsKey(a.key)||Zb(i,a.key)):Ce()}function CN(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(me(Qm,"New document in limbo: "+n),i.Qa.add(a),Ym(i))}function Ym(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new be(ot.fromString(e)),a=i.za.next();i.Ua.set(a,new gN(n)),i.$a=i.$a.insert(n,a),Lb(i.remoteStore,new Qi(Ar(Dm(n.path)),a,"TargetPurposeLimboResolution",qh.ae))}}async function mu(i,e,n){const a=Oe(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((d,m)=>{f.push(a.Ha(m,e,n).then(g=>{var v;if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Um.Yi(m.targetId,g);u.push(T)}}))}),await Promise.all(f),a.La.p_(o),await async function(m,g){const v=Oe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(g,S=>le.forEach(S.Hi,D=>v.persistence.referenceDelegate.addReference(T,S.targetId,D)).next(()=>le.forEach(S.Ji,D=>v.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))}catch(T){if(!To(T))throw T;me(zm,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const D=v.Ts.get(S),M=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(M);v.Ts=v.Ts.insert(S,G)}}}(a.localStore,u))}async function IN(i,e){const n=Oe(i);if(!n.currentUser.isEqual(e)){me(Qm,"User change. New user:",e.toKey());const a=await Mb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new Te(ce.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(n,a.Rs)}}function ON(i,e){const n=Oe(i),a=n.Ua.get(e);if(a&&a.Ba)return Le().add(a.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const f of u){const d=n.ka.get(f);o=o.unionWith(d.view.Sa)}return o}}function Jb(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AN.bind(null,e),e.La.p_=fN.bind(null,e.eventManager),e.La.Ja=dN.bind(null,e.eventManager),e}function DN(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return xD(this.persistence,new ND,e.initialUser,this.serializer)}Xa(e){return new Pb(Lm.ri,this.serializer)}Za(e){return new BD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class NN extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof Oh);const a=this.persistence.referenceDelegate.garbageCollector;return new gD(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Pb(a=>Oh.ri(a,n),this.serializer)}}class tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>c0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IN.bind(null,this.syncEngine),await uN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hN}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),a=function(u){return new KD(u)}(e.databaseInfo);return function(u,f,d,m){return new XD(u,f,d,m)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,d){return new ZD(a,o,u,f,d)}(this.localStore,this.datastore,e.asyncQueue,n=>c0(this.syncEngine,n,0),function(){return i0.D()?new i0:new qD}())}createSyncEngine(e,n){return function(o,u,f,d,m,g,v){const T=new yN(o,u,f,d,m,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Oe(o);me(Za,"RemoteStore shutting down."),u.W_.add(5),await pu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class PN{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=KT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{me(aa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(me(aa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Gm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Op(i,e){i.asyncQueue.verifyOperationInProgress(),me(aa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Mb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function f0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await MN(i);me(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>s0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>s0(e.remoteStore,o)),i._onlineComponents=e}async function MN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(aa,"Using user provided OfflineComponentProvider");try{await Op(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Op(i,new Nh)}}else me(aa,"Using default OfflineComponentProvider"),await Op(i,new NN(void 0));return i._offlineComponents}async function tS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(aa,"Using user provided OnlineComponentProvider"),await f0(i,i._uninitializedComponentsProvider._online)):(me(aa,"Using default OnlineComponentProvider"),await f0(i,new tm))),i._onlineComponents}function xN(i){return tS(i).then(e=>e.syncEngine)}async function nS(i){const e=await tS(i),n=e.eventManager;return n.onListen=vN.bind(null,e.syncEngine),n.onUnlisten=TN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_N.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bN.bind(null,e.syncEngine),n}function kN(i,e,n={}){const a=new ii;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,d,m,g){const v=new eS({next:S=>{v.su(),f.enqueueAndForget(()=>Fb(u,T));const D=S.docs.has(d);!D&&S.fromCache?g.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&m&&m.source==="server"?g.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Gb(Dm(d.path),v,{includeMetadataChanges:!0,Ta:!0});return Hb(u,T)}(await nS(i),i.asyncQueue,e,n,a)),a.promise}function VN(i,e,n={}){const a=new ii;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,d,m,g){const v=new eS({next:S=>{v.su(),f.enqueueAndForget(()=>Fb(u,T)),S.fromCache&&m.source==="server"?g.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Gb(d,v,{includeMetadataChanges:!0,Ta:!0});return Hb(u,T)}(await nS(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(i,e,n){if(!n)throw new Te(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function LN(i,e,n,a){if(e===!0&&a===!0)throw new Te(ce.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function p0(i){if(!be.isDocumentKey(i))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function m0(i){if(be.isDocumentKey(i))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $m(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(i);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firestore.googleapis.com",g0=!0;class y0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=g0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:g0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pD)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new FO;switch(a.type){case"firstParty":return new YO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=d0.get(n);a&&(me("ComponentProvider","Removing Datastore"),d0.delete(n),a.terminate())}(this),Promise.resolve()}}function UN(i,e,n,a={}){var o;const u=(i=ci(i,ef))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${n}`;u.host!==aS&&u.host!==d&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Ya(m,f)&&(i._setSettings(m),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=an.MOCK_USER;else{g=iC(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(T)}i._authCredentials=new GO(new FT(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new tf(this.firestore,e,this._query)}}class In{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ji extends tf{constructor(e,n,a){super(e,n,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new be(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function zN(i,e,...n){if(i=ln(i),iS("collection","path",e),i instanceof ef){const a=ot.fromString(e,...n);return m0(a),new Ji(i,null,a)}{if(!(i instanceof In||i instanceof Ji))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ot.fromString(e,...n));return m0(a),new Ji(i.firestore,null,a)}}function lh(i,e,...n){if(i=ln(i),arguments.length===1&&(e=KT.newId()),iS("doc","path",e),i instanceof ef){const a=ot.fromString(e,...n);return p0(a),new In(i,null,new be(a))}{if(!(i instanceof In||i instanceof Ji))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ot.fromString(e,...n));return p0(a),new In(i.firestore,i instanceof Ji?i.converter:null,new be(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kb(this,"async_queue_retry"),this.Su=()=>{const a=Ip();a&&me(v0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=Ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!To(e))throw e;me(v0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let d=f.message||"";return f.stack&&(d=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),d}(a);throw li("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Fm.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class So extends ef{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new _0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function jN(i,e){const n=typeof i=="object"?i:nT(),a=typeof i=="string"?i:bh,o=pm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=nC("firestore");u&&UN(o,...u)}return o}function Xm(i){if(i._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BN(i),i._firestoreClient}function BN(i){var e,n,a;const o=i._freezeSettings(),u=function(d,m,g,v){return new u2(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rS(v.experimentalLongPollingOptions),v.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new PN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Qt.fromBase64String(e))}catch(n){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^__.*__$/;class HN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class sS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class eg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ph(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(oS(this.Lu)&&qN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class FN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Wh(e)}ju(e,n,a,o=!1){return new eg({Lu:e,methodName:n,zu:a,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lS(i){const e=i._freezeSettings(),n=Wh(i._databaseId);return new FN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function GN(i,e,n,a,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);tg("Data must be an object, but it was:",f,a);const d=uS(a,f);let m,g;if(u.merge)m=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=nm(e,T,n);if(!f.contains(S))throw new Te(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);hS(v,S)||v.push(S)}m=new Cn(v),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new HN(new yn(d),m,g)}class rf extends Wm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function KN(i,e,n,a){const o=i.ju(1,e,n);tg("Data must be an object, but it was:",o,a);const u=[],f=yn.empty();la(a,(m,g)=>{const v=ng(e,m,n);g=ln(g);const T=o.Uu(v);if(g instanceof rf)u.push(v);else{const S=af(g,T);S!=null&&(u.push(v),f.set(v,S))}});const d=new Cn(u);return new sS(f,d,o.fieldTransforms)}function QN(i,e,n,a,o,u){const f=i.ju(1,e,n),d=[nm(e,a,n)],m=[o];if(u.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(nm(e,u[S])),m.push(u[S+1]);const g=[],v=yn.empty();for(let S=d.length-1;S>=0;--S)if(!hS(g,d[S])){const D=d[S];let M=m[S];M=ln(M);const G=f.Uu(D);if(M instanceof rf)g.push(D);else{const z=af(M,G);z!=null&&(g.push(D),v.set(D,z))}}const T=new Cn(g);return new sS(v,T,f.fieldTransforms)}function af(i,e){if(cS(i=ln(i)))return tg("Unsupported field value:",e,i),uS(i,e);if(i instanceof Wm)return function(a,o){if(!oS(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const d of a){let m=af(d,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return M2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Nt.fromDate(a);return{timestampValue:Ih(o.serializer,u)}}if(a instanceof Nt){const u=new Nt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(a instanceof Zm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ho)return{bytesValue:Ab(o.serializer,a._byteString)};if(a instanceof In){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Jm)return function(f,d){return{mapValue:{fields:{[eb]:{stringValue:tb},[Sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Nm(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${$m(a)}`)}(i,e)}function uS(i,e){const n={};return YT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(i,(a,o)=>{const u=af(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function cS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof Zm||i instanceof ho||i instanceof In||i instanceof Wm||i instanceof Jm)}function tg(i,e,n){if(!cS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=$m(n);throw a==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+a)}}function nm(i,e,n){if((e=ln(e))instanceof nf)return e._internalPath;if(typeof e=="string")return ng(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const YN=new RegExp("[~\\*/\\[\\]]");function ng(i,e,n){if(e.search(YN)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ph(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${a}`),f&&(m+=` in document ${o}`),m+=")"),new Te(ce.INVALID_ARGUMENT,d+i+m)}function hS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $N extends fS{data(){return super.data()}}function dS(i,e){return typeof e=="string"?ng(i,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WN{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return la(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Jm(u)}convertGeoPoint(e){return new Zm(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ot.fromString(e);Qe(Db(a));const o=new eu(a.get(1),a.get(3)),u=new be(a.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pS extends fS{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(dS("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class uh extends pS{data(e={}){return super.data(e)}}class JN{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new uh(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const m=new uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Bl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Bl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),v=f.indexOf(d.doc.key)),{type:eP(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(i){i=ci(i,In);const e=ci(i.firestore,So);return kN(Xm(e),i._key).then(n=>sP(e,i,n))}class mS extends WN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function nP(i){i=ci(i,tf);const e=ci(i.firestore,So),n=Xm(e),a=new mS(e);return XN(i._query),VN(n,i._query).then(o=>new JN(e,a,i,o))}function rP(i,e,n,...a){i=ci(i,In);const o=ci(i.firestore,So),u=lS(o);let f;return f=typeof(e=ln(e))=="string"||e instanceof nf?QN(u,"updateDoc",i._key,e,n,a):KN(u,"updateDoc",i._key,e),rg(o,[f.toMutation(i._key,Jn.exists(!0))])}function iP(i){return rg(ci(i.firestore,So),[new Pm(i._key,Jn.none())])}function aP(i,e){const n=ci(i.firestore,So),a=lh(i),o=ZN(i.converter,e);return rg(n,[GN(lS(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then(()=>a)}function rg(i,e){return function(a,o){const u=new ii;return a.asyncQueue.enqueueAndForget(async()=>SN(await xN(a),o,u)),u.promise}(Xm(i),e)}function sP(i,e,n){const a=n.docs.get(e._key),o=new mS(i);return new pS(i,o,e._key,a,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){_o=o})(go),ro(new $a("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),d=new So(new KO(a.getProvider("auth-internal")),new $O(f,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Xi(wE,RE,e),Xi(wE,RE,"esm2017")})();const oP={apiKey:"AIzaSyDG9Itw8PXI3YYuESPJCRInLhnIdMcu7-Q",authDomain:"instrus-d1d04.firebaseapp.com",projectId:"instrus-d1d04",storageBucket:"instrus-d1d04.firebasestorage.app",messagingSenderId:"897499351518",appId:"1:897499351518:web:acf0839627546ad41df54f",measurementId:"G-4863MKN00E"},gS=tT(oP),ql=jO(gS),lP=jN(gS),uP=()=>{const[i,e]=$.useState(""),[n,a]=$.useState(""),[o,u]=$.useState(!1),[f,d]=$.useState(null),m=am(),g=async v=>{var T;v.preventDefault(),u(!0),d(null);try{await RI(ql,i,n),m("/instrus/players")}catch(S){d(S.message),console.error(S)}finally{console.log("connect : ",(T=ql==null?void 0:ql.currentUser)==null?void 0:T.email),u(!1)}};return J.jsxs("div",{className:"container",children:[J.jsx("input",{type:"email",className:"auth-input",placeholder:"Email...",value:i,onChange:v=>e(v.target.value)}),J.jsx("input",{type:"password",className:"auth-input",placeholder:"Password...",value:n,onChange:v=>a(v.target.value)}),J.jsx("button",{className:"auth-button",onClick:g,children:"Login"})]})};var ch={exports:{}},cP=ch.exports,E0;function hP(){return E0||(E0=1,function(i,e){(function(n,a){i.exports=a(fo())})(cP,n=>(()=>{var a={703:(d,m,g)=>{var v=g(414);function T(){}function S(){}S.resetWarningCache=T,d.exports=function(){function D(z,Y,ue,re,pe,de){if(de!==v){var ge=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ge.name="Invariant Violation",ge}}function M(){return D}D.isRequired=D;var G={array:D,bigint:D,bool:D,func:D,number:D,object:D,string:D,symbol:D,any:D,arrayOf:M,element:D,elementType:D,instanceOf:M,node:D,objectOf:M,oneOf:M,oneOfType:M,shape:M,exact:M,checkPropTypes:S,resetWarningCache:T};return G.PropTypes=G,G}},697:(d,m,g)=>{d.exports=g(703)()},414:d=>{d.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:d=>{d.exports=n}},o={};function u(d){var m=o[d];if(m!==void 0)return m.exports;var g=o[d]={exports:{}};return a[d](g,g.exports,u),g.exports}u.n=d=>{var m=d&&d.__esModule?()=>d.default:()=>d;return u.d(m,{a:m}),m},u.d=(d,m)=>{for(var g in m)u.o(m,g)&&!u.o(d,g)&&Object.defineProperty(d,g,{enumerable:!0,get:m[g]})},u.o=(d,m)=>Object.prototype.hasOwnProperty.call(d,m),u.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var f={};return(()=>{u.r(f),u.d(f,{default:()=>P});var d=u(98),m=u.n(d),g=u(697),v=u.n(g);function T(){return T=Object.assign?Object.assign.bind():function(I){for(var R=1;R<arguments.length;R++){var ne=arguments[R];for(var ee in ne)Object.prototype.hasOwnProperty.call(ne,ee)&&(I[ee]=ne[ee])}return I},T.apply(this,arguments)}var S=function(I){var R=I.pageClassName,ne=I.pageLinkClassName,ee=I.page,q=I.selected,V=I.activeClassName,ie=I.activeLinkClassName,se=I.getEventListener,A=I.pageSelectedHandler,F=I.href,W=I.extraAriaContext,X=I.pageLabelBuilder,he=I.rel,_e=I.ariaLabel||"Page "+ee+(W?" "+W:""),ye=null;return q&&(ye="page",_e=I.ariaLabel||"Page "+ee+" is your current page",R=R!==void 0?R+" "+V:V,ne!==void 0?ie!==void 0&&(ne=ne+" "+ie):ne=ie),m().createElement("li",{className:R},m().createElement("a",T({rel:he,role:F?void 0:"button",className:ne,href:F,tabIndex:q?"-1":"0","aria-label":_e,"aria-current":ye,onKeyPress:A},se(A)),X(ee)))};S.propTypes={pageSelectedHandler:v().func.isRequired,selected:v().bool.isRequired,pageClassName:v().string,pageLinkClassName:v().string,activeClassName:v().string,activeLinkClassName:v().string,extraAriaContext:v().string,href:v().string,ariaLabel:v().string,page:v().number.isRequired,getEventListener:v().func.isRequired,pageLabelBuilder:v().func.isRequired,rel:v().string};const D=S;function M(){return M=Object.assign?Object.assign.bind():function(I){for(var R=1;R<arguments.length;R++){var ne=arguments[R];for(var ee in ne)Object.prototype.hasOwnProperty.call(ne,ee)&&(I[ee]=ne[ee])}return I},M.apply(this,arguments)}var G=function(I){var R=I.breakLabel,ne=I.breakAriaLabel,ee=I.breakClassName,q=I.breakLinkClassName,V=I.breakHandler,ie=I.getEventListener,se=ee||"break";return m().createElement("li",{className:se},m().createElement("a",M({className:q,role:"button",tabIndex:"0","aria-label":ne,onKeyPress:V},ie(V)),R))};G.propTypes={breakLabel:v().oneOfType([v().string,v().node]),breakAriaLabel:v().string,breakClassName:v().string,breakLinkClassName:v().string,breakHandler:v().func.isRequired,getEventListener:v().func.isRequired};const z=G;function Y(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return I??R}function ue(I){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},ue(I)}function re(){return re=Object.assign?Object.assign.bind():function(I){for(var R=1;R<arguments.length;R++){var ne=arguments[R];for(var ee in ne)Object.prototype.hasOwnProperty.call(ne,ee)&&(I[ee]=ne[ee])}return I},re.apply(this,arguments)}function pe(I,R){for(var ne=0;ne<R.length;ne++){var ee=R[ne];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(I,ee.key,ee)}}function de(I,R){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ee){return ne.__proto__=ee,ne},de(I,R)}function ge(I,R){if(R&&(ue(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(I)}function k(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function O(I){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},O(I)}function C(I,R,ne){return R in I?Object.defineProperty(I,R,{value:ne,enumerable:!0,configurable:!0,writable:!0}):I[R]=ne,I}var N=function(I){(function(se,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(A&&A.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),A&&de(se,A)})(ie,I);var R,ne,ee,q,V=(ee=ie,q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var se,A=O(ee);if(q){var F=O(this).constructor;se=Reflect.construct(A,arguments,F)}else se=A.apply(this,arguments);return ge(this,se)});function ie(se){var A,F;return function(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")}(this,ie),C(k(A=V.call(this,se)),"handlePreviousPage",function(W){var X=A.state.selected;A.handleClick(W,null,X>0?X-1:void 0,{isPrevious:!0})}),C(k(A),"handleNextPage",function(W){var X=A.state.selected,he=A.props.pageCount;A.handleClick(W,null,X<he-1?X+1:void 0,{isNext:!0})}),C(k(A),"handlePageSelected",function(W,X){if(A.state.selected===W)return A.callActiveCallback(W),void A.handleClick(X,null,void 0,{isActive:!0});A.handleClick(X,null,W)}),C(k(A),"handlePageChange",function(W){A.state.selected!==W&&(A.setState({selected:W}),A.callCallback(W))}),C(k(A),"getEventListener",function(W){return C({},A.props.eventListener,W)}),C(k(A),"handleClick",function(W,X,he){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ye=_e.isPrevious,Fe=ye!==void 0&&ye,qe=_e.isNext,Yt=qe!==void 0&&qe,$t=_e.isBreak,ft=$t!==void 0&&$t,Xt=_e.isActive,Wt=Xt!==void 0&&Xt;W.preventDefault?W.preventDefault():W.returnValue=!1;var Zt=A.state.selected,tt=A.props.onClick,zt=he;if(tt){var rt=tt({index:X,selected:Zt,nextSelectedPage:he,event:W,isPrevious:Fe,isNext:Yt,isBreak:ft,isActive:Wt});if(rt===!1)return;Number.isInteger(rt)&&(zt=rt)}zt!==void 0&&A.handlePageChange(zt)}),C(k(A),"handleBreakClick",function(W,X){var he=A.state.selected;A.handleClick(X,W,he<W?A.getForwardJump():A.getBackwardJump(),{isBreak:!0})}),C(k(A),"callCallback",function(W){A.props.onPageChange!==void 0&&typeof A.props.onPageChange=="function"&&A.props.onPageChange({selected:W})}),C(k(A),"callActiveCallback",function(W){A.props.onPageActive!==void 0&&typeof A.props.onPageActive=="function"&&A.props.onPageActive({selected:W})}),C(k(A),"getElementPageRel",function(W){var X=A.state.selected,he=A.props,_e=he.nextPageRel,ye=he.prevPageRel,Fe=he.selectedPageRel;return X-1===W?ye:X===W?Fe:X+1===W?_e:void 0}),C(k(A),"pagination",function(){var W=[],X=A.props,he=X.pageRangeDisplayed,_e=X.pageCount,ye=X.marginPagesDisplayed,Fe=X.breakLabel,qe=X.breakClassName,Yt=X.breakLinkClassName,$t=X.breakAriaLabels,ft=A.state.selected;if(_e<=he)for(var Xt=0;Xt<_e;Xt++)W.push(A.getPageElement(Xt));else{var Wt=he/2,Zt=he-Wt;ft>_e-he/2?Wt=he-(Zt=_e-ft):ft<he/2&&(Zt=he-(Wt=ft));var tt,zt,rt=function(Jt){return A.getPageElement(Jt)},lt=[];for(tt=0;tt<_e;tt++){var tr=tt+1;if(tr<=ye)lt.push({type:"page",index:tt,display:rt(tt)});else if(tr>_e-ye)lt.push({type:"page",index:tt,display:rt(tt)});else if(tt>=ft-Wt&&tt<=ft+(ft===0&&he>1?Zt-1:Zt))lt.push({type:"page",index:tt,display:rt(tt)});else if(Fe&&lt.length>0&&lt[lt.length-1].display!==zt&&(he>0||ye>0)){var nr=tt<ft?$t.backward:$t.forward;zt=m().createElement(z,{key:tt,breakAriaLabel:nr,breakLabel:Fe,breakClassName:qe,breakLinkClassName:Yt,breakHandler:A.handleBreakClick.bind(null,tt),getEventListener:A.getEventListener}),lt.push({type:"break",index:tt,display:zt})}}lt.forEach(function(Jt,On){var Hn=Jt;Jt.type==="break"&&lt[On-1]&&lt[On-1].type==="page"&&lt[On+1]&&lt[On+1].type==="page"&&lt[On+1].index-lt[On-1].index<=2&&(Hn={type:"page",index:Jt.index,display:rt(Jt.index)}),W.push(Hn.display)})}return W}),se.initialPage!==void 0&&se.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(se.initialPage,") and forcePage (").concat(se.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),F=se.initialPage?se.initialPage:se.forcePage?se.forcePage:0,A.state={selected:F},A}return R=ie,(ne=[{key:"componentDidMount",value:function(){var se=this.props,A=se.initialPage,F=se.disableInitialCallback,W=se.extraAriaContext,X=se.pageCount,he=se.forcePage;A===void 0||F||this.callCallback(A),W&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(X)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(X,"). Did you forget a Math.ceil()?")),A!==void 0&&A>X-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(A," > ").concat(X-1,").")),he!==void 0&&he>X-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(he," > ").concat(X-1,")."))}},{key:"componentDidUpdate",value:function(se){this.props.forcePage!==void 0&&this.props.forcePage!==se.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(se.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var se=this.state.selected,A=this.props,F=A.pageCount,W=se+A.pageRangeDisplayed;return W>=F?F-1:W}},{key:"getBackwardJump",value:function(){var se=this.state.selected-this.props.pageRangeDisplayed;return se<0?0:se}},{key:"getElementHref",value:function(se){var A=this.props,F=A.hrefBuilder,W=A.pageCount,X=A.hrefAllControls;if(F)return X||se>=0&&se<W?F(se+1,W,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(se){var A=se===this.state.selected;if(this.props.ariaLabelBuilder&&se>=0&&se<this.props.pageCount){var F=this.props.ariaLabelBuilder(se+1,A);return this.props.extraAriaContext&&!A&&(F=F+" "+this.props.extraAriaContext),F}}},{key:"getPageElement",value:function(se){var A=this.state.selected,F=this.props,W=F.pageClassName,X=F.pageLinkClassName,he=F.activeClassName,_e=F.activeLinkClassName,ye=F.extraAriaContext,Fe=F.pageLabelBuilder;return m().createElement(D,{key:se,pageSelectedHandler:this.handlePageSelected.bind(null,se),selected:A===se,rel:this.getElementPageRel(se),pageClassName:W,pageLinkClassName:X,activeClassName:he,activeLinkClassName:_e,extraAriaContext:ye,href:this.getElementHref(se),ariaLabel:this.ariaLabelBuilder(se),page:se+1,pageLabelBuilder:Fe,getEventListener:this.getEventListener})}},{key:"render",value:function(){var se=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&se!==void 0)return se&&se(this.props);var A=this.props,F=A.disabledClassName,W=A.disabledLinkClassName,X=A.pageCount,he=A.className,_e=A.containerClassName,ye=A.previousLabel,Fe=A.previousClassName,qe=A.previousLinkClassName,Yt=A.previousAriaLabel,$t=A.prevRel,ft=A.nextLabel,Xt=A.nextClassName,Wt=A.nextLinkClassName,Zt=A.nextAriaLabel,tt=A.nextRel,zt=this.state.selected,rt=zt===0,lt=zt===X-1,tr="".concat(Y(Fe)).concat(rt?" ".concat(Y(F)):""),nr="".concat(Y(Xt)).concat(lt?" ".concat(Y(F)):""),Jt="".concat(Y(qe)).concat(rt?" ".concat(Y(W)):""),On="".concat(Y(Wt)).concat(lt?" ".concat(Y(W)):""),Hn=rt?"true":"false",ca=lt?"true":"false";return m().createElement("ul",{className:he||_e,role:"navigation","aria-label":"Pagination"},m().createElement("li",{className:tr},m().createElement("a",re({className:Jt,href:this.getElementHref(zt-1),tabIndex:rt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Hn,"aria-label":Yt,rel:$t},this.getEventListener(this.handlePreviousPage)),ye)),this.pagination(),m().createElement("li",{className:nr},m().createElement("a",re({className:On,href:this.getElementHref(zt+1),tabIndex:lt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":ca,"aria-label":Zt,rel:tt},this.getEventListener(this.handleNextPage)),ft)))}}])&&pe(R.prototype,ne),Object.defineProperty(R,"prototype",{writable:!1}),ie}(d.Component);C(N,"propTypes",{pageCount:v().number.isRequired,pageRangeDisplayed:v().number,marginPagesDisplayed:v().number,previousLabel:v().node,previousAriaLabel:v().string,prevPageRel:v().string,prevRel:v().string,nextLabel:v().node,nextAriaLabel:v().string,nextPageRel:v().string,nextRel:v().string,breakLabel:v().oneOfType([v().string,v().node]),breakAriaLabels:v().shape({forward:v().string,backward:v().string}),hrefBuilder:v().func,hrefAllControls:v().bool,onPageChange:v().func,onPageActive:v().func,onClick:v().func,initialPage:v().number,forcePage:v().number,disableInitialCallback:v().bool,containerClassName:v().string,className:v().string,pageClassName:v().string,pageLinkClassName:v().string,pageLabelBuilder:v().func,activeClassName:v().string,activeLinkClassName:v().string,previousClassName:v().string,nextClassName:v().string,previousLinkClassName:v().string,nextLinkClassName:v().string,disabledClassName:v().string,disabledLinkClassName:v().string,breakClassName:v().string,breakLinkClassName:v().string,extraAriaContext:v().string,ariaLabelBuilder:v().func,eventListener:v().string,renderOnZeroPageCount:v().func,selectedPageRel:v().string}),C(N,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(I){return I},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const P=N})(),f})())}(ch)),ch.exports}var fP=hP();const yS=rm(fP);var vS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T0=Qa.createContext&&Qa.createContext(vS),dP=["attr","size","title"];function pP(i,e){if(i==null)return{};var n=mP(i,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(n[a]=i[a])}return n}function mP(i,e){if(i==null)return{};var n={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function Mh(){return Mh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},Mh.apply(this,arguments)}function b0(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function xh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b0(Object(n),!0).forEach(function(a){gP(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function gP(i,e,n){return e=yP(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function yP(i){var e=vP(i,"string");return typeof e=="symbol"?e:e+""}function vP(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function _S(i){return i&&i.map((e,n)=>Qa.createElement(e.tag,xh({key:n},e.attr),_S(e.child)))}function sf(i){return e=>Qa.createElement(_P,Mh({attr:xh({},i.attr)},e),_S(i.child))}function _P(i){var e=n=>{var{attr:a,size:o,title:u}=i,f=pP(i,dP),d=o||n.size||"1em",m;return n.className&&(m=n.className),i.className&&(m=(m?m+" ":"")+i.className),Qa.createElement("svg",Mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:m,style:xh(xh({color:i.color||n.color},n.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&Qa.createElement("title",null,u),i.children)};return T0!==void 0?Qa.createElement(T0.Consumer,null,n=>e(n)):e(vS)}function ES(i){return sf({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function TS(i){return sf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function Tr(i){return sf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"},child:[]}]})(i)}function bS(i){return sf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}class SS{constructor(e){this.collectionName=e,this.collectionRef=zN(lP,e)}async create(e){try{return(await aP(this.collectionRef,e)).id}catch(n){throw console.error("Error adding document: ",n),n}}async read(e){try{const n=lh(this.collectionRef,e),a=await tP(n);if(!a.exists())throw new Error("Document does not exist");return a.data()}catch(n){throw console.error("[FirestoreService] Read error:",n),n}}async readAll(){try{return(await nP(this.collectionRef)).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("Error reading documents: ",e),e}}async update(e,n){try{const a=lh(this.collectionRef,e);await rP(a,n)}catch(a){throw console.error("Error updating document: ",a),a}}async delete(e){try{const n=lh(this.collectionRef,e);await iP(n)}catch(n){throw console.error("Error deleting document: ",n),n}}}const Ao=new SS("instruments"),EP=async i=>{try{return!(await Ao.readAll()).some(n=>n.code===i)}catch(e){throw console.error("Error checking code uniqueness:",e),e}},TP=async i=>{if(!await EP(i.code)){console.error("Code instrument already exists");return}try{const e=await Ao.create(i);return console.log("Instrument created with ID:",e),e}catch(e){throw console.error("Error creating instrument:",e),e}},of=async i=>{try{const e=await Ao.read(i);return console.log("Instrument data:",e),e}catch(e){throw console.error("Error reading instrument:",e),e}},ig=async()=>{try{return await Ao.readAll()}catch(i){throw console.error("Error reading instruments:",i),i}},ag=async(i,e)=>{try{await Ao.update(i,e),console.log("Instrument updated")}catch(n){throw console.error("Error updating instrument:",n),n}},bP=async i=>{try{await Ao.delete(i),console.log("Instrument deleted")}catch(e){throw console.error("Error deleting instrument:",e),e}},SP=async()=>{try{return(await ig()).filter(e=>e.isFree)}catch(i){throw console.error("Error getting available instruments:",i),i}},AS=async i=>{try{const e=await of(i);await ag(i,{...e,isFree:!0,playerId:null}),console.log("Instrument libr")}catch(e){throw console.error("Error setting free instrument:",e),e}},wS=async(i,e)=>{try{const n=await of(i);await ag(i,{...n,isFree:!1,playerId:e}),console.log("Instrument affect au joueur",e)}catch(n){throw console.error("Error affecting instrument : ",n),n}},wo=new SS("players"),sa=i=>typeof i=="string"?i:i==null?void 0:i.id,RS=async(i,e=null)=>{const n=sa(i);return(await wo.readAll()).some(o=>sa(o.instrumentId)===n&&o.id!==e)},AP=async i=>{if(i.instrumentId&&await RS(i.instrumentId))throw new Error("Instrument is already assigned to another player");try{const e=sa(i.instrumentId),n=await wo.create({...i,instrumentId:e,lastname:i.lastname.toUpperCase()});return e&&n&&await wS(e,n),n}catch(e){throw console.error("[PlayerService] Create error:",e),e}},CS=async i=>{try{const e=await wo.read(i),n=sa(e.instrumentId);return n&&(e.instrument=await of(n)),e}catch(e){throw console.error("[PlayerService] Read error:",e),e}},IS=async()=>{try{const i=await wo.readAll();return await Promise.all(i.map(async n=>{const a=sa(n.instrumentId);return a&&(n.instrument=await of(a)),n}))}catch(i){throw console.error("[PlayerService] ReadAll error:",i),i}},wP=async(i,e)=>{const n=sa(e.instrumentId);if(n&&await RS(n,i))throw new Error("Instrument is already assigned to another player");try{const a=await CS(i),o=sa(a.instrumentId);return o&&o!==n&&await AS(o),n&&o!==n&&await wS(n,i),await wo.update(i,{...e,instrumentId:n,lastname:e.lastname.toUpperCase()}),!0}catch(a){throw console.error("[PlayerService] Update error:",a),a}},RP=async i=>{try{const e=await CS(i),n=sa(e.instrumentId);n&&await AS(n),await wo.delete(i)}catch(e){throw console.error("[PlayerService] Delete error:",e),e}},CP=({player:i,onChange:e,onSubmit:n,onCancel:a,submitLabel:o,isEditing:u,filterPupitre:f})=>{const[d,m]=$.useState([]);$.useEffect(()=>{(async()=>{try{const S=await SP(),D=f?S.filter(M=>M.pupitre===f):S;m(D)}catch(S){console.error("Erreur chargement instruments disponibles:",S)}})()},[f]);const g={firstname:i.firstname,lastname:i.lastname,nickname:i.nickname,pupitre:i.pupitre,instrumentId:i.instrumentId},v=async T=>{T.preventDefault();try{u?await wP(i.id,g):await AP(g),n()}catch(S){console.error("Erreur lors de la soumission du formulaire :",S)}};return J.jsxs("form",{onSubmit:v,className:"formulaire",children:[J.jsx("input",{type:"text",placeholder:"Prnom",value:i.firstname||"",onChange:T=>e(S=>({...S,firstname:T.target.value})),required:!0}),J.jsx("input",{type:"text",placeholder:"Nom",value:i.lastname||"",onChange:T=>e(S=>({...S,lastname:T.target.value.toUpperCase()})),required:!0}),J.jsx("input",{type:"text",placeholder:"Surnom",value:i.nickname||" ",onChange:T=>e(S=>({...S,nickname:T.target.value}))}),J.jsxs("div",{className:"form-pupitre",children:[J.jsx("p",{children:"Pupitre"}),J.jsxs("select",{value:i.pupitre,onChange:T=>e(S=>({...S,pupitre:T.target.value,instrumentId:""})),children:[J.jsx("option",{value:"",children:"Slectionnez un pupitre"}),J.jsx("option",{value:"Caixa",children:"Caixa"}),J.jsx("option",{value:"Dobra",children:"Dobra"}),J.jsx("option",{value:"Basse 1",children:"Basse 1"}),J.jsx("option",{value:"Basse 2",children:"Basse 2"}),J.jsx("option",{value:"Repinique",children:"Rpinique"})]})]}),J.jsxs("select",{value:i.instrumentId||"",onChange:T=>e(S=>({...S,instrumentId:T.target.value})),children:[J.jsx("option",{value:"",children:"-- Choisir un instrument --"}),d.map(T=>J.jsx("option",{value:T.id,children:T.code},T.id))]}),J.jsxs("div",{className:"form-actions",children:[J.jsx("button",{type:"submit",children:o}),J.jsx("button",{type:"button",onClick:a,children:"Annuler"})]})]})},IP={firstname:"",lastname:"",nickname:"",pupitre:"",instrumentId:""},OP=({searchTerm:i})=>{const[e,n]=$.useState([]),[a,o]=$.useState(null),[u,f]=$.useState(!1),[d,m]=$.useState(!1),[g,v]=$.useState({key:null,direction:"ascending"}),[T,S]=$.useState(0),D=10;$.useEffect(()=>{M()},[]);const M=async()=>{try{const C=await IS();n(C)}catch(C){console.error("Erreur lors du chargement des joueurs :",C)}},G=C=>{S(C.selected)},z=C=>{o(C),m(!0),f(!0)},Y=()=>{o(null),m(!1),f(!0)},ue=()=>{f(!1),o(null)},re=async()=>{ue(),await M()},pe=async C=>{if(window.confirm("tes-vous sr de vouloir supprimer ce joueur?"))try{await RP(C),n(N=>N.filter(P=>P.id!==C))}catch(N){console.error("Erreur suppression joueur:",N)}},de=C=>{let N="ascending";g.key===C&&g.direction==="ascending"&&(N="descending"),v({key:C,direction:N})},k=(g.key?[...e].sort((C,N)=>{const P=g.key==="instrument"?C.instrument?C.instrument.code:"":C[g.key],I=g.key==="instrument"?N.instrument?N.instrument.code:"":N[g.key];return P<I?g.direction==="ascending"?-1:1:P>I?g.direction==="ascending"?1:-1:0}):e).filter(C=>C.firstname.toLowerCase().includes(i.toLowerCase())||C.lastname.toLowerCase().includes(i.toLowerCase())||C.nickname.toLowerCase().includes(i.toLowerCase())),O=k.slice(T*D,(T+1)*D);return J.jsxs("div",{className:"table-list",children:[J.jsxs("table",{children:[J.jsx("thead",{children:J.jsxs("tr",{children:[J.jsxs("th",{className:"th-order",onClick:()=>de("firstname"),children:["Prnom ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>de("lastname"),children:["Nom ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>de("nickname"),children:["Surnom ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>de("pupitre"),children:["Pupitre ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>de("instrument"),children:["Instrument ",J.jsx(Tr,{})]}),J.jsxs("th",{children:["Actions ",J.jsx("button",{className:"create-icon",onClick:Y,children:J.jsx(TS,{})})]})]})}),J.jsx("tbody",{children:O.map(C=>J.jsxs("tr",{children:[J.jsx("td",{children:C.firstname}),J.jsx("td",{children:C.lastname}),J.jsx("td",{children:C.nickname}),J.jsx("td",{children:C.pupitre}),J.jsx("td",{children:C.instrument?C.instrument.code:"Aucun"}),J.jsxs("td",{children:[J.jsx("button",{className:"edit-icon",onClick:()=>z(C),children:J.jsx(ES,{})}),J.jsx("button",{className:"trash-icon",onClick:()=>pe(C.id),children:J.jsx(bS,{})})]})]},C.id))})]}),J.jsx(yS,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",pageCount:Math.ceil(k.length/D),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:G,containerClassName:"pagination",activeClassName:"active"}),J.jsxs(hm,{isOpen:u,onRequestClose:ue,contentLabel:"Formulaire Joueur",children:[J.jsx("h2",{children:a?"Modifier un joueur":"Crer un joueur"}),J.jsx(CP,{player:a||IP,onChange:o,onSubmit:re,onCancel:ue,submitLabel:d?"Mettre  jour":"Crer",isEditing:d})]})]})},OS=$.createContext(),DP=({children:i})=>{const[e,n]=$.useState([]),[a,o]=$.useState([]);return $.useEffect(()=>{const u=async()=>{const d=await IS();n(d)},f=async()=>{const d=await ig();o(d)};u(),f()},[]),J.jsx(OS.Provider,{value:{players:e,setPlayers:n,instruments:a,setInstruments:o},children:i})},NP=()=>$.useContext(OS),PP=({instrument:i,onChange:e,onSubmit:n,onCancel:a,submitLabel:o,isEditing:u})=>{const f=async d=>{d.preventDefault();try{const m={code:i.code,hasLight:i.hasLight,isFree:i.isFree,isSticked:i.isSticked,observation:i.observation,pupitre:i.pupitre};u?await ag(i.id,m):await TP(m),n()}catch(m){console.error("Erreur lors de la soumission du formulaire : ",m)}};return J.jsxs("form",{onSubmit:f,className:"formulaire",children:[J.jsx("input",{type:"text",placeholder:"Code",value:i.code||"",onChange:d=>e({...i,code:d.target.value}),required:!0}),J.jsxs("label",{children:[J.jsx("input",{type:"checkbox",checked:i.hasLight,onChange:d=>e({...i,hasLight:d.target.checked})})," Lumire"]}),J.jsxs("label",{children:[J.jsx("input",{type:"checkbox",checked:i.isFree,onChange:d=>e({...i,isFree:d.target.checked})})," Disponible"]}),J.jsxs("label",{children:[J.jsx("input",{type:"checkbox",checked:i.isSticked,onChange:d=>e({...i,isSticked:d.target.checked})})," Stick"]}),J.jsx("input",{type:"text",placeholder:"Observation",value:i.observation||"",onChange:d=>e({...i,observation:d.target.value})}),J.jsxs("select",{value:i.pupitre||"",onChange:d=>e({...i,pupitre:d.target.value}),children:[J.jsx("option",{value:"",children:"Slectionnez un pupitre"}),J.jsx("option",{value:"Caixa",children:"Caixa"}),J.jsx("option",{value:"Dobra",children:"Dobra"}),J.jsx("option",{value:"Basse 1",children:"Basse 1"}),J.jsx("option",{value:"Basse 2",children:"Basse 2"}),J.jsx("option",{value:"Repinique",children:"Rpinique"})]}),J.jsxs("div",{className:"form-actions",children:[J.jsx("button",{type:"submit",children:o}),J.jsx("button",{type:"button",onClick:a,children:"Annuler"})]})]})},MP={code:"",hasLight:!1,isFree:!0,isSticked:!0,observation:"",playerId:"",pupitre:""},xP=({searchTerm:i})=>{const{instruments:e,setInstruments:n}=NP(),[a,o]=$.useState(null),[u,f]=$.useState(!1),[d,m]=$.useState(!1),[g,v]=$.useState({key:null,direction:"ascending"}),[T,S]=$.useState(0),D=10,M=async()=>{try{const N=await ig();n(N)}catch(N){console.error("Erreur lors du chargement des instruments: ",N)}};$.useEffect(()=>{M()},[]);const G=N=>{S(N.selected)},z=N=>{o(N),m(!0),f(!0)},Y=()=>{o(null),m(!1),f(!0)},ue=()=>{f(!1),o(null)},re=async()=>{ue(),await M()},pe=N=>{o(N)},de=async N=>{if(window.confirm("tes-vous sr de vouloir supprimer cet instrument?"))try{await bP(N),n(P=>P.filter(I=>I.id!==N))}catch(P){console.error("Erreur  la suppression",P)}},ge=N=>{let P="ascending";g.key===N&&g.direction==="ascending"&&(P="descending"),v({key:N,direction:P})},O=(g.key?[...e].sort((N,P)=>{let I=N[g.key],R=P[g.key];return typeof I=="boolean"&&(I=I?1:0,R=R?1:0),I<R?g.direction==="ascending"?-1:1:I>R?g.direction==="ascending"?1:-1:0}):e).filter(N=>N.code.toLowerCase().includes(i.toLowerCase())),C=O.slice(T*D,(T+1)*D);return J.jsxs("div",{className:"table-list",children:[J.jsxs("table",{children:[J.jsx("thead",{children:J.jsxs("tr",{children:[J.jsxs("th",{className:"th-order",onClick:()=>ge("code"),children:["Instrument ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>ge("hasLight"),children:["Lumire ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>ge("isFree"),children:["Disponible ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>ge("pupitre"),children:["Pupitre ",J.jsx(Tr,{})]}),J.jsxs("th",{className:"th-order",onClick:()=>ge("isSticked"),children:["Stick ",J.jsx(Tr,{})]}),J.jsx("th",{className:"th-order",onClick:()=>ge("observation"),children:"Observation"}),J.jsxs("th",{children:["Actions ",J.jsx("button",{className:"create-icon",onClick:Y,children:J.jsx(TS,{})})]})]})}),J.jsx("tbody",{children:C.map(N=>J.jsxs("tr",{children:[J.jsx("td",{children:N.code}),J.jsx("td",{children:N.hasLight?"Oui":"Non"}),J.jsx("td",{children:N.isFree?"Oui":"Non"}),J.jsx("td",{children:N.pupitre}),J.jsx("td",{children:N.isSticked?"Oui":"Non"}),J.jsx("td",{children:N.observation}),J.jsxs("td",{children:[J.jsx("button",{className:"edit-icon",onClick:()=>z(N),children:J.jsx(ES,{})}),J.jsx("button",{className:"trash-icon",onClick:()=>de(N.id),children:J.jsx(bS,{})})]})]},N.id))})]}),J.jsx(yS,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",pageCount:Math.ceil(O.length/D),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:G,containerClassName:"pagination",activeClassName:"active"}),J.jsxs(hm,{isOpen:u,onRequestClose:ue,contentLabel:"Formulaire Instrument",children:[J.jsx("h2",{children:a?"Modifier un instrument":"Crer un instrument"}),J.jsx(PP,{instrument:a||MP,onChange:pe,onSubmit:re,onCancel:ue,submitLabel:d?"Mettre  jour":"Crer",isEditing:d})]})]})},kP=({onSearch:i})=>{const e=am(),n=$.useRef(null),a=$.useRef(null),[o,u]=$.useState(!1),[f,d]=$.useState("");$.useEffect(()=>{const v=T=>{n.current&&!n.current.contains(T.target)&&a.current&&!a.current.contains(T.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const m=v=>{d(v.target.value),i(v.target.value)},g=async()=>{try{await OI(ql),e("instrus/login")}catch(v){console.error("Error logging out:",v)}};return J.jsxs(J.Fragment,{children:[J.jsx("button",{ref:a,className:"menu-button","aria-label":"Ouvrir le menu","aria-expanded":o,"aria-controls":"nav-menu",onClick:()=>u(v=>!v),children:""}),J.jsx("nav",{className:`nav ${o?"open":""}`,ref:n,id:"nav-menu",role:"navigation","aria-label":"Menu principal",children:J.jsxs("ul",{children:[J.jsx("li",{children:J.jsx(fh,{to:"instrus/players",children:"Joueurs"})}),J.jsx("li",{children:J.jsx(fh,{to:"instrus/instruments",children:"Instruments"})}),J.jsx("li",{children:J.jsx("input",{type:"text",placeholder:"Rechercher...",value:f,onChange:m})}),J.jsx("li",{children:J.jsx("button",{onClick:g,children:"Logout"})})]})})]})},VP=()=>{hm.setAppElement("#root");const[i,e]=$.useState("");return J.jsx(DP,{children:J.jsxs(SR,{children:[J.jsx(kP,{onSearch:e}),J.jsxs(Jw,{children:[J.jsx(Xc,{path:"instrus/login",element:J.jsx(uP,{})}),J.jsx(Xc,{path:"instrus/players",element:J.jsx(OP,{searchTerm:i})}),J.jsx(Xc,{path:"instrus/instruments",element:J.jsx(xP,{searchTerm:i})})]})]})})};uw.createRoot(document.getElementById("root")).render(J.jsx($.StrictMode,{children:J.jsx(VP,{})}));
